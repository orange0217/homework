{
  "version": 4,
  "terraform_version": "1.6.5",
  "serial": 36,
  "lineage": "9b781c14-9d9f-6afa-f632-6c20cc3031aa",
  "outputs": {
    "kube_config": {
      "value": "./config.yaml",
      "type": "string"
    },
    "password": {
      "value": "password123",
      "type": "string"
    },
    "public_ip": {
      "value": "43.129.215.148",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "tencentcloud_availability_zones_by_product",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/tencentcloudstack/tencentcloud\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1851109860",
            "include_unavailable": null,
            "name": null,
            "product": "cvm",
            "result_output_file": null,
            "zones": [
              {
                "description": "Hong Kong Zone 2",
                "id": "300002",
                "name": "ap-hongkong-2",
                "state": "AVAILABLE"
              },
              {
                "description": "Hong Kong Zone 3",
                "id": "300003",
                "name": "ap-hongkong-3",
                "state": "AVAILABLE"
              }
            ]
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "tencentcloud_images",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/tencentcloudstack/tencentcloud\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "363083216",
            "image_id": null,
            "image_name_regex": null,
            "image_type": [
              "PUBLIC_IMAGE"
            ],
            "images": [
              {
                "architecture": "x86_64",
                "created_time": "",
                "image_creator": "",
                "image_description": "Ubuntu Server 22.04 LTS 64bit",
                "image_id": "img-487zeit5",
                "image_name": "Ubuntu Server 22.04 LTS 64bit",
                "image_size": 20,
                "image_source": "OFFICIAL",
                "image_state": "NORMAL",
                "image_type": "PUBLIC_IMAGE",
                "os_name": "Ubuntu Server 22.04 LTS 64bit",
                "platform": "Ubuntu",
                "snapshots": [],
                "support_cloud_init": true,
                "sync_percent": 0
              },
              {
                "architecture": "x86_64",
                "created_time": "",
                "image_creator": "",
                "image_description": "Ubuntu Server 20.04 LTS 64bit",
                "image_id": "img-22trbn9x",
                "image_name": "Ubuntu Server 20.04 LTS 64bit",
                "image_size": 20,
                "image_source": "OFFICIAL",
                "image_state": "NORMAL",
                "image_type": "PUBLIC_IMAGE",
                "os_name": "Ubuntu Server 20.04 LTS 64bit",
                "platform": "Ubuntu",
                "snapshots": [],
                "support_cloud_init": true,
                "sync_percent": 0
              },
              {
                "architecture": "x86_64",
                "created_time": "",
                "image_creator": "",
                "image_description": "Ubuntu Server 20.04 LTS 64bit GRID11.1",
                "image_id": "img-j10l2cnz",
                "image_name": "Ubuntu Server 20.04 LTS 64bit GRID11.1",
                "image_size": 20,
                "image_source": "OFFICIAL",
                "image_state": "NORMAL",
                "image_type": "PUBLIC_IMAGE",
                "os_name": "Ubuntu Server 20.04 LTS 64bit GRID11.1",
                "platform": "Ubuntu",
                "snapshots": [],
                "support_cloud_init": true,
                "sync_percent": 0
              },
              {
                "architecture": "arm",
                "created_time": "",
                "image_creator": "",
                "image_description": "Ubuntu 20.04(arm64)",
                "image_id": "img-2eokmhf5",
                "image_name": "Ubuntu 20.04(arm64)",
                "image_size": 20,
                "image_source": "OFFICIAL",
                "image_state": "NORMAL",
                "image_type": "PUBLIC_IMAGE",
                "os_name": "Ubuntu 20.04(arm64)",
                "platform": "Ubuntu",
                "snapshots": [],
                "support_cloud_init": true,
                "sync_percent": 0
              },
              {
                "architecture": "x86_64",
                "created_time": "",
                "image_creator": "",
                "image_description": "Ubuntu Server 18.04 LTS 64bit",
                "image_id": "img-pi0ii46r",
                "image_name": "Ubuntu Server 18.04 LTS 64bit",
                "image_size": 20,
                "image_source": "OFFICIAL",
                "image_state": "NORMAL",
                "image_type": "PUBLIC_IMAGE",
                "os_name": "Ubuntu Server 18.04 LTS 64bit",
                "platform": "Ubuntu",
                "snapshots": [],
                "support_cloud_init": true,
                "sync_percent": 0
              },
              {
                "architecture": "arm",
                "created_time": "",
                "image_creator": "",
                "image_description": "Ubuntu 18.04(arm64)",
                "image_id": "img-9eh8c1p1",
                "image_name": "Ubuntu 18.04(arm64)",
                "image_size": 20,
                "image_source": "OFFICIAL",
                "image_state": "NORMAL",
                "image_type": "PUBLIC_IMAGE",
                "os_name": "Ubuntu 18.04(arm64)",
                "platform": "Ubuntu",
                "snapshots": [],
                "support_cloud_init": true,
                "sync_percent": 0
              },
              {
                "architecture": "x86_64",
                "created_time": "",
                "image_creator": "",
                "image_description": "Ubuntu Server 16.04 LTS 64bit",
                "image_id": "img-pyqx34y1",
                "image_name": "Ubuntu Server 16.04 LTS 64bit",
                "image_size": 20,
                "image_source": "OFFICIAL",
                "image_state": "NORMAL",
                "image_type": "PUBLIC_IMAGE",
                "os_name": "Ubuntu Server 16.04 LTS 64bit",
                "platform": "Ubuntu",
                "snapshots": [],
                "support_cloud_init": true,
                "sync_percent": 0
              },
              {
                "architecture": "i386",
                "created_time": "",
                "image_creator": "",
                "image_description": "Ubuntu Server 16.04 LTS 32bit",
                "image_id": "img-8u6dn6p1",
                "image_name": "Ubuntu Server 16.04 LTS 32bit",
                "image_size": 20,
                "image_source": "OFFICIAL",
                "image_state": "NORMAL",
                "image_type": "PUBLIC_IMAGE",
                "os_name": "Ubuntu Server 16.04 LTS 32bit",
                "platform": "Ubuntu",
                "snapshots": [],
                "support_cloud_init": true,
                "sync_percent": 0
              },
              {
                "architecture": "x86_64",
                "created_time": "",
                "image_creator": "",
                "image_description": "Ubuntu Server 14.04 LTS 64bit",
                "image_id": "img-3wnd9xpl",
                "image_name": "Ubuntu Server 14.04 LTS 64bit",
                "image_size": 20,
                "image_source": "OFFICIAL",
                "image_state": "NORMAL",
                "image_type": "PUBLIC_IMAGE",
                "os_name": "Ubuntu Server 14.04 LTS 64bit",
                "platform": "Ubuntu",
                "snapshots": [],
                "support_cloud_init": true,
                "sync_percent": 0
              },
              {
                "architecture": "i386",
                "created_time": "",
                "image_creator": "",
                "image_description": "Ubuntu Server 14.04 LTS 32bit",
                "image_id": "img-qpxvpujt",
                "image_name": "Ubuntu Server 14.04 LTS 32bit",
                "image_size": 50,
                "image_source": "OFFICIAL",
                "image_state": "NORMAL",
                "image_type": "PUBLIC_IMAGE",
                "os_name": "Ubuntu Server 14.04 LTS 32bit",
                "platform": "Ubuntu",
                "snapshots": [],
                "support_cloud_init": false,
                "sync_percent": 0
              }
            ],
            "instance_type": null,
            "os_name": "ubuntu",
            "result_output_file": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "tencentcloud_instance_types",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/tencentcloudstack/tencentcloud\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "availability_zone": null,
            "cpu_core_count": 2,
            "exclude_sold_out": false,
            "filter": [
              {
                "name": "instance-family",
                "values": [
                  "S5"
                ]
              }
            ],
            "gpu_core_count": null,
            "id": "3086429807",
            "instance_types": [
              {
                "availability_zone": "ap-hongkong-2",
                "cpu_core_count": 2,
                "family": "S5",
                "gpu_core_count": 0,
                "instance_charge_type": "PREPAID",
                "instance_type": "S5.MEDIUM4",
                "memory_size": 4,
                "status": "SELL"
              },
              {
                "availability_zone": "ap-hongkong-3",
                "cpu_core_count": 2,
                "family": "S5",
                "gpu_core_count": 0,
                "instance_charge_type": "PREPAID",
                "instance_type": "S5.MEDIUM4",
                "memory_size": 4,
                "status": "SELL"
              },
              {
                "availability_zone": "ap-hongkong-2",
                "cpu_core_count": 2,
                "family": "S5",
                "gpu_core_count": 0,
                "instance_charge_type": "POSTPAID_BY_HOUR",
                "instance_type": "S5.MEDIUM4",
                "memory_size": 4,
                "status": "SELL"
              },
              {
                "availability_zone": "ap-hongkong-3",
                "cpu_core_count": 2,
                "family": "S5",
                "gpu_core_count": 0,
                "instance_charge_type": "POSTPAID_BY_HOUR",
                "instance_type": "S5.MEDIUM4",
                "memory_size": 4,
                "status": "SELL"
              },
              {
                "availability_zone": "ap-hongkong-2",
                "cpu_core_count": 2,
                "family": "S5",
                "gpu_core_count": 0,
                "instance_charge_type": "SPOTPAID",
                "instance_type": "S5.MEDIUM4",
                "memory_size": 4,
                "status": "SELL"
              },
              {
                "availability_zone": "ap-hongkong-3",
                "cpu_core_count": 2,
                "family": "S5",
                "gpu_core_count": 0,
                "instance_charge_type": "SPOTPAID",
                "instance_type": "S5.MEDIUM4",
                "memory_size": 4,
                "status": "SELL"
              }
            ],
            "memory_size": 4,
            "result_output_file": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "helm_release",
      "name": "argo_cd",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "argo-cd",
            "cleanup_on_fail": false,
            "create_namespace": true,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "argocd",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "v2.9.3",
                "chart": "argo-cd",
                "name": "argocd",
                "namespace": "argocd",
                "revision": 1,
                "values": "{}",
                "version": "5.51.6"
              }
            ],
            "name": "argocd",
            "namespace": "argocd",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://argoproj.github.io/argo-helm",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": null,
            "verify": false,
            "version": "5.51.6",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.tencentcloud_availability_zones_by_product.default",
            "data.tencentcloud_images.default",
            "data.tencentcloud_instance_types.default",
            "local_sensitive_file.kubeconfig",
            "module.k3s.data.http.k3s_installer",
            "module.k3s.data.http.k3s_version",
            "module.k3s.null_resource.agents_annotation",
            "module.k3s.null_resource.agents_drain",
            "module.k3s.null_resource.agents_install",
            "module.k3s.null_resource.agents_label",
            "module.k3s.null_resource.agents_taint",
            "module.k3s.null_resource.k8s_ca_certificates_install",
            "module.k3s.null_resource.kubernetes_ready",
            "module.k3s.null_resource.servers_annotation",
            "module.k3s.null_resource.servers_drain",
            "module.k3s.null_resource.servers_install",
            "module.k3s.null_resource.servers_label",
            "module.k3s.null_resource.servers_taint",
            "module.k3s.random_password.k3s_cluster_secret",
            "module.k3s.tls_cert_request.master_user",
            "module.k3s.tls_locally_signed_cert.master_user",
            "module.k3s.tls_private_key.kubernetes_ca",
            "module.k3s.tls_private_key.master_user",
            "module.k3s.tls_self_signed_cert.kubernetes_ca_certs",
            "tencentcloud_instance.web",
            "tencentcloud_security_group.default",
            "tencentcloud_security_group_lite_rule.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "helm_release",
      "name": "crossplane",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "crossplane",
            "cleanup_on_fail": false,
            "create_namespace": true,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "crossplane",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "1.14.4",
                "chart": "crossplane",
                "name": "crossplane",
                "namespace": "crossplane-system",
                "revision": 1,
                "values": "{}",
                "version": "1.14.4"
              }
            ],
            "name": "crossplane",
            "namespace": "crossplane-system",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://charts.crossplane.io/stable",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": null,
            "verify": false,
            "version": "1.14.4",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.tencentcloud_availability_zones_by_product.default",
            "data.tencentcloud_images.default",
            "data.tencentcloud_instance_types.default",
            "local_sensitive_file.kubeconfig",
            "module.k3s.data.http.k3s_installer",
            "module.k3s.data.http.k3s_version",
            "module.k3s.null_resource.agents_annotation",
            "module.k3s.null_resource.agents_drain",
            "module.k3s.null_resource.agents_install",
            "module.k3s.null_resource.agents_label",
            "module.k3s.null_resource.agents_taint",
            "module.k3s.null_resource.k8s_ca_certificates_install",
            "module.k3s.null_resource.kubernetes_ready",
            "module.k3s.null_resource.servers_annotation",
            "module.k3s.null_resource.servers_drain",
            "module.k3s.null_resource.servers_install",
            "module.k3s.null_resource.servers_label",
            "module.k3s.null_resource.servers_taint",
            "module.k3s.random_password.k3s_cluster_secret",
            "module.k3s.tls_cert_request.master_user",
            "module.k3s.tls_locally_signed_cert.master_user",
            "module.k3s.tls_private_key.kubernetes_ca",
            "module.k3s.tls_private_key.master_user",
            "module.k3s.tls_self_signed_cert.kubernetes_ca_certs",
            "tencentcloud_instance.web",
            "tencentcloud_security_group.default",
            "tencentcloud_security_group_lite_rule.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "helm_release",
      "name": "ingress-nginx",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "ingress-nginx",
            "cleanup_on_fail": false,
            "create_namespace": true,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "ingress-nginx",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "1.9.4",
                "chart": "ingress-nginx",
                "name": "ingress-nginx",
                "namespace": "ingress-nginx",
                "revision": 1,
                "values": "{}",
                "version": "4.8.4"
              }
            ],
            "name": "ingress-nginx",
            "namespace": "ingress-nginx",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://kubernetes.github.io/ingress-nginx",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": null,
            "verify": false,
            "version": "4.8.4",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.tencentcloud_availability_zones_by_product.default",
            "data.tencentcloud_images.default",
            "data.tencentcloud_instance_types.default",
            "local_sensitive_file.kubeconfig",
            "module.k3s.data.http.k3s_installer",
            "module.k3s.data.http.k3s_version",
            "module.k3s.null_resource.agents_annotation",
            "module.k3s.null_resource.agents_drain",
            "module.k3s.null_resource.agents_install",
            "module.k3s.null_resource.agents_label",
            "module.k3s.null_resource.agents_taint",
            "module.k3s.null_resource.k8s_ca_certificates_install",
            "module.k3s.null_resource.kubernetes_ready",
            "module.k3s.null_resource.servers_annotation",
            "module.k3s.null_resource.servers_drain",
            "module.k3s.null_resource.servers_install",
            "module.k3s.null_resource.servers_label",
            "module.k3s.null_resource.servers_taint",
            "module.k3s.random_password.k3s_cluster_secret",
            "module.k3s.tls_cert_request.master_user",
            "module.k3s.tls_locally_signed_cert.master_user",
            "module.k3s.tls_private_key.kubernetes_ca",
            "module.k3s.tls_private_key.master_user",
            "module.k3s.tls_self_signed_cert.kubernetes_ca_certs",
            "tencentcloud_instance.web",
            "tencentcloud_security_group.default",
            "tencentcloud_security_group_lite_rule.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_sensitive_file",
      "name": "kubeconfig",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "\"apiVersion\": \"v1\"\n\"clusters\":\n- \"cluster\":\n    \"certificate-authority-data\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJ2akNDQVVPZ0F3SUJBZ0lRSENWSzl6UzBWMk5PSUJkK3pMSTNFakFLQmdncWhrak9QUVFEQXpBZk1SMHcKR3dZRFZRUURFeFJyZFdKbGNtNWxkR1Z6TFhObGNuWmxjaTFqWVRBZ0Z3MHlNekV5TWpBd01UVTFOVGhhR0E4eQpNVEl6TVRJeU1UQXhOVFUxT0Zvd0h6RWRNQnNHQTFVRUF4TVVhM1ZpWlhKdVpYUmxjeTF6WlhKMlpYSXRZMkV3CmRqQVFCZ2NxaGtqT1BRSUJCZ1VyZ1FRQUlnTmlBQVN0Ky94ZThHZ2ZsTExxeGZwNkdFc3YrcFJWeFJsKzZNQXIKY01pZ0FVY1BKTStjSGtmYU1hc1U4UHNydzNCRWFMS2hWVXRXdFkrUElKUnZ3RmlPV2RueUhIYm5JN3BRcFBjaQpkNWI4bnFQT0N2N2lOdi9MREF3eG5GRHMwNUVGSld5alFqQkFNQTRHQTFVZER3RUIvd1FFQXdJQ3BEQVBCZ05WCkhSTUJBZjhFQlRBREFRSC9NQjBHQTFVZERnUVdCQlJHSStyWWNka2oreDJzeDFUVzhpMU9HNU9oYWpBS0JnZ3EKaGtqT1BRUURBd05wQURCbUFqRUF2aHBzQVJXTVR0OFVyUEk3ZlJGNGlxZG1TT05VeUZ2Rk9qb2Y0U3d3YUdXMgpiQzF1a0tWSVZZNGhNdjdFMlp4L0FqRUFpYW1rdjg4SXhnbnhudnRVb2hiMjlTUzk3Umt3R01KRlZ0elVabmdXClMzMmRLWmFhZmVaejRsMWZlRWR5QnUzRwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==\"\n    \"server\": \"https://43.129.215.148:6443\"\n  \"name\": \"cluster.local\"\n\"contexts\":\n- \"context\":\n    \"cluster\": \"cluster.local\"\n    \"user\": \"master-user\"\n  \"name\": \"cluster.local\"\n\"current-context\": \"cluster.local\"\n\"kind\": \"Config\"\n\"preferences\": {}\n\"users\":\n- \"name\": \"master-user\"\n  \"user\":\n    \"client-certificate-data\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUI0ekNDQVdpZ0F3SUJBZ0lSQUtpakhKU2tZSDVEeUZkVWQvUjdJMzh3Q2dZSUtvWkl6ajBFQXdNd0h6RWQKTUJzR0ExVUVBeE1VYTNWaVpYSnVaWFJsY3kxamJHbGxiblF0WTJFd0lCY05Nak14TWpJd01ERTFOVFU0V2hnUApNakV5TXpFeU1qRXdNVFUxTlRoYU1DOHhGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1SUXdFZ1lEClZRUURFd3R0WVhOMFpYSXRkWE5sY2pCMk1CQUdCeXFHU000OUFnRUdCU3VCQkFBaUEySUFCTzl6WUlqeWtEUCsKRDh4dUZYbE8xbGJ0Wi9sM0RCZVRiNTZIbVlQN2Exc09tWVVveTBDL0tyT3ZFcDFKRTgwa1VGbTZiK1RDQ1AveAo2ZlJOWWNNV0tFZFVwMDV6eFF6UkVGZDN6ZEpURi9aL3ltU0F3NVFiZnFYQWZzSU1CZDk1VDZOV01GUXdEZ1lEClZSMFBBUUgvQkFRREFnV2dNQk1HQTFVZEpRUU1NQW9HQ0NzR0FRVUZCd01DTUF3R0ExVWRFd0VCL3dRQ01BQXcKSHdZRFZSMGpCQmd3Rm9BVTg5MkovaEcxRUtmVzBIRGl6Y0JNbEE0czNXZ3dDZ1lJS29aSXpqMEVBd01EYVFBdwpaZ0l4QUxVSXVOWTdhYjZMamdDaXN1OFdYQk9KU2FaWFpHOUNUeDVKSHp3MGJZY3hpWXRaRm5SZ2h2WHZOaW9JClRPbEFjQUl4QUlYZmZHdEFQU1Y1M1hpUHZtM2lvN1E0MFNhT3ppWEVYZUlMSHR6R0kyUGFsMHdNK0lWOHNRbFAKbEQ3NW9ZR21MQT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K\"\n    \"client-key-data\": \"LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1JR2tBZ0VCQkRCZTQ4VHlTVmhXaDR3Y29sdjZFSUdBSGRLOGlUQUZkWFI3dkF2Yk5OSTF6MFpndDJ3c08weG8KVGVtZUY2TFl5bTZnQndZRks0RUVBQ0toWkFOaUFBVHZjMkNJOHBBei9nL01iaFY1VHRaVzdXZjVkd3dYazIrZQpoNW1EKzJ0YkRwbUZLTXRBdnlxenJ4S2RTUlBOSkZCWnVtL2t3Z2ovOGVuMFRXSERGaWhIVktkT2M4VU0wUkJYCmQ4M1NVeGYyZjhwa2dNT1VHMzZsd0g3Q0RBWGZlVTg9Ci0tLS0tRU5EIEVDIFBSSVZBVEUgS0VZLS0tLS0K\"\n",
            "content_base64": null,
            "content_base64sha256": "hcxHkASgEWvC4uj9U9hAgidyn4DjgJaqQPpGYrX7XLk=",
            "content_base64sha512": "CsmhbBPlaOcdkqalKeeJBtaGw01hXdsbHXaP0jonIQSK2jeythGHFSUUXRgtNhYsjTTmNbIcRTT6e7EGEZBluA==",
            "content_md5": "4a368dec83cc4f24400a48e93fc25bc4",
            "content_sha1": "dae76c50ea957d93689876797d9b97447e6da45e",
            "content_sha256": "85cc479004a0116bc2e2e8fd53d8408227729f80e38096aa40fa4662b5fb5cb9",
            "content_sha512": "0ac9a16c13e568e71d92a6a529e78906d686c34d615ddb1b1d768fd23a2721048ada37b2b611871525145d182d36162c8d34e635b21c4534fa7bb106119065b8",
            "directory_permission": "0700",
            "file_permission": "0700",
            "filename": "./config.yaml",
            "id": "dae76c50ea957d93689876797d9b97447e6da45e",
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "content"
              }
            ]
          ],
          "dependencies": [
            "data.tencentcloud_availability_zones_by_product.default",
            "data.tencentcloud_images.default",
            "data.tencentcloud_instance_types.default",
            "module.k3s.tls_cert_request.master_user",
            "module.k3s.tls_locally_signed_cert.master_user",
            "module.k3s.tls_private_key.kubernetes_ca",
            "module.k3s.tls_private_key.master_user",
            "module.k3s.tls_self_signed_cert.kubernetes_ca_certs",
            "tencentcloud_instance.web",
            "tencentcloud_security_group.default",
            "tencentcloud_security_group_lite_rule.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "connect_ubuntu",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "3978531325323528890",
            "triggers": {
              "script_hash": "0d2d1d640899265f075e192ed5331419"
            }
          },
          "sensitive_attributes": [],
          "dependencies": [
            "data.tencentcloud_availability_zones_by_product.default",
            "data.tencentcloud_images.default",
            "data.tencentcloud_instance_types.default",
            "module.k3s.data.http.k3s_installer",
            "module.k3s.data.http.k3s_version",
            "module.k3s.null_resource.agents_annotation",
            "module.k3s.null_resource.agents_drain",
            "module.k3s.null_resource.agents_install",
            "module.k3s.null_resource.agents_label",
            "module.k3s.null_resource.agents_taint",
            "module.k3s.null_resource.k8s_ca_certificates_install",
            "module.k3s.null_resource.kubernetes_ready",
            "module.k3s.null_resource.servers_annotation",
            "module.k3s.null_resource.servers_drain",
            "module.k3s.null_resource.servers_install",
            "module.k3s.null_resource.servers_label",
            "module.k3s.null_resource.servers_taint",
            "module.k3s.random_password.k3s_cluster_secret",
            "module.k3s.tls_cert_request.master_user",
            "module.k3s.tls_locally_signed_cert.master_user",
            "module.k3s.tls_private_key.kubernetes_ca",
            "module.k3s.tls_private_key.master_user",
            "module.k3s.tls_self_signed_cert.kubernetes_ca_certs",
            "tencentcloud_instance.web",
            "tencentcloud_security_group.default",
            "tencentcloud_security_group_lite_rule.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "tencentcloud_instance",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/tencentcloudstack/tencentcloud\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "allocate_public_ip": true,
            "availability_zone": "ap-hongkong-2",
            "bandwidth_package_id": null,
            "cam_role_name": "",
            "cdh_host_id": null,
            "cdh_instance_type": null,
            "create_time": "2023-12-20T01:54:33Z",
            "data_disks": [],
            "disable_api_termination": false,
            "disable_monitor_service": false,
            "disable_security_service": false,
            "expired_time": "",
            "force_delete": false,
            "hostname": null,
            "id": "ins-e6uqaaqw",
            "image_id": "img-487zeit5",
            "instance_charge_type": "SPOTPAID",
            "instance_charge_type_prepaid_period": null,
            "instance_charge_type_prepaid_renew_flag": "",
            "instance_count": null,
            "instance_name": "web server",
            "instance_status": "RUNNING",
            "instance_type": "S5.MEDIUM4",
            "internet_charge_type": "TRAFFIC_POSTPAID_BY_HOUR",
            "internet_max_bandwidth_out": 100,
            "keep_image_login": null,
            "key_ids": [
              ""
            ],
            "key_name": "",
            "orderly_security_groups": [
              "sg-jsa1q1w7"
            ],
            "password": "password123",
            "placement_group_id": null,
            "private_ip": "172.19.0.12",
            "project_id": 0,
            "public_ip": "43.129.215.148",
            "running_flag": true,
            "security_groups": [
              "sg-jsa1q1w7"
            ],
            "spot_instance_type": null,
            "spot_max_price": null,
            "stopped_mode": null,
            "subnet_id": "subnet-ga20w3t1",
            "system_disk_id": "disk-khge7w5q",
            "system_disk_size": 50,
            "system_disk_type": "CLOUD_PREMIUM",
            "tags": {},
            "user_data": null,
            "user_data_raw": null,
            "vpc_id": "vpc-a6zbfhem"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.tencentcloud_availability_zones_by_product.default",
            "data.tencentcloud_images.default",
            "data.tencentcloud_instance_types.default",
            "tencentcloud_security_group.default",
            "tencentcloud_security_group_lite_rule.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "tencentcloud_security_group",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/tencentcloudstack/tencentcloud\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "make it accessible for both production and stage ports",
            "id": "sg-jsa1q1w7",
            "name": "tf-security-group",
            "project_id": 0,
            "tags": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "tencentcloud_security_group_lite_rule",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/tencentcloudstack/tencentcloud\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "egress": [
              "ACCEPT#0.0.0.0/0#ALL#ALL"
            ],
            "id": "sg-jsa1q1w7",
            "ingress": [
              "ACCEPT#0.0.0.0/0#22#TCP",
              "ACCEPT#0.0.0.0/0#6443#TCP",
              "ACCEPT#0.0.0.0/0#80#TCP",
              "ACCEPT#0.0.0.0/0#30000-40000#TCP"
            ],
            "security_group_id": "sg-jsa1q1w7"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "tencentcloud_security_group.default"
          ]
        }
      ]
    },
    {
      "module": "module.k3s",
      "mode": "data",
      "type": "http",
      "name": "k3s_installer",
      "provider": "provider[\"registry.terraform.io/hashicorp/http\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "body": "#!/bin/sh\nset -e\nset -o noglob\n\n# Usage:\n#   curl ... | ENV_VAR=... sh -\n#       or\n#   ENV_VAR=... ./install.sh\n#\n# Example:\n#   Installing a server without traefik:\n#     curl ... | INSTALL_K3S_EXEC=\"--disable=traefik\" sh -\n#   Installing an agent to point at a server:\n#     curl ... | K3S_TOKEN=xxx K3S_URL=https://server-url:6443 sh -\n#\n# Environment variables:\n#   - K3S_*\n#     Environment variables which begin with K3S_ will be preserved for the\n#     systemd service to use. Setting K3S_URL without explicitly setting\n#     a systemd exec command will default the command to \"agent\", and we\n#     enforce that K3S_TOKEN is also set.\n#\n#   - INSTALL_K3S_SKIP_DOWNLOAD\n#     If set to true will not download k3s hash or binary.\n#\n#   - INSTALL_K3S_FORCE_RESTART\n#     If set to true will always restart the K3s service\n#\n#   - INSTALL_K3S_SYMLINK\n#     If set to 'skip' will not create symlinks, 'force' will overwrite,\n#     default will symlink if command does not exist in path.\n#\n#   - INSTALL_K3S_SKIP_ENABLE\n#     If set to true will not enable or start k3s service.\n#\n#   - INSTALL_K3S_SKIP_START\n#     If set to true will not start k3s service.\n#\n#   - INSTALL_K3S_VERSION\n#     Version of k3s to download from github. Will attempt to download from the\n#     stable channel if not specified.\n#\n#   - INSTALL_K3S_COMMIT\n#     Commit of k3s to download from temporary cloud storage.\n#     * (for developer \u0026 QA use)\n#\n#   - INSTALL_K3S_BIN_DIR\n#     Directory to install k3s binary, links, and uninstall script to, or use\n#     /usr/local/bin as the default\n#\n#   - INSTALL_K3S_BIN_DIR_READ_ONLY\n#     If set to true will not write files to INSTALL_K3S_BIN_DIR, forces\n#     setting INSTALL_K3S_SKIP_DOWNLOAD=true\n#\n#   - INSTALL_K3S_SYSTEMD_DIR\n#     Directory to install systemd service and environment files to, or use\n#     /etc/systemd/system as the default\n#\n#   - INSTALL_K3S_EXEC or script arguments\n#     Command with flags to use for launching k3s in the systemd service, if\n#     the command is not specified will default to \"agent\" if K3S_URL is set\n#     or \"server\" if not. The final systemd command resolves to a combination\n#     of EXEC and script args ($@).\n#\n#     The following commands result in the same behavior:\n#       curl ... | INSTALL_K3S_EXEC=\"--disable=traefik\" sh -s -\n#       curl ... | INSTALL_K3S_EXEC=\"server --disable=traefik\" sh -s -\n#       curl ... | INSTALL_K3S_EXEC=\"server\" sh -s - --disable=traefik\n#       curl ... | sh -s - server --disable=traefik\n#       curl ... | sh -s - --disable=traefik\n#\n#   - INSTALL_K3S_NAME\n#     Name of systemd service to create, will default from the k3s exec command\n#     if not specified. If specified the name will be prefixed with 'k3s-'.\n#\n#   - INSTALL_K3S_TYPE\n#     Type of systemd service to create, will default from the k3s exec command\n#     if not specified.\n#\n#   - INSTALL_K3S_SELINUX_WARN\n#     If set to true will continue if k3s-selinux policy is not found.\n#\n#   - INSTALL_K3S_SKIP_SELINUX_RPM\n#     If set to true will skip automatic installation of the k3s RPM.\n#\n#   - INSTALL_K3S_CHANNEL_URL\n#     Channel URL for fetching k3s download URL.\n#     Defaults to 'https://update.k3s.io/v1-release/channels'.\n#\n#   - INSTALL_K3S_CHANNEL\n#     Channel to use for fetching k3s download URL.\n#     Defaults to 'stable'.\n\nGITHUB_URL=https://github.com/k3s-io/k3s/releases\nSTORAGE_URL=https://k3s-ci-builds.s3.amazonaws.com\nDOWNLOADER=\n\n# --- helper functions for logs ---\ninfo()\n{\n    echo '[INFO] ' \"$@\"\n}\nwarn()\n{\n    echo '[WARN] ' \"$@\" \u003e\u00262\n}\nfatal()\n{\n    echo '[ERROR] ' \"$@\" \u003e\u00262\n    exit 1\n}\n\n# --- fatal if no systemd or openrc ---\nverify_system() {\n    if [ -x /sbin/openrc-run ]; then\n        HAS_OPENRC=true\n        return\n    fi\n    if [ -x /bin/systemctl ] || type systemctl \u003e /dev/null 2\u003e\u00261; then\n        HAS_SYSTEMD=true\n        return\n    fi\n    fatal 'Can not find systemd or openrc to use as a process supervisor for k3s'\n}\n\n# --- add quotes to command arguments ---\nquote() {\n    for arg in \"$@\"; do\n        printf '%s\\n' \"$arg\" | sed \"s/'/'\\\\\\\\''/g;1s/^/'/;\\$s/\\$/'/\"\n    done\n}\n\n# --- add indentation and trailing slash to quoted args ---\nquote_indent() {\n    printf ' \\\\\\n'\n    for arg in \"$@\"; do\n        printf '\\t%s \\\\\\n' \"$(quote \"$arg\")\"\n    done\n}\n\n# --- escape most punctuation characters, except quotes, forward slash, and space ---\nescape() {\n    printf '%s' \"$@\" | sed -e 's/\\([][!#$%\u0026()*;\u003c=\u003e?\\_`{|}]\\)/\\\\\\1/g;'\n}\n\n# --- escape double quotes ---\nescape_dq() {\n    printf '%s' \"$@\" | sed -e 's/\"/\\\\\"/g'\n}\n\n# --- ensures $K3S_URL is empty or begins with https://, exiting fatally otherwise ---\nverify_k3s_url() {\n    case \"${K3S_URL}\" in\n        \"\")\n            ;;\n        https://*)\n            ;;\n        *)\n            fatal \"Only https:// URLs are supported for K3S_URL (have ${K3S_URL})\"\n            ;;\n    esac\n}\n\n# --- define needed environment variables ---\nsetup_env() {\n    # --- use command args if passed or create default ---\n    case \"$1\" in\n        # --- if we only have flags discover if command should be server or agent ---\n        (-*|\"\")\n            if [ -z \"${K3S_URL}\" ]; then\n                CMD_K3S=server\n            else\n                if [ -z \"${K3S_TOKEN}\" ] \u0026\u0026 [ -z \"${K3S_TOKEN_FILE}\" ]; then\n                    fatal \"Defaulted k3s exec command to 'agent' because K3S_URL is defined, but K3S_TOKEN or K3S_TOKEN_FILE is not defined.\"\n                fi\n                CMD_K3S=agent\n            fi\n        ;;\n        # --- command is provided ---\n        (*)\n            CMD_K3S=$1\n            shift\n        ;;\n    esac\n\n    verify_k3s_url\n\n    CMD_K3S_EXEC=\"${CMD_K3S}$(quote_indent \"$@\")\"\n\n    # --- use systemd name if defined or create default ---\n    if [ -n \"${INSTALL_K3S_NAME}\" ]; then\n        SYSTEM_NAME=k3s-${INSTALL_K3S_NAME}\n    else\n        if [ \"${CMD_K3S}\" = server ]; then\n            SYSTEM_NAME=k3s\n        else\n            SYSTEM_NAME=k3s-${CMD_K3S}\n        fi\n    fi\n\n    # --- check for invalid characters in system name ---\n    valid_chars=$(printf '%s' \"${SYSTEM_NAME}\" | sed -e 's/[][!#$%\u0026()*;\u003c=\u003e?\\_`{|}/[:space:]]/^/g;' )\n    if [ \"${SYSTEM_NAME}\" != \"${valid_chars}\"  ]; then\n        invalid_chars=$(printf '%s' \"${valid_chars}\" | sed -e 's/[^^]/ /g')\n        fatal \"Invalid characters for system name:\n            ${SYSTEM_NAME}\n            ${invalid_chars}\"\n    fi\n\n    # --- use sudo if we are not already root ---\n    SUDO=sudo\n    if [ $(id -u) -eq 0 ]; then\n        SUDO=\n    fi\n\n    # --- use systemd type if defined or create default ---\n    if [ -n \"${INSTALL_K3S_TYPE}\" ]; then\n        SYSTEMD_TYPE=${INSTALL_K3S_TYPE}\n    else\n        SYSTEMD_TYPE=notify\n    fi\n\n    # --- use binary install directory if defined or create default ---\n    if [ -n \"${INSTALL_K3S_BIN_DIR}\" ]; then\n        BIN_DIR=${INSTALL_K3S_BIN_DIR}\n    else\n        # --- use /usr/local/bin if root can write to it, otherwise use /opt/bin if it exists\n        BIN_DIR=/usr/local/bin\n        if ! $SUDO sh -c \"touch ${BIN_DIR}/k3s-ro-test \u0026\u0026 rm -rf ${BIN_DIR}/k3s-ro-test\"; then\n            if [ -d /opt/bin ]; then\n                BIN_DIR=/opt/bin\n            fi\n        fi\n    fi\n\n    # --- use systemd directory if defined or create default ---\n    if [ -n \"${INSTALL_K3S_SYSTEMD_DIR}\" ]; then\n        SYSTEMD_DIR=\"${INSTALL_K3S_SYSTEMD_DIR}\"\n    else\n        SYSTEMD_DIR=/etc/systemd/system\n    fi\n\n    # --- set related files from system name ---\n    SERVICE_K3S=${SYSTEM_NAME}.service\n    UNINSTALL_K3S_SH=${UNINSTALL_K3S_SH:-${BIN_DIR}/${SYSTEM_NAME}-uninstall.sh}\n    KILLALL_K3S_SH=${KILLALL_K3S_SH:-${BIN_DIR}/k3s-killall.sh}\n\n    # --- use service or environment location depending on systemd/openrc ---\n    if [ \"${HAS_SYSTEMD}\" = true ]; then\n        FILE_K3S_SERVICE=${SYSTEMD_DIR}/${SERVICE_K3S}\n        FILE_K3S_ENV=${SYSTEMD_DIR}/${SERVICE_K3S}.env\n    elif [ \"${HAS_OPENRC}\" = true ]; then\n        $SUDO mkdir -p /etc/rancher/k3s\n        FILE_K3S_SERVICE=/etc/init.d/${SYSTEM_NAME}\n        FILE_K3S_ENV=/etc/rancher/k3s/${SYSTEM_NAME}.env\n    fi\n\n    # --- get hash of config \u0026 exec for currently installed k3s ---\n    PRE_INSTALL_HASHES=$(get_installed_hashes)\n\n    # --- if bin directory is read only skip download ---\n    if [ \"${INSTALL_K3S_BIN_DIR_READ_ONLY}\" = true ]; then\n        INSTALL_K3S_SKIP_DOWNLOAD=true\n    fi\n\n    # --- setup channel values\n    INSTALL_K3S_CHANNEL_URL=${INSTALL_K3S_CHANNEL_URL:-'https://update.k3s.io/v1-release/channels'}\n    INSTALL_K3S_CHANNEL=${INSTALL_K3S_CHANNEL:-'stable'}\n}\n\n# --- check if skip download environment variable set ---\ncan_skip_download_binary() {\n    if [ \"${INSTALL_K3S_SKIP_DOWNLOAD}\" != true ] \u0026\u0026 [ \"${INSTALL_K3S_SKIP_DOWNLOAD}\" != binary ]; then\n        return 1\n    fi\n}\n\ncan_skip_download_selinux() {                                                        \n    if [ \"${INSTALL_K3S_SKIP_DOWNLOAD}\" != true ] \u0026\u0026 [ \"${INSTALL_K3S_SKIP_DOWNLOAD}\" != selinux ]; then \n        return 1                                                                     \n    fi                                                                               \n}  \n\n# --- verify an executable k3s binary is installed ---\nverify_k3s_is_executable() {\n    if [ ! -x ${BIN_DIR}/k3s ]; then\n        fatal \"Executable k3s binary not found at ${BIN_DIR}/k3s\"\n    fi\n}\n\n# --- set arch and suffix, fatal if architecture not supported ---\nsetup_verify_arch() {\n    if [ -z \"$ARCH\" ]; then\n        ARCH=$(uname -m)\n    fi\n    case $ARCH in\n        amd64)\n            ARCH=amd64\n            SUFFIX=\n            ;;\n        x86_64)\n            ARCH=amd64\n            SUFFIX=\n            ;;\n        arm64)\n            ARCH=arm64\n            SUFFIX=-${ARCH}\n            ;;\n        s390x)\n            ARCH=s390x\n            SUFFIX=-${ARCH}\n            ;;\n        aarch64)\n            ARCH=arm64\n            SUFFIX=-${ARCH}\n            ;;\n        arm*)\n            ARCH=arm\n            SUFFIX=-${ARCH}hf\n            ;;\n        *)\n            fatal \"Unsupported architecture $ARCH\"\n    esac\n}\n\n# --- verify existence of network downloader executable ---\nverify_downloader() {\n    # Return failure if it doesn't exist or is no executable\n    [ -x \"$(command -v $1)\" ] || return 1\n\n    # Set verified executable as our downloader program and return success\n    DOWNLOADER=$1\n    return 0\n}\n\n# --- create temporary directory and cleanup when done ---\nsetup_tmp() {\n    TMP_DIR=$(mktemp -d -t k3s-install.XXXXXXXXXX)\n    TMP_HASH=${TMP_DIR}/k3s.hash\n    TMP_BIN=${TMP_DIR}/k3s.bin\n    cleanup() {\n        code=$?\n        set +e\n        trap - EXIT\n        rm -rf ${TMP_DIR}\n        exit $code\n    }\n    trap cleanup INT EXIT\n}\n\n# --- use desired k3s version if defined or find version from channel ---\nget_release_version() {\n    if [ -n \"${INSTALL_K3S_COMMIT}\" ]; then\n        VERSION_K3S=\"commit ${INSTALL_K3S_COMMIT}\"\n    elif [ -n \"${INSTALL_K3S_VERSION}\" ]; then\n        VERSION_K3S=${INSTALL_K3S_VERSION}\n    else\n        info \"Finding release for channel ${INSTALL_K3S_CHANNEL}\"\n        version_url=\"${INSTALL_K3S_CHANNEL_URL}/${INSTALL_K3S_CHANNEL}\"\n        case $DOWNLOADER in\n            curl)\n                VERSION_K3S=$(curl -w '%{url_effective}' -L -s -S ${version_url} -o /dev/null | sed -e 's|.*/||')\n                ;;\n            wget)\n                VERSION_K3S=$(wget -SqO /dev/null ${version_url} 2\u003e\u00261 | grep -i Location | sed -e 's|.*/||')\n                ;;\n            *)\n                fatal \"Incorrect downloader executable '$DOWNLOADER'\"\n                ;;\n        esac\n    fi\n    info \"Using ${VERSION_K3S} as release\"\n}\n\n# --- get k3s-selinux version ---\nget_k3s_selinux_version() {\n    available_version=\"k3s-selinux-1.2-2.${rpm_target}.noarch.rpm\"\n    info \"Finding available k3s-selinux versions\"\n    \n    # run verify_downloader in case it binary installation was skipped\n    verify_downloader curl || verify_downloader wget || fatal 'Can not find curl or wget for downloading files'\n\n    case $DOWNLOADER in\n        curl)\n            DOWNLOADER_OPTS=\"-s\"\n            ;;\n        wget)\n            DOWNLOADER_OPTS=\"-q -O -\"\n            ;;\n        *)\n            fatal \"Incorrect downloader executable '$DOWNLOADER'\"\n            ;;\n    esac\n    for i in {1..3}; do\n        set +e\n        if [ \"${rpm_channel}\" = \"testing\" ]; then\n            version=$(timeout 5 ${DOWNLOADER} ${DOWNLOADER_OPTS} https://api.github.com/repos/k3s-io/k3s-selinux/releases |  grep browser_download_url | awk '{ print $2 }' | grep -oE \"[^\\/]+${rpm_target}\\.noarch\\.rpm\" | head -n 1)\n        else\n            version=$(timeout 5 ${DOWNLOADER} ${DOWNLOADER_OPTS} https://api.github.com/repos/k3s-io/k3s-selinux/releases/latest |  grep browser_download_url | awk '{ print $2 }' | grep -oE \"[^\\/]+${rpm_target}\\.noarch\\.rpm\")\n        fi\n        set -e\n        if [ \"${version}\" != \"\" ]; then\n            break\n        fi\n        sleep 1\n    done\n    if [ \"${version}\" == \"\" ]; then\n        warn \"Failed to get available versions of k3s-selinux..defaulting to ${available_version}\"\n        return\n    fi\n    available_version=${version}\n}\n\n# --- download from github url ---\ndownload() {\n    [ $# -eq 2 ] || fatal 'download needs exactly 2 arguments'\n\n    case $DOWNLOADER in\n        curl)\n            curl -o $1 -sfL $2\n            ;;\n        wget)\n            wget -qO $1 $2\n            ;;\n        *)\n            fatal \"Incorrect executable '$DOWNLOADER'\"\n            ;;\n    esac\n\n    # Abort if download command failed\n    [ $? -eq 0 ] || fatal 'Download failed'\n}\n\n# --- download hash from github url ---\ndownload_hash() {\n    if [ -n \"${INSTALL_K3S_COMMIT}\" ]; then\n        HASH_URL=${STORAGE_URL}/k3s${SUFFIX}-${INSTALL_K3S_COMMIT}.sha256sum\n    else\n        HASH_URL=${GITHUB_URL}/download/${VERSION_K3S}/sha256sum-${ARCH}.txt\n    fi\n    info \"Downloading hash ${HASH_URL}\"\n    download ${TMP_HASH} ${HASH_URL}\n    HASH_EXPECTED=$(grep \" k3s${SUFFIX}$\" ${TMP_HASH})\n    HASH_EXPECTED=${HASH_EXPECTED%%[[:blank:]]*}\n}\n\n# --- check hash against installed version ---\ninstalled_hash_matches() {\n    if [ -x ${BIN_DIR}/k3s ]; then\n        HASH_INSTALLED=$(sha256sum ${BIN_DIR}/k3s)\n        HASH_INSTALLED=${HASH_INSTALLED%%[[:blank:]]*}\n        if [ \"${HASH_EXPECTED}\" = \"${HASH_INSTALLED}\" ]; then\n            return\n        fi\n    fi\n    return 1\n}\n\n# --- download binary from github url ---\ndownload_binary() {\n    if [ -n \"${INSTALL_K3S_COMMIT}\" ]; then\n        BIN_URL=${STORAGE_URL}/k3s${SUFFIX}-${INSTALL_K3S_COMMIT}\n    else\n        BIN_URL=${GITHUB_URL}/download/${VERSION_K3S}/k3s${SUFFIX}\n    fi\n    info \"Downloading binary ${BIN_URL}\"\n    download ${TMP_BIN} ${BIN_URL}\n}\n\n# --- verify downloaded binary hash ---\nverify_binary() {\n    info \"Verifying binary download\"\n    HASH_BIN=$(sha256sum ${TMP_BIN})\n    HASH_BIN=${HASH_BIN%%[[:blank:]]*}\n    if [ \"${HASH_EXPECTED}\" != \"${HASH_BIN}\" ]; then\n        fatal \"Download sha256 does not match ${HASH_EXPECTED}, got ${HASH_BIN}\"\n    fi\n}\n\n# --- setup permissions and move binary to system directory ---\nsetup_binary() {\n    chmod 755 ${TMP_BIN}\n    info \"Installing k3s to ${BIN_DIR}/k3s\"\n    $SUDO chown root:root ${TMP_BIN}\n    $SUDO mv -f ${TMP_BIN} ${BIN_DIR}/k3s\n}\n\n# --- setup selinux policy ---\nsetup_selinux() {\n    case ${INSTALL_K3S_CHANNEL} in \n        *testing)\n            rpm_channel=testing\n            ;;\n        *latest)\n            rpm_channel=latest\n            ;;\n        *)\n            rpm_channel=stable\n            ;;\n    esac\n\n    rpm_site=\"rpm.rancher.io\"\n    if [ \"${rpm_channel}\" = \"testing\" ]; then\n        rpm_site=\"rpm-testing.rancher.io\"\n    fi\n\n    [ -r /etc/os-release ] \u0026\u0026 . /etc/os-release\n    if [ `expr \"${ID_LIKE}\" : \".*suse.*\"` != 0 ]; then\n        rpm_target=sle\n        rpm_site_infix=microos\n        package_installer=zypper\n        if [ \"${ID_LIKE:-}\" = suse ] \u0026\u0026 ( [ \"${VARIANT_ID:-}\" = sle-micro ] || [ \"${ID:-}\" = sle-micro ] ); then\n            rpm_target=sle\n            rpm_site_infix=slemicro\n            package_installer=zypper\n        fi\n    elif [ \"${ID_LIKE:-}\" = coreos ] || [ \"${VARIANT_ID:-}\" = coreos ]; then\n        rpm_target=coreos\n        rpm_site_infix=coreos\n        package_installer=rpm-ostree\n    elif [ \"${VERSION_ID%%.*}\" = \"7\" ]; then\n        rpm_target=el7\n        rpm_site_infix=centos/7\n        package_installer=yum\n    elif [ \"${VERSION_ID%%.*}\" = \"8\" ] || [ \"${VERSION_ID%%.*}\" -gt \"36\" ]; then\n        rpm_target=el8\n        rpm_site_infix=centos/8\n        package_installer=yum\n    else\n        rpm_target=el9\n        rpm_site_infix=centos/9\n        package_installer=yum\n    fi\n\n    if [ \"${package_installer}\" = \"rpm-ostree\" ] \u0026\u0026 [ -x /bin/yum ]; then\n        package_installer=yum\n    fi\n\n    if [ \"${package_installer}\" = \"yum\" ] \u0026\u0026 [ -x /usr/bin/dnf ]; then\n        package_installer=dnf\n    fi\n\n    policy_hint=\"please install:\n    ${package_installer} install -y container-selinux\n    ${package_installer} install -y https://${rpm_site}/k3s/${rpm_channel}/common/${rpm_site_infix}/noarch/${available_version}\n\"\n\n    if [ \"$INSTALL_K3S_SKIP_SELINUX_RPM\" = true ] || can_skip_download_selinux || [ ! -d /usr/share/selinux ]; then\n        info \"Skipping installation of SELinux RPM\"\n    else\n        get_k3s_selinux_version\n        install_selinux_rpm ${rpm_site} ${rpm_channel} ${rpm_target} ${rpm_site_infix}\n    fi\n\n    policy_error=fatal\n    if [ \"$INSTALL_K3S_SELINUX_WARN\" = true ] || [ \"${ID_LIKE:-}\" = coreos ] || [ \"${VARIANT_ID:-}\" = coreos ]; then\n        policy_error=warn\n    fi\n\n    if ! $SUDO chcon -u system_u -r object_r -t container_runtime_exec_t ${BIN_DIR}/k3s \u003e/dev/null 2\u003e\u00261; then\n        if $SUDO grep '^\\s*SELINUX=enforcing' /etc/selinux/config \u003e/dev/null 2\u003e\u00261; then\n            $policy_error \"Failed to apply container_runtime_exec_t to ${BIN_DIR}/k3s, ${policy_hint}\"\n        fi\n    elif [ ! -f /usr/share/selinux/packages/k3s.pp ]; then\n        if [ -x /usr/sbin/transactional-update ] || [ \"${ID_LIKE:-}\" = coreos ] || [ \"${VARIANT_ID:-}\" = coreos ]; then\n            warn \"Please reboot your machine to activate the changes and avoid data loss.\"\n        else\n            $policy_error \"Failed to find the k3s-selinux policy, ${policy_hint}\"\n        fi\n    fi\n}\n\ninstall_selinux_rpm() {\n    if [ -r /etc/redhat-release ] || [ -r /etc/centos-release ] || [ -r /etc/oracle-release ] || [ -r /etc/fedora-release ] || [ \"${ID_LIKE%%[ ]*}\" = \"suse\" ]; then\n        repodir=/etc/yum.repos.d\n        if [ -d /etc/zypp/repos.d ]; then\n            repodir=/etc/zypp/repos.d\n        fi\n        set +o noglob\n        $SUDO rm -f ${repodir}/rancher-k3s-common*.repo\n        set -o noglob\n        if [ -r /etc/redhat-release ] \u0026\u0026 [ \"${3}\" = \"el7\" ]; then\n            $SUDO yum install -y yum-utils\n            $SUDO yum-config-manager --enable rhel-7-server-extras-rpms\n        fi\n        $SUDO tee ${repodir}/rancher-k3s-common.repo \u003e/dev/null \u003c\u003c EOF\n[rancher-k3s-common-${2}]\nname=Rancher K3s Common (${2})\nbaseurl=https://${1}/k3s/${2}/common/${4}/noarch\nenabled=1\ngpgcheck=1\nrepo_gpgcheck=0\ngpgkey=https://${1}/public.key\nEOF\n        case ${3} in\n        sle)\n            rpm_installer=\"zypper --gpg-auto-import-keys\"\n            if [ \"${TRANSACTIONAL_UPDATE=false}\" != \"true\" ] \u0026\u0026 [ -x /usr/sbin/transactional-update ]; then\n                transactional_update_run=\"transactional-update --no-selfupdate -d run\"\n                rpm_installer=\"transactional-update --no-selfupdate -d run ${rpm_installer}\"\n                : \"${INSTALL_K3S_SKIP_START:=true}\"\n            fi\n            # create the /var/lib/rpm-state in SLE systems to fix the prein selinux macro\n            ${transactional_update_run} mkdir -p /var/lib/rpm-state\n            ;;\n        coreos)\n            rpm_installer=\"rpm-ostree --idempotent\"\n            # rpm_install_extra_args=\"--apply-live\"\n            : \"${INSTALL_K3S_SKIP_START:=true}\"\n            ;;\n        *)\n            rpm_installer=\"yum\"\n            ;;\n        esac\n        if [ \"${rpm_installer}\" = \"yum\" ] \u0026\u0026 [ -x /usr/bin/dnf ]; then\n            rpm_installer=dnf\n        fi\n\t    if rpm -q --quiet k3s-selinux; then \n            # remove k3s-selinux module before upgrade to allow container-selinux to upgrade safely\n            if check_available_upgrades container-selinux ${3} \u0026\u0026 check_available_upgrades k3s-selinux ${3}; then\n                MODULE_PRIORITY=$($SUDO semodule --list=full | grep k3s | cut -f1 -d\" \")\n                if [ -n \"${MODULE_PRIORITY}\" ]; then\n                    $SUDO semodule -X $MODULE_PRIORITY -r k3s || true\n                fi\n            fi\n        fi\n        # shellcheck disable=SC2086\n        $SUDO ${rpm_installer} install -y \"k3s-selinux\"\n    fi\n    return\n}\n\ncheck_available_upgrades() {\n    set +e\n    case ${2} in\n        sle)\n            available_upgrades=$($SUDO zypper -q -t -s 11 se -s -u --type package $1 | tail -n 1 | grep -v \"No matching\" | awk '{print $3}')\n            ;;\n        coreos)\n            # currently rpm-ostree does not support search functionality https://github.com/coreos/rpm-ostree/issues/1877\n            ;;\n        *)\n            available_upgrades=$($SUDO yum -q --refresh list $1 --upgrades | tail -n 1 | awk '{print $2}')\n            ;;\n    esac\n    set -e\n    if [ -n \"${available_upgrades}\" ]; then\n        return 0\n    fi\n    return 1\n}\n# --- download and verify k3s ---\ndownload_and_verify() {\n    if can_skip_download_binary; then\n       info 'Skipping k3s download and verify'\n       verify_k3s_is_executable\n       return\n    fi\n\n    setup_verify_arch\n    verify_downloader curl || verify_downloader wget || fatal 'Can not find curl or wget for downloading files'\n    setup_tmp\n    get_release_version\n    download_hash\n\n    if installed_hash_matches; then\n        info 'Skipping binary downloaded, installed k3s matches hash'\n        return\n    fi\n\n    download_binary\n    verify_binary\n    setup_binary\n}\n\n# --- add additional utility links ---\ncreate_symlinks() {\n    [ \"${INSTALL_K3S_BIN_DIR_READ_ONLY}\" = true ] \u0026\u0026 return\n    [ \"${INSTALL_K3S_SYMLINK}\" = skip ] \u0026\u0026 return\n\n    for cmd in kubectl crictl ctr; do\n        if [ ! -e ${BIN_DIR}/${cmd} ] || [ \"${INSTALL_K3S_SYMLINK}\" = force ]; then\n            which_cmd=$(command -v ${cmd} 2\u003e/dev/null || true)\n            if [ -z \"${which_cmd}\" ] || [ \"${INSTALL_K3S_SYMLINK}\" = force ]; then\n                info \"Creating ${BIN_DIR}/${cmd} symlink to k3s\"\n                $SUDO ln -sf k3s ${BIN_DIR}/${cmd}\n            else\n                info \"Skipping ${BIN_DIR}/${cmd} symlink to k3s, command exists in PATH at ${which_cmd}\"\n            fi\n        else\n            info \"Skipping ${BIN_DIR}/${cmd} symlink to k3s, already exists\"\n        fi\n    done\n}\n\n# --- create killall script ---\ncreate_killall() {\n    [ \"${INSTALL_K3S_BIN_DIR_READ_ONLY}\" = true ] \u0026\u0026 return\n    info \"Creating killall script ${KILLALL_K3S_SH}\"\n    $SUDO tee ${KILLALL_K3S_SH} \u003e/dev/null \u003c\u003c \\EOF\n#!/bin/sh\n[ $(id -u) -eq 0 ] || exec sudo $0 $@\n\nfor bin in /var/lib/rancher/k3s/data/**/bin/; do\n    [ -d $bin ] \u0026\u0026 export PATH=$PATH:$bin:$bin/aux\ndone\n\nset -x\n\nfor service in /etc/systemd/system/k3s*.service; do\n    [ -s $service ] \u0026\u0026 systemctl stop $(basename $service)\ndone\n\nfor service in /etc/init.d/k3s*; do\n    [ -x $service ] \u0026\u0026 $service stop\ndone\n\npschildren() {\n    ps -e -o ppid= -o pid= | \\\n    sed -e 's/^\\s*//g; s/\\s\\s*/\\t/g;' | \\\n    grep -w \"^$1\" | \\\n    cut -f2\n}\n\npstree() {\n    for pid in $@; do\n        echo $pid\n        for child in $(pschildren $pid); do\n            pstree $child\n        done\n    done\n}\n\nkilltree() {\n    kill -9 $(\n        { set +x; } 2\u003e/dev/null;\n        pstree $@;\n        set -x;\n    ) 2\u003e/dev/null\n}\n\nremove_interfaces() {\n    # Delete network interface(s) that match 'master cni0'\n    ip link show 2\u003e/dev/null | grep 'master cni0' | while read ignore iface ignore; do\n        iface=${iface%%@*}\n        [ -z \"$iface\" ] || ip link delete $iface\n    done\n\n    # Delete cni related interfaces\n    ip link delete cni0\n    ip link delete flannel.1\n    ip link delete flannel-v6.1\n    ip link delete kube-ipvs0\n    ip link delete flannel-wg\n    ip link delete flannel-wg-v6\n\n    # Restart tailscale\n    if [ -n \"$(command -v tailscale)\" ]; then\n        tailscale set --advertise-routes=\n    fi\n}\n\ngetshims() {\n    ps -e -o pid= -o args= | sed -e 's/^ *//; s/\\s\\s*/\\t/;' | grep -w 'k3s/data/[^/]*/bin/containerd-shim' | cut -f1\n}\n\nkilltree $({ set +x; } 2\u003e/dev/null; getshims; set -x)\n\ndo_unmount_and_remove() {\n    set +x\n    while read -r _ path _; do\n        case \"$path\" in $1*) echo \"$path\" ;; esac\n    done \u003c /proc/self/mounts | sort -r | xargs -r -t -n 1 sh -c 'umount -f \"$0\" \u0026\u0026 rm -rf \"$0\"'\n    set -x\n}\n\ndo_unmount_and_remove '/run/k3s'\ndo_unmount_and_remove '/var/lib/rancher/k3s'\ndo_unmount_and_remove '/var/lib/kubelet/pods'\ndo_unmount_and_remove '/var/lib/kubelet/plugins'\ndo_unmount_and_remove '/run/netns/cni-'\n\n# Remove CNI namespaces\nip netns show 2\u003e/dev/null | grep cni- | xargs -r -t -n 1 ip netns delete\n\nremove_interfaces\n\nrm -rf /var/lib/cni/\niptables-save | grep -v KUBE- | grep -v CNI- | grep -iv flannel | iptables-restore\nip6tables-save | grep -v KUBE- | grep -v CNI- | grep -iv flannel | ip6tables-restore\nEOF\n    $SUDO chmod 755 ${KILLALL_K3S_SH}\n    $SUDO chown root:root ${KILLALL_K3S_SH}\n}\n\n# --- create uninstall script ---\ncreate_uninstall() {\n    [ \"${INSTALL_K3S_BIN_DIR_READ_ONLY}\" = true ] \u0026\u0026 return\n    info \"Creating uninstall script ${UNINSTALL_K3S_SH}\"\n    $SUDO tee ${UNINSTALL_K3S_SH} \u003e/dev/null \u003c\u003c EOF\n#!/bin/sh\nset -x\n[ \\$(id -u) -eq 0 ] || exec sudo \\$0 \\$@\n\n${KILLALL_K3S_SH}\n\nif command -v systemctl; then\n    systemctl disable ${SYSTEM_NAME}\n    systemctl reset-failed ${SYSTEM_NAME}\n    systemctl daemon-reload\nfi\nif command -v rc-update; then\n    rc-update delete ${SYSTEM_NAME} default\nfi\n\nrm -f ${FILE_K3S_SERVICE}\nrm -f ${FILE_K3S_ENV}\n\nremove_uninstall() {\n    rm -f ${UNINSTALL_K3S_SH}\n}\ntrap remove_uninstall EXIT\n\nif (ls ${SYSTEMD_DIR}/k3s*.service || ls /etc/init.d/k3s*) \u003e/dev/null 2\u003e\u00261; then\n    set +x; echo 'Additional k3s services installed, skipping uninstall of k3s'; set -x\n    exit\nfi\n\nfor cmd in kubectl crictl ctr; do\n    if [ -L ${BIN_DIR}/\\$cmd ]; then\n        rm -f ${BIN_DIR}/\\$cmd\n    fi\ndone\n\nrm -rf /etc/rancher/k3s\nrm -rf /run/k3s\nrm -rf /run/flannel\nrm -rf /var/lib/rancher/k3s\nrm -rf /var/lib/kubelet\nrm -f ${BIN_DIR}/k3s\nrm -f ${KILLALL_K3S_SH}\n\nif type yum \u003e/dev/null 2\u003e\u00261; then\n    yum remove -y k3s-selinux\n    rm -f /etc/yum.repos.d/rancher-k3s-common*.repo\nelif type rpm-ostree \u003e/dev/null 2\u003e\u00261; then\n    rpm-ostree uninstall k3s-selinux\n    rm -f /etc/yum.repos.d/rancher-k3s-common*.repo\nelif type zypper \u003e/dev/null 2\u003e\u00261; then\n    uninstall_cmd=\"zypper remove -y k3s-selinux\"\n    if [ \"\\${TRANSACTIONAL_UPDATE=false}\" != \"true\" ] \u0026\u0026 [ -x /usr/sbin/transactional-update ]; then\n        uninstall_cmd=\"transactional-update --no-selfupdate -d run \\$uninstall_cmd\"\n    fi\n    \\$uninstall_cmd\n    rm -f /etc/zypp/repos.d/rancher-k3s-common*.repo\nfi\nEOF\n    $SUDO chmod 755 ${UNINSTALL_K3S_SH}\n    $SUDO chown root:root ${UNINSTALL_K3S_SH}\n}\n\n# --- disable current service if loaded --\nsystemd_disable() {\n    $SUDO systemctl disable ${SYSTEM_NAME} \u003e/dev/null 2\u003e\u00261 || true\n    $SUDO rm -f /etc/systemd/system/${SERVICE_K3S} || true\n    $SUDO rm -f /etc/systemd/system/${SERVICE_K3S}.env || true\n}\n\n# --- capture current env and create file containing k3s_ variables ---\ncreate_env_file() {\n    info \"env: Creating environment file ${FILE_K3S_ENV}\"\n    $SUDO touch ${FILE_K3S_ENV}\n    $SUDO chmod 0600 ${FILE_K3S_ENV}\n    sh -c export | while read x v; do echo $v; done | grep -E '^(K3S|CONTAINERD)_' | $SUDO tee ${FILE_K3S_ENV} \u003e/dev/null\n    sh -c export | while read x v; do echo $v; done | grep -Ei '^(NO|HTTP|HTTPS)_PROXY' | $SUDO tee -a ${FILE_K3S_ENV} \u003e/dev/null\n}\n\n# --- write systemd service file ---\ncreate_systemd_service_file() {\n    info \"systemd: Creating service file ${FILE_K3S_SERVICE}\"\n    $SUDO tee ${FILE_K3S_SERVICE} \u003e/dev/null \u003c\u003c EOF\n[Unit]\nDescription=Lightweight Kubernetes\nDocumentation=https://k3s.io\nWants=network-online.target\nAfter=network-online.target\n\n[Install]\nWantedBy=multi-user.target\n\n[Service]\nType=${SYSTEMD_TYPE}\nEnvironmentFile=-/etc/default/%N\nEnvironmentFile=-/etc/sysconfig/%N\nEnvironmentFile=-${FILE_K3S_ENV}\nKillMode=process\nDelegate=yes\n# Having non-zero Limit*s causes performance problems due to accounting overhead\n# in the kernel. We recommend using cgroups to do container-local accounting.\nLimitNOFILE=1048576\nLimitNPROC=infinity\nLimitCORE=infinity\nTasksMax=infinity\nTimeoutStartSec=0\nRestart=always\nRestartSec=5s\nExecStartPre=/bin/sh -xc '! /usr/bin/systemctl is-enabled --quiet nm-cloud-setup.service'\nExecStartPre=-/sbin/modprobe br_netfilter\nExecStartPre=-/sbin/modprobe overlay\nExecStart=${BIN_DIR}/k3s \\\\\n    ${CMD_K3S_EXEC}\n\nEOF\n}\n\n# --- write openrc service file ---\ncreate_openrc_service_file() {\n    LOG_FILE=/var/log/${SYSTEM_NAME}.log\n\n    info \"openrc: Creating service file ${FILE_K3S_SERVICE}\"\n    $SUDO tee ${FILE_K3S_SERVICE} \u003e/dev/null \u003c\u003c EOF\n#!/sbin/openrc-run\n\ndepend() {\n    after network-online\n    want cgroups\n}\n\nstart_pre() {\n    rm -f /tmp/k3s.*\n}\n\nsupervisor=supervise-daemon\nname=${SYSTEM_NAME}\ncommand=\"${BIN_DIR}/k3s\"\ncommand_args=\"$(escape_dq \"${CMD_K3S_EXEC}\")\n    \u003e\u003e${LOG_FILE} 2\u003e\u00261\"\n\noutput_log=${LOG_FILE}\nerror_log=${LOG_FILE}\n\npidfile=\"/var/run/${SYSTEM_NAME}.pid\"\nrespawn_delay=5\nrespawn_max=0\n\nset -o allexport\nif [ -f /etc/environment ]; then . /etc/environment; fi\nif [ -f ${FILE_K3S_ENV} ]; then . ${FILE_K3S_ENV}; fi\nset +o allexport\nEOF\n    $SUDO chmod 0755 ${FILE_K3S_SERVICE}\n\n    $SUDO tee /etc/logrotate.d/${SYSTEM_NAME} \u003e/dev/null \u003c\u003c EOF\n${LOG_FILE} {\n\tmissingok\n\tnotifempty\n\tcopytruncate\n}\nEOF\n}\n\n# --- write systemd or openrc service file ---\ncreate_service_file() {\n    [ \"${HAS_SYSTEMD}\" = true ] \u0026\u0026 create_systemd_service_file \u0026\u0026 restore_systemd_service_file_context\n    [ \"${HAS_OPENRC}\" = true ] \u0026\u0026 create_openrc_service_file\n    return 0\n}\n\nrestore_systemd_service_file_context() {\n    $SUDO restorecon -R -i ${FILE_K3S_SERVICE} 2\u003e/dev/null || true\n    $SUDO restorecon -R -i ${FILE_K3S_ENV} 2\u003e/dev/null || true\n}\n\n# --- get hashes of the current k3s bin and service files\nget_installed_hashes() {\n    $SUDO sha256sum ${BIN_DIR}/k3s ${FILE_K3S_SERVICE} ${FILE_K3S_ENV} 2\u003e\u00261 || true\n}\n\n# --- enable and start systemd service ---\nsystemd_enable() {\n    info \"systemd: Enabling ${SYSTEM_NAME} unit\"\n    $SUDO systemctl enable ${FILE_K3S_SERVICE} \u003e/dev/null\n    $SUDO systemctl daemon-reload \u003e/dev/null\n}\n\nsystemd_start() {\n    info \"systemd: Starting ${SYSTEM_NAME}\"\n    $SUDO systemctl restart ${SYSTEM_NAME}\n}\n\n# --- enable and start openrc service ---\nopenrc_enable() {\n    info \"openrc: Enabling ${SYSTEM_NAME} service for default runlevel\"\n    $SUDO rc-update add ${SYSTEM_NAME} default \u003e/dev/null\n}\n\nopenrc_start() {\n    info \"openrc: Starting ${SYSTEM_NAME}\"\n    $SUDO ${FILE_K3S_SERVICE} restart\n}\n\nhas_working_xtables() {\n    if command -v \"$1-save\" 1\u003e /dev/null \u0026\u0026 command -v \"$1-restore\" 1\u003e /dev/null; then\n        if $SUDO $1-save 2\u003e/dev/null | grep -q '^-A CNI-HOSTPORT-MASQ -j MASQUERADE$'; then\n            warn \"Host $1-save/$1-restore tools are incompatible with existing rules\"\n        else\n            return 0\n        fi\n    else\n        info \"Host $1-save/$1-restore tools not found\"\n    fi\n    return 1\n}\n\n# --- startup systemd or openrc service ---\nservice_enable_and_start() {\n    if [ -f \"/proc/cgroups\" ] \u0026\u0026 [ \"$(grep memory /proc/cgroups | while read -r n n n enabled; do echo $enabled; done)\" -eq 0 ];\n    then\n        info 'Failed to find memory cgroup, you may need to add \"cgroup_memory=1 cgroup_enable=memory\" to your linux cmdline (/boot/cmdline.txt on a Raspberry Pi)'\n    fi\n\n    [ \"${INSTALL_K3S_SKIP_ENABLE}\" = true ] \u0026\u0026 return\n\n    [ \"${HAS_SYSTEMD}\" = true ] \u0026\u0026 systemd_enable\n    [ \"${HAS_OPENRC}\" = true ] \u0026\u0026 openrc_enable\n\n    [ \"${INSTALL_K3S_SKIP_START}\" = true ] \u0026\u0026 return\n\n    POST_INSTALL_HASHES=$(get_installed_hashes)\n    if [ \"${PRE_INSTALL_HASHES}\" = \"${POST_INSTALL_HASHES}\" ] \u0026\u0026 [ \"${INSTALL_K3S_FORCE_RESTART}\" != true ]; then\n        info 'No change detected so skipping service start'\n        return\n    fi\n\n    for XTABLES in iptables ip6tables; do\n        if has_working_xtables ${XTABLES}; then\n            $SUDO ${XTABLES}-save 2\u003e/dev/null | grep -v KUBE- | grep -iv flannel | $SUDO ${XTABLES}-restore\n        fi\n    done\n\n    [ \"${HAS_SYSTEMD}\" = true ] \u0026\u0026 systemd_start\n    [ \"${HAS_OPENRC}\" = true ] \u0026\u0026 openrc_start\n    return 0\n}\n\n# --- re-evaluate args to include env command ---\neval set -- $(escape \"${INSTALL_K3S_EXEC}\") $(quote \"$@\")\n\n# --- run the install process --\n{\n    verify_system\n    setup_env \"$@\"\n    download_and_verify\n    setup_selinux\n    create_symlinks\n    create_killall\n    create_uninstall\n    systemd_disable\n    create_env_file\n    create_service_file\n    service_enable_and_start\n}\n\n",
            "ca_cert_pem": null,
            "id": "https://raw.githubusercontent.com/rancher/k3s/v1.28.4+k3s2/install.sh",
            "insecure": null,
            "method": null,
            "request_body": null,
            "request_headers": null,
            "request_timeout_ms": null,
            "response_body": "#!/bin/sh\nset -e\nset -o noglob\n\n# Usage:\n#   curl ... | ENV_VAR=... sh -\n#       or\n#   ENV_VAR=... ./install.sh\n#\n# Example:\n#   Installing a server without traefik:\n#     curl ... | INSTALL_K3S_EXEC=\"--disable=traefik\" sh -\n#   Installing an agent to point at a server:\n#     curl ... | K3S_TOKEN=xxx K3S_URL=https://server-url:6443 sh -\n#\n# Environment variables:\n#   - K3S_*\n#     Environment variables which begin with K3S_ will be preserved for the\n#     systemd service to use. Setting K3S_URL without explicitly setting\n#     a systemd exec command will default the command to \"agent\", and we\n#     enforce that K3S_TOKEN is also set.\n#\n#   - INSTALL_K3S_SKIP_DOWNLOAD\n#     If set to true will not download k3s hash or binary.\n#\n#   - INSTALL_K3S_FORCE_RESTART\n#     If set to true will always restart the K3s service\n#\n#   - INSTALL_K3S_SYMLINK\n#     If set to 'skip' will not create symlinks, 'force' will overwrite,\n#     default will symlink if command does not exist in path.\n#\n#   - INSTALL_K3S_SKIP_ENABLE\n#     If set to true will not enable or start k3s service.\n#\n#   - INSTALL_K3S_SKIP_START\n#     If set to true will not start k3s service.\n#\n#   - INSTALL_K3S_VERSION\n#     Version of k3s to download from github. Will attempt to download from the\n#     stable channel if not specified.\n#\n#   - INSTALL_K3S_COMMIT\n#     Commit of k3s to download from temporary cloud storage.\n#     * (for developer \u0026 QA use)\n#\n#   - INSTALL_K3S_BIN_DIR\n#     Directory to install k3s binary, links, and uninstall script to, or use\n#     /usr/local/bin as the default\n#\n#   - INSTALL_K3S_BIN_DIR_READ_ONLY\n#     If set to true will not write files to INSTALL_K3S_BIN_DIR, forces\n#     setting INSTALL_K3S_SKIP_DOWNLOAD=true\n#\n#   - INSTALL_K3S_SYSTEMD_DIR\n#     Directory to install systemd service and environment files to, or use\n#     /etc/systemd/system as the default\n#\n#   - INSTALL_K3S_EXEC or script arguments\n#     Command with flags to use for launching k3s in the systemd service, if\n#     the command is not specified will default to \"agent\" if K3S_URL is set\n#     or \"server\" if not. The final systemd command resolves to a combination\n#     of EXEC and script args ($@).\n#\n#     The following commands result in the same behavior:\n#       curl ... | INSTALL_K3S_EXEC=\"--disable=traefik\" sh -s -\n#       curl ... | INSTALL_K3S_EXEC=\"server --disable=traefik\" sh -s -\n#       curl ... | INSTALL_K3S_EXEC=\"server\" sh -s - --disable=traefik\n#       curl ... | sh -s - server --disable=traefik\n#       curl ... | sh -s - --disable=traefik\n#\n#   - INSTALL_K3S_NAME\n#     Name of systemd service to create, will default from the k3s exec command\n#     if not specified. If specified the name will be prefixed with 'k3s-'.\n#\n#   - INSTALL_K3S_TYPE\n#     Type of systemd service to create, will default from the k3s exec command\n#     if not specified.\n#\n#   - INSTALL_K3S_SELINUX_WARN\n#     If set to true will continue if k3s-selinux policy is not found.\n#\n#   - INSTALL_K3S_SKIP_SELINUX_RPM\n#     If set to true will skip automatic installation of the k3s RPM.\n#\n#   - INSTALL_K3S_CHANNEL_URL\n#     Channel URL for fetching k3s download URL.\n#     Defaults to 'https://update.k3s.io/v1-release/channels'.\n#\n#   - INSTALL_K3S_CHANNEL\n#     Channel to use for fetching k3s download URL.\n#     Defaults to 'stable'.\n\nGITHUB_URL=https://github.com/k3s-io/k3s/releases\nSTORAGE_URL=https://k3s-ci-builds.s3.amazonaws.com\nDOWNLOADER=\n\n# --- helper functions for logs ---\ninfo()\n{\n    echo '[INFO] ' \"$@\"\n}\nwarn()\n{\n    echo '[WARN] ' \"$@\" \u003e\u00262\n}\nfatal()\n{\n    echo '[ERROR] ' \"$@\" \u003e\u00262\n    exit 1\n}\n\n# --- fatal if no systemd or openrc ---\nverify_system() {\n    if [ -x /sbin/openrc-run ]; then\n        HAS_OPENRC=true\n        return\n    fi\n    if [ -x /bin/systemctl ] || type systemctl \u003e /dev/null 2\u003e\u00261; then\n        HAS_SYSTEMD=true\n        return\n    fi\n    fatal 'Can not find systemd or openrc to use as a process supervisor for k3s'\n}\n\n# --- add quotes to command arguments ---\nquote() {\n    for arg in \"$@\"; do\n        printf '%s\\n' \"$arg\" | sed \"s/'/'\\\\\\\\''/g;1s/^/'/;\\$s/\\$/'/\"\n    done\n}\n\n# --- add indentation and trailing slash to quoted args ---\nquote_indent() {\n    printf ' \\\\\\n'\n    for arg in \"$@\"; do\n        printf '\\t%s \\\\\\n' \"$(quote \"$arg\")\"\n    done\n}\n\n# --- escape most punctuation characters, except quotes, forward slash, and space ---\nescape() {\n    printf '%s' \"$@\" | sed -e 's/\\([][!#$%\u0026()*;\u003c=\u003e?\\_`{|}]\\)/\\\\\\1/g;'\n}\n\n# --- escape double quotes ---\nescape_dq() {\n    printf '%s' \"$@\" | sed -e 's/\"/\\\\\"/g'\n}\n\n# --- ensures $K3S_URL is empty or begins with https://, exiting fatally otherwise ---\nverify_k3s_url() {\n    case \"${K3S_URL}\" in\n        \"\")\n            ;;\n        https://*)\n            ;;\n        *)\n            fatal \"Only https:// URLs are supported for K3S_URL (have ${K3S_URL})\"\n            ;;\n    esac\n}\n\n# --- define needed environment variables ---\nsetup_env() {\n    # --- use command args if passed or create default ---\n    case \"$1\" in\n        # --- if we only have flags discover if command should be server or agent ---\n        (-*|\"\")\n            if [ -z \"${K3S_URL}\" ]; then\n                CMD_K3S=server\n            else\n                if [ -z \"${K3S_TOKEN}\" ] \u0026\u0026 [ -z \"${K3S_TOKEN_FILE}\" ]; then\n                    fatal \"Defaulted k3s exec command to 'agent' because K3S_URL is defined, but K3S_TOKEN or K3S_TOKEN_FILE is not defined.\"\n                fi\n                CMD_K3S=agent\n            fi\n        ;;\n        # --- command is provided ---\n        (*)\n            CMD_K3S=$1\n            shift\n        ;;\n    esac\n\n    verify_k3s_url\n\n    CMD_K3S_EXEC=\"${CMD_K3S}$(quote_indent \"$@\")\"\n\n    # --- use systemd name if defined or create default ---\n    if [ -n \"${INSTALL_K3S_NAME}\" ]; then\n        SYSTEM_NAME=k3s-${INSTALL_K3S_NAME}\n    else\n        if [ \"${CMD_K3S}\" = server ]; then\n            SYSTEM_NAME=k3s\n        else\n            SYSTEM_NAME=k3s-${CMD_K3S}\n        fi\n    fi\n\n    # --- check for invalid characters in system name ---\n    valid_chars=$(printf '%s' \"${SYSTEM_NAME}\" | sed -e 's/[][!#$%\u0026()*;\u003c=\u003e?\\_`{|}/[:space:]]/^/g;' )\n    if [ \"${SYSTEM_NAME}\" != \"${valid_chars}\"  ]; then\n        invalid_chars=$(printf '%s' \"${valid_chars}\" | sed -e 's/[^^]/ /g')\n        fatal \"Invalid characters for system name:\n            ${SYSTEM_NAME}\n            ${invalid_chars}\"\n    fi\n\n    # --- use sudo if we are not already root ---\n    SUDO=sudo\n    if [ $(id -u) -eq 0 ]; then\n        SUDO=\n    fi\n\n    # --- use systemd type if defined or create default ---\n    if [ -n \"${INSTALL_K3S_TYPE}\" ]; then\n        SYSTEMD_TYPE=${INSTALL_K3S_TYPE}\n    else\n        SYSTEMD_TYPE=notify\n    fi\n\n    # --- use binary install directory if defined or create default ---\n    if [ -n \"${INSTALL_K3S_BIN_DIR}\" ]; then\n        BIN_DIR=${INSTALL_K3S_BIN_DIR}\n    else\n        # --- use /usr/local/bin if root can write to it, otherwise use /opt/bin if it exists\n        BIN_DIR=/usr/local/bin\n        if ! $SUDO sh -c \"touch ${BIN_DIR}/k3s-ro-test \u0026\u0026 rm -rf ${BIN_DIR}/k3s-ro-test\"; then\n            if [ -d /opt/bin ]; then\n                BIN_DIR=/opt/bin\n            fi\n        fi\n    fi\n\n    # --- use systemd directory if defined or create default ---\n    if [ -n \"${INSTALL_K3S_SYSTEMD_DIR}\" ]; then\n        SYSTEMD_DIR=\"${INSTALL_K3S_SYSTEMD_DIR}\"\n    else\n        SYSTEMD_DIR=/etc/systemd/system\n    fi\n\n    # --- set related files from system name ---\n    SERVICE_K3S=${SYSTEM_NAME}.service\n    UNINSTALL_K3S_SH=${UNINSTALL_K3S_SH:-${BIN_DIR}/${SYSTEM_NAME}-uninstall.sh}\n    KILLALL_K3S_SH=${KILLALL_K3S_SH:-${BIN_DIR}/k3s-killall.sh}\n\n    # --- use service or environment location depending on systemd/openrc ---\n    if [ \"${HAS_SYSTEMD}\" = true ]; then\n        FILE_K3S_SERVICE=${SYSTEMD_DIR}/${SERVICE_K3S}\n        FILE_K3S_ENV=${SYSTEMD_DIR}/${SERVICE_K3S}.env\n    elif [ \"${HAS_OPENRC}\" = true ]; then\n        $SUDO mkdir -p /etc/rancher/k3s\n        FILE_K3S_SERVICE=/etc/init.d/${SYSTEM_NAME}\n        FILE_K3S_ENV=/etc/rancher/k3s/${SYSTEM_NAME}.env\n    fi\n\n    # --- get hash of config \u0026 exec for currently installed k3s ---\n    PRE_INSTALL_HASHES=$(get_installed_hashes)\n\n    # --- if bin directory is read only skip download ---\n    if [ \"${INSTALL_K3S_BIN_DIR_READ_ONLY}\" = true ]; then\n        INSTALL_K3S_SKIP_DOWNLOAD=true\n    fi\n\n    # --- setup channel values\n    INSTALL_K3S_CHANNEL_URL=${INSTALL_K3S_CHANNEL_URL:-'https://update.k3s.io/v1-release/channels'}\n    INSTALL_K3S_CHANNEL=${INSTALL_K3S_CHANNEL:-'stable'}\n}\n\n# --- check if skip download environment variable set ---\ncan_skip_download_binary() {\n    if [ \"${INSTALL_K3S_SKIP_DOWNLOAD}\" != true ] \u0026\u0026 [ \"${INSTALL_K3S_SKIP_DOWNLOAD}\" != binary ]; then\n        return 1\n    fi\n}\n\ncan_skip_download_selinux() {                                                        \n    if [ \"${INSTALL_K3S_SKIP_DOWNLOAD}\" != true ] \u0026\u0026 [ \"${INSTALL_K3S_SKIP_DOWNLOAD}\" != selinux ]; then \n        return 1                                                                     \n    fi                                                                               \n}  \n\n# --- verify an executable k3s binary is installed ---\nverify_k3s_is_executable() {\n    if [ ! -x ${BIN_DIR}/k3s ]; then\n        fatal \"Executable k3s binary not found at ${BIN_DIR}/k3s\"\n    fi\n}\n\n# --- set arch and suffix, fatal if architecture not supported ---\nsetup_verify_arch() {\n    if [ -z \"$ARCH\" ]; then\n        ARCH=$(uname -m)\n    fi\n    case $ARCH in\n        amd64)\n            ARCH=amd64\n            SUFFIX=\n            ;;\n        x86_64)\n            ARCH=amd64\n            SUFFIX=\n            ;;\n        arm64)\n            ARCH=arm64\n            SUFFIX=-${ARCH}\n            ;;\n        s390x)\n            ARCH=s390x\n            SUFFIX=-${ARCH}\n            ;;\n        aarch64)\n            ARCH=arm64\n            SUFFIX=-${ARCH}\n            ;;\n        arm*)\n            ARCH=arm\n            SUFFIX=-${ARCH}hf\n            ;;\n        *)\n            fatal \"Unsupported architecture $ARCH\"\n    esac\n}\n\n# --- verify existence of network downloader executable ---\nverify_downloader() {\n    # Return failure if it doesn't exist or is no executable\n    [ -x \"$(command -v $1)\" ] || return 1\n\n    # Set verified executable as our downloader program and return success\n    DOWNLOADER=$1\n    return 0\n}\n\n# --- create temporary directory and cleanup when done ---\nsetup_tmp() {\n    TMP_DIR=$(mktemp -d -t k3s-install.XXXXXXXXXX)\n    TMP_HASH=${TMP_DIR}/k3s.hash\n    TMP_BIN=${TMP_DIR}/k3s.bin\n    cleanup() {\n        code=$?\n        set +e\n        trap - EXIT\n        rm -rf ${TMP_DIR}\n        exit $code\n    }\n    trap cleanup INT EXIT\n}\n\n# --- use desired k3s version if defined or find version from channel ---\nget_release_version() {\n    if [ -n \"${INSTALL_K3S_COMMIT}\" ]; then\n        VERSION_K3S=\"commit ${INSTALL_K3S_COMMIT}\"\n    elif [ -n \"${INSTALL_K3S_VERSION}\" ]; then\n        VERSION_K3S=${INSTALL_K3S_VERSION}\n    else\n        info \"Finding release for channel ${INSTALL_K3S_CHANNEL}\"\n        version_url=\"${INSTALL_K3S_CHANNEL_URL}/${INSTALL_K3S_CHANNEL}\"\n        case $DOWNLOADER in\n            curl)\n                VERSION_K3S=$(curl -w '%{url_effective}' -L -s -S ${version_url} -o /dev/null | sed -e 's|.*/||')\n                ;;\n            wget)\n                VERSION_K3S=$(wget -SqO /dev/null ${version_url} 2\u003e\u00261 | grep -i Location | sed -e 's|.*/||')\n                ;;\n            *)\n                fatal \"Incorrect downloader executable '$DOWNLOADER'\"\n                ;;\n        esac\n    fi\n    info \"Using ${VERSION_K3S} as release\"\n}\n\n# --- get k3s-selinux version ---\nget_k3s_selinux_version() {\n    available_version=\"k3s-selinux-1.2-2.${rpm_target}.noarch.rpm\"\n    info \"Finding available k3s-selinux versions\"\n    \n    # run verify_downloader in case it binary installation was skipped\n    verify_downloader curl || verify_downloader wget || fatal 'Can not find curl or wget for downloading files'\n\n    case $DOWNLOADER in\n        curl)\n            DOWNLOADER_OPTS=\"-s\"\n            ;;\n        wget)\n            DOWNLOADER_OPTS=\"-q -O -\"\n            ;;\n        *)\n            fatal \"Incorrect downloader executable '$DOWNLOADER'\"\n            ;;\n    esac\n    for i in {1..3}; do\n        set +e\n        if [ \"${rpm_channel}\" = \"testing\" ]; then\n            version=$(timeout 5 ${DOWNLOADER} ${DOWNLOADER_OPTS} https://api.github.com/repos/k3s-io/k3s-selinux/releases |  grep browser_download_url | awk '{ print $2 }' | grep -oE \"[^\\/]+${rpm_target}\\.noarch\\.rpm\" | head -n 1)\n        else\n            version=$(timeout 5 ${DOWNLOADER} ${DOWNLOADER_OPTS} https://api.github.com/repos/k3s-io/k3s-selinux/releases/latest |  grep browser_download_url | awk '{ print $2 }' | grep -oE \"[^\\/]+${rpm_target}\\.noarch\\.rpm\")\n        fi\n        set -e\n        if [ \"${version}\" != \"\" ]; then\n            break\n        fi\n        sleep 1\n    done\n    if [ \"${version}\" == \"\" ]; then\n        warn \"Failed to get available versions of k3s-selinux..defaulting to ${available_version}\"\n        return\n    fi\n    available_version=${version}\n}\n\n# --- download from github url ---\ndownload() {\n    [ $# -eq 2 ] || fatal 'download needs exactly 2 arguments'\n\n    case $DOWNLOADER in\n        curl)\n            curl -o $1 -sfL $2\n            ;;\n        wget)\n            wget -qO $1 $2\n            ;;\n        *)\n            fatal \"Incorrect executable '$DOWNLOADER'\"\n            ;;\n    esac\n\n    # Abort if download command failed\n    [ $? -eq 0 ] || fatal 'Download failed'\n}\n\n# --- download hash from github url ---\ndownload_hash() {\n    if [ -n \"${INSTALL_K3S_COMMIT}\" ]; then\n        HASH_URL=${STORAGE_URL}/k3s${SUFFIX}-${INSTALL_K3S_COMMIT}.sha256sum\n    else\n        HASH_URL=${GITHUB_URL}/download/${VERSION_K3S}/sha256sum-${ARCH}.txt\n    fi\n    info \"Downloading hash ${HASH_URL}\"\n    download ${TMP_HASH} ${HASH_URL}\n    HASH_EXPECTED=$(grep \" k3s${SUFFIX}$\" ${TMP_HASH})\n    HASH_EXPECTED=${HASH_EXPECTED%%[[:blank:]]*}\n}\n\n# --- check hash against installed version ---\ninstalled_hash_matches() {\n    if [ -x ${BIN_DIR}/k3s ]; then\n        HASH_INSTALLED=$(sha256sum ${BIN_DIR}/k3s)\n        HASH_INSTALLED=${HASH_INSTALLED%%[[:blank:]]*}\n        if [ \"${HASH_EXPECTED}\" = \"${HASH_INSTALLED}\" ]; then\n            return\n        fi\n    fi\n    return 1\n}\n\n# --- download binary from github url ---\ndownload_binary() {\n    if [ -n \"${INSTALL_K3S_COMMIT}\" ]; then\n        BIN_URL=${STORAGE_URL}/k3s${SUFFIX}-${INSTALL_K3S_COMMIT}\n    else\n        BIN_URL=${GITHUB_URL}/download/${VERSION_K3S}/k3s${SUFFIX}\n    fi\n    info \"Downloading binary ${BIN_URL}\"\n    download ${TMP_BIN} ${BIN_URL}\n}\n\n# --- verify downloaded binary hash ---\nverify_binary() {\n    info \"Verifying binary download\"\n    HASH_BIN=$(sha256sum ${TMP_BIN})\n    HASH_BIN=${HASH_BIN%%[[:blank:]]*}\n    if [ \"${HASH_EXPECTED}\" != \"${HASH_BIN}\" ]; then\n        fatal \"Download sha256 does not match ${HASH_EXPECTED}, got ${HASH_BIN}\"\n    fi\n}\n\n# --- setup permissions and move binary to system directory ---\nsetup_binary() {\n    chmod 755 ${TMP_BIN}\n    info \"Installing k3s to ${BIN_DIR}/k3s\"\n    $SUDO chown root:root ${TMP_BIN}\n    $SUDO mv -f ${TMP_BIN} ${BIN_DIR}/k3s\n}\n\n# --- setup selinux policy ---\nsetup_selinux() {\n    case ${INSTALL_K3S_CHANNEL} in \n        *testing)\n            rpm_channel=testing\n            ;;\n        *latest)\n            rpm_channel=latest\n            ;;\n        *)\n            rpm_channel=stable\n            ;;\n    esac\n\n    rpm_site=\"rpm.rancher.io\"\n    if [ \"${rpm_channel}\" = \"testing\" ]; then\n        rpm_site=\"rpm-testing.rancher.io\"\n    fi\n\n    [ -r /etc/os-release ] \u0026\u0026 . /etc/os-release\n    if [ `expr \"${ID_LIKE}\" : \".*suse.*\"` != 0 ]; then\n        rpm_target=sle\n        rpm_site_infix=microos\n        package_installer=zypper\n        if [ \"${ID_LIKE:-}\" = suse ] \u0026\u0026 ( [ \"${VARIANT_ID:-}\" = sle-micro ] || [ \"${ID:-}\" = sle-micro ] ); then\n            rpm_target=sle\n            rpm_site_infix=slemicro\n            package_installer=zypper\n        fi\n    elif [ \"${ID_LIKE:-}\" = coreos ] || [ \"${VARIANT_ID:-}\" = coreos ]; then\n        rpm_target=coreos\n        rpm_site_infix=coreos\n        package_installer=rpm-ostree\n    elif [ \"${VERSION_ID%%.*}\" = \"7\" ]; then\n        rpm_target=el7\n        rpm_site_infix=centos/7\n        package_installer=yum\n    elif [ \"${VERSION_ID%%.*}\" = \"8\" ] || [ \"${VERSION_ID%%.*}\" -gt \"36\" ]; then\n        rpm_target=el8\n        rpm_site_infix=centos/8\n        package_installer=yum\n    else\n        rpm_target=el9\n        rpm_site_infix=centos/9\n        package_installer=yum\n    fi\n\n    if [ \"${package_installer}\" = \"rpm-ostree\" ] \u0026\u0026 [ -x /bin/yum ]; then\n        package_installer=yum\n    fi\n\n    if [ \"${package_installer}\" = \"yum\" ] \u0026\u0026 [ -x /usr/bin/dnf ]; then\n        package_installer=dnf\n    fi\n\n    policy_hint=\"please install:\n    ${package_installer} install -y container-selinux\n    ${package_installer} install -y https://${rpm_site}/k3s/${rpm_channel}/common/${rpm_site_infix}/noarch/${available_version}\n\"\n\n    if [ \"$INSTALL_K3S_SKIP_SELINUX_RPM\" = true ] || can_skip_download_selinux || [ ! -d /usr/share/selinux ]; then\n        info \"Skipping installation of SELinux RPM\"\n    else\n        get_k3s_selinux_version\n        install_selinux_rpm ${rpm_site} ${rpm_channel} ${rpm_target} ${rpm_site_infix}\n    fi\n\n    policy_error=fatal\n    if [ \"$INSTALL_K3S_SELINUX_WARN\" = true ] || [ \"${ID_LIKE:-}\" = coreos ] || [ \"${VARIANT_ID:-}\" = coreos ]; then\n        policy_error=warn\n    fi\n\n    if ! $SUDO chcon -u system_u -r object_r -t container_runtime_exec_t ${BIN_DIR}/k3s \u003e/dev/null 2\u003e\u00261; then\n        if $SUDO grep '^\\s*SELINUX=enforcing' /etc/selinux/config \u003e/dev/null 2\u003e\u00261; then\n            $policy_error \"Failed to apply container_runtime_exec_t to ${BIN_DIR}/k3s, ${policy_hint}\"\n        fi\n    elif [ ! -f /usr/share/selinux/packages/k3s.pp ]; then\n        if [ -x /usr/sbin/transactional-update ] || [ \"${ID_LIKE:-}\" = coreos ] || [ \"${VARIANT_ID:-}\" = coreos ]; then\n            warn \"Please reboot your machine to activate the changes and avoid data loss.\"\n        else\n            $policy_error \"Failed to find the k3s-selinux policy, ${policy_hint}\"\n        fi\n    fi\n}\n\ninstall_selinux_rpm() {\n    if [ -r /etc/redhat-release ] || [ -r /etc/centos-release ] || [ -r /etc/oracle-release ] || [ -r /etc/fedora-release ] || [ \"${ID_LIKE%%[ ]*}\" = \"suse\" ]; then\n        repodir=/etc/yum.repos.d\n        if [ -d /etc/zypp/repos.d ]; then\n            repodir=/etc/zypp/repos.d\n        fi\n        set +o noglob\n        $SUDO rm -f ${repodir}/rancher-k3s-common*.repo\n        set -o noglob\n        if [ -r /etc/redhat-release ] \u0026\u0026 [ \"${3}\" = \"el7\" ]; then\n            $SUDO yum install -y yum-utils\n            $SUDO yum-config-manager --enable rhel-7-server-extras-rpms\n        fi\n        $SUDO tee ${repodir}/rancher-k3s-common.repo \u003e/dev/null \u003c\u003c EOF\n[rancher-k3s-common-${2}]\nname=Rancher K3s Common (${2})\nbaseurl=https://${1}/k3s/${2}/common/${4}/noarch\nenabled=1\ngpgcheck=1\nrepo_gpgcheck=0\ngpgkey=https://${1}/public.key\nEOF\n        case ${3} in\n        sle)\n            rpm_installer=\"zypper --gpg-auto-import-keys\"\n            if [ \"${TRANSACTIONAL_UPDATE=false}\" != \"true\" ] \u0026\u0026 [ -x /usr/sbin/transactional-update ]; then\n                transactional_update_run=\"transactional-update --no-selfupdate -d run\"\n                rpm_installer=\"transactional-update --no-selfupdate -d run ${rpm_installer}\"\n                : \"${INSTALL_K3S_SKIP_START:=true}\"\n            fi\n            # create the /var/lib/rpm-state in SLE systems to fix the prein selinux macro\n            ${transactional_update_run} mkdir -p /var/lib/rpm-state\n            ;;\n        coreos)\n            rpm_installer=\"rpm-ostree --idempotent\"\n            # rpm_install_extra_args=\"--apply-live\"\n            : \"${INSTALL_K3S_SKIP_START:=true}\"\n            ;;\n        *)\n            rpm_installer=\"yum\"\n            ;;\n        esac\n        if [ \"${rpm_installer}\" = \"yum\" ] \u0026\u0026 [ -x /usr/bin/dnf ]; then\n            rpm_installer=dnf\n        fi\n\t    if rpm -q --quiet k3s-selinux; then \n            # remove k3s-selinux module before upgrade to allow container-selinux to upgrade safely\n            if check_available_upgrades container-selinux ${3} \u0026\u0026 check_available_upgrades k3s-selinux ${3}; then\n                MODULE_PRIORITY=$($SUDO semodule --list=full | grep k3s | cut -f1 -d\" \")\n                if [ -n \"${MODULE_PRIORITY}\" ]; then\n                    $SUDO semodule -X $MODULE_PRIORITY -r k3s || true\n                fi\n            fi\n        fi\n        # shellcheck disable=SC2086\n        $SUDO ${rpm_installer} install -y \"k3s-selinux\"\n    fi\n    return\n}\n\ncheck_available_upgrades() {\n    set +e\n    case ${2} in\n        sle)\n            available_upgrades=$($SUDO zypper -q -t -s 11 se -s -u --type package $1 | tail -n 1 | grep -v \"No matching\" | awk '{print $3}')\n            ;;\n        coreos)\n            # currently rpm-ostree does not support search functionality https://github.com/coreos/rpm-ostree/issues/1877\n            ;;\n        *)\n            available_upgrades=$($SUDO yum -q --refresh list $1 --upgrades | tail -n 1 | awk '{print $2}')\n            ;;\n    esac\n    set -e\n    if [ -n \"${available_upgrades}\" ]; then\n        return 0\n    fi\n    return 1\n}\n# --- download and verify k3s ---\ndownload_and_verify() {\n    if can_skip_download_binary; then\n       info 'Skipping k3s download and verify'\n       verify_k3s_is_executable\n       return\n    fi\n\n    setup_verify_arch\n    verify_downloader curl || verify_downloader wget || fatal 'Can not find curl or wget for downloading files'\n    setup_tmp\n    get_release_version\n    download_hash\n\n    if installed_hash_matches; then\n        info 'Skipping binary downloaded, installed k3s matches hash'\n        return\n    fi\n\n    download_binary\n    verify_binary\n    setup_binary\n}\n\n# --- add additional utility links ---\ncreate_symlinks() {\n    [ \"${INSTALL_K3S_BIN_DIR_READ_ONLY}\" = true ] \u0026\u0026 return\n    [ \"${INSTALL_K3S_SYMLINK}\" = skip ] \u0026\u0026 return\n\n    for cmd in kubectl crictl ctr; do\n        if [ ! -e ${BIN_DIR}/${cmd} ] || [ \"${INSTALL_K3S_SYMLINK}\" = force ]; then\n            which_cmd=$(command -v ${cmd} 2\u003e/dev/null || true)\n            if [ -z \"${which_cmd}\" ] || [ \"${INSTALL_K3S_SYMLINK}\" = force ]; then\n                info \"Creating ${BIN_DIR}/${cmd} symlink to k3s\"\n                $SUDO ln -sf k3s ${BIN_DIR}/${cmd}\n            else\n                info \"Skipping ${BIN_DIR}/${cmd} symlink to k3s, command exists in PATH at ${which_cmd}\"\n            fi\n        else\n            info \"Skipping ${BIN_DIR}/${cmd} symlink to k3s, already exists\"\n        fi\n    done\n}\n\n# --- create killall script ---\ncreate_killall() {\n    [ \"${INSTALL_K3S_BIN_DIR_READ_ONLY}\" = true ] \u0026\u0026 return\n    info \"Creating killall script ${KILLALL_K3S_SH}\"\n    $SUDO tee ${KILLALL_K3S_SH} \u003e/dev/null \u003c\u003c \\EOF\n#!/bin/sh\n[ $(id -u) -eq 0 ] || exec sudo $0 $@\n\nfor bin in /var/lib/rancher/k3s/data/**/bin/; do\n    [ -d $bin ] \u0026\u0026 export PATH=$PATH:$bin:$bin/aux\ndone\n\nset -x\n\nfor service in /etc/systemd/system/k3s*.service; do\n    [ -s $service ] \u0026\u0026 systemctl stop $(basename $service)\ndone\n\nfor service in /etc/init.d/k3s*; do\n    [ -x $service ] \u0026\u0026 $service stop\ndone\n\npschildren() {\n    ps -e -o ppid= -o pid= | \\\n    sed -e 's/^\\s*//g; s/\\s\\s*/\\t/g;' | \\\n    grep -w \"^$1\" | \\\n    cut -f2\n}\n\npstree() {\n    for pid in $@; do\n        echo $pid\n        for child in $(pschildren $pid); do\n            pstree $child\n        done\n    done\n}\n\nkilltree() {\n    kill -9 $(\n        { set +x; } 2\u003e/dev/null;\n        pstree $@;\n        set -x;\n    ) 2\u003e/dev/null\n}\n\nremove_interfaces() {\n    # Delete network interface(s) that match 'master cni0'\n    ip link show 2\u003e/dev/null | grep 'master cni0' | while read ignore iface ignore; do\n        iface=${iface%%@*}\n        [ -z \"$iface\" ] || ip link delete $iface\n    done\n\n    # Delete cni related interfaces\n    ip link delete cni0\n    ip link delete flannel.1\n    ip link delete flannel-v6.1\n    ip link delete kube-ipvs0\n    ip link delete flannel-wg\n    ip link delete flannel-wg-v6\n\n    # Restart tailscale\n    if [ -n \"$(command -v tailscale)\" ]; then\n        tailscale set --advertise-routes=\n    fi\n}\n\ngetshims() {\n    ps -e -o pid= -o args= | sed -e 's/^ *//; s/\\s\\s*/\\t/;' | grep -w 'k3s/data/[^/]*/bin/containerd-shim' | cut -f1\n}\n\nkilltree $({ set +x; } 2\u003e/dev/null; getshims; set -x)\n\ndo_unmount_and_remove() {\n    set +x\n    while read -r _ path _; do\n        case \"$path\" in $1*) echo \"$path\" ;; esac\n    done \u003c /proc/self/mounts | sort -r | xargs -r -t -n 1 sh -c 'umount -f \"$0\" \u0026\u0026 rm -rf \"$0\"'\n    set -x\n}\n\ndo_unmount_and_remove '/run/k3s'\ndo_unmount_and_remove '/var/lib/rancher/k3s'\ndo_unmount_and_remove '/var/lib/kubelet/pods'\ndo_unmount_and_remove '/var/lib/kubelet/plugins'\ndo_unmount_and_remove '/run/netns/cni-'\n\n# Remove CNI namespaces\nip netns show 2\u003e/dev/null | grep cni- | xargs -r -t -n 1 ip netns delete\n\nremove_interfaces\n\nrm -rf /var/lib/cni/\niptables-save | grep -v KUBE- | grep -v CNI- | grep -iv flannel | iptables-restore\nip6tables-save | grep -v KUBE- | grep -v CNI- | grep -iv flannel | ip6tables-restore\nEOF\n    $SUDO chmod 755 ${KILLALL_K3S_SH}\n    $SUDO chown root:root ${KILLALL_K3S_SH}\n}\n\n# --- create uninstall script ---\ncreate_uninstall() {\n    [ \"${INSTALL_K3S_BIN_DIR_READ_ONLY}\" = true ] \u0026\u0026 return\n    info \"Creating uninstall script ${UNINSTALL_K3S_SH}\"\n    $SUDO tee ${UNINSTALL_K3S_SH} \u003e/dev/null \u003c\u003c EOF\n#!/bin/sh\nset -x\n[ \\$(id -u) -eq 0 ] || exec sudo \\$0 \\$@\n\n${KILLALL_K3S_SH}\n\nif command -v systemctl; then\n    systemctl disable ${SYSTEM_NAME}\n    systemctl reset-failed ${SYSTEM_NAME}\n    systemctl daemon-reload\nfi\nif command -v rc-update; then\n    rc-update delete ${SYSTEM_NAME} default\nfi\n\nrm -f ${FILE_K3S_SERVICE}\nrm -f ${FILE_K3S_ENV}\n\nremove_uninstall() {\n    rm -f ${UNINSTALL_K3S_SH}\n}\ntrap remove_uninstall EXIT\n\nif (ls ${SYSTEMD_DIR}/k3s*.service || ls /etc/init.d/k3s*) \u003e/dev/null 2\u003e\u00261; then\n    set +x; echo 'Additional k3s services installed, skipping uninstall of k3s'; set -x\n    exit\nfi\n\nfor cmd in kubectl crictl ctr; do\n    if [ -L ${BIN_DIR}/\\$cmd ]; then\n        rm -f ${BIN_DIR}/\\$cmd\n    fi\ndone\n\nrm -rf /etc/rancher/k3s\nrm -rf /run/k3s\nrm -rf /run/flannel\nrm -rf /var/lib/rancher/k3s\nrm -rf /var/lib/kubelet\nrm -f ${BIN_DIR}/k3s\nrm -f ${KILLALL_K3S_SH}\n\nif type yum \u003e/dev/null 2\u003e\u00261; then\n    yum remove -y k3s-selinux\n    rm -f /etc/yum.repos.d/rancher-k3s-common*.repo\nelif type rpm-ostree \u003e/dev/null 2\u003e\u00261; then\n    rpm-ostree uninstall k3s-selinux\n    rm -f /etc/yum.repos.d/rancher-k3s-common*.repo\nelif type zypper \u003e/dev/null 2\u003e\u00261; then\n    uninstall_cmd=\"zypper remove -y k3s-selinux\"\n    if [ \"\\${TRANSACTIONAL_UPDATE=false}\" != \"true\" ] \u0026\u0026 [ -x /usr/sbin/transactional-update ]; then\n        uninstall_cmd=\"transactional-update --no-selfupdate -d run \\$uninstall_cmd\"\n    fi\n    \\$uninstall_cmd\n    rm -f /etc/zypp/repos.d/rancher-k3s-common*.repo\nfi\nEOF\n    $SUDO chmod 755 ${UNINSTALL_K3S_SH}\n    $SUDO chown root:root ${UNINSTALL_K3S_SH}\n}\n\n# --- disable current service if loaded --\nsystemd_disable() {\n    $SUDO systemctl disable ${SYSTEM_NAME} \u003e/dev/null 2\u003e\u00261 || true\n    $SUDO rm -f /etc/systemd/system/${SERVICE_K3S} || true\n    $SUDO rm -f /etc/systemd/system/${SERVICE_K3S}.env || true\n}\n\n# --- capture current env and create file containing k3s_ variables ---\ncreate_env_file() {\n    info \"env: Creating environment file ${FILE_K3S_ENV}\"\n    $SUDO touch ${FILE_K3S_ENV}\n    $SUDO chmod 0600 ${FILE_K3S_ENV}\n    sh -c export | while read x v; do echo $v; done | grep -E '^(K3S|CONTAINERD)_' | $SUDO tee ${FILE_K3S_ENV} \u003e/dev/null\n    sh -c export | while read x v; do echo $v; done | grep -Ei '^(NO|HTTP|HTTPS)_PROXY' | $SUDO tee -a ${FILE_K3S_ENV} \u003e/dev/null\n}\n\n# --- write systemd service file ---\ncreate_systemd_service_file() {\n    info \"systemd: Creating service file ${FILE_K3S_SERVICE}\"\n    $SUDO tee ${FILE_K3S_SERVICE} \u003e/dev/null \u003c\u003c EOF\n[Unit]\nDescription=Lightweight Kubernetes\nDocumentation=https://k3s.io\nWants=network-online.target\nAfter=network-online.target\n\n[Install]\nWantedBy=multi-user.target\n\n[Service]\nType=${SYSTEMD_TYPE}\nEnvironmentFile=-/etc/default/%N\nEnvironmentFile=-/etc/sysconfig/%N\nEnvironmentFile=-${FILE_K3S_ENV}\nKillMode=process\nDelegate=yes\n# Having non-zero Limit*s causes performance problems due to accounting overhead\n# in the kernel. We recommend using cgroups to do container-local accounting.\nLimitNOFILE=1048576\nLimitNPROC=infinity\nLimitCORE=infinity\nTasksMax=infinity\nTimeoutStartSec=0\nRestart=always\nRestartSec=5s\nExecStartPre=/bin/sh -xc '! /usr/bin/systemctl is-enabled --quiet nm-cloud-setup.service'\nExecStartPre=-/sbin/modprobe br_netfilter\nExecStartPre=-/sbin/modprobe overlay\nExecStart=${BIN_DIR}/k3s \\\\\n    ${CMD_K3S_EXEC}\n\nEOF\n}\n\n# --- write openrc service file ---\ncreate_openrc_service_file() {\n    LOG_FILE=/var/log/${SYSTEM_NAME}.log\n\n    info \"openrc: Creating service file ${FILE_K3S_SERVICE}\"\n    $SUDO tee ${FILE_K3S_SERVICE} \u003e/dev/null \u003c\u003c EOF\n#!/sbin/openrc-run\n\ndepend() {\n    after network-online\n    want cgroups\n}\n\nstart_pre() {\n    rm -f /tmp/k3s.*\n}\n\nsupervisor=supervise-daemon\nname=${SYSTEM_NAME}\ncommand=\"${BIN_DIR}/k3s\"\ncommand_args=\"$(escape_dq \"${CMD_K3S_EXEC}\")\n    \u003e\u003e${LOG_FILE} 2\u003e\u00261\"\n\noutput_log=${LOG_FILE}\nerror_log=${LOG_FILE}\n\npidfile=\"/var/run/${SYSTEM_NAME}.pid\"\nrespawn_delay=5\nrespawn_max=0\n\nset -o allexport\nif [ -f /etc/environment ]; then . /etc/environment; fi\nif [ -f ${FILE_K3S_ENV} ]; then . ${FILE_K3S_ENV}; fi\nset +o allexport\nEOF\n    $SUDO chmod 0755 ${FILE_K3S_SERVICE}\n\n    $SUDO tee /etc/logrotate.d/${SYSTEM_NAME} \u003e/dev/null \u003c\u003c EOF\n${LOG_FILE} {\n\tmissingok\n\tnotifempty\n\tcopytruncate\n}\nEOF\n}\n\n# --- write systemd or openrc service file ---\ncreate_service_file() {\n    [ \"${HAS_SYSTEMD}\" = true ] \u0026\u0026 create_systemd_service_file \u0026\u0026 restore_systemd_service_file_context\n    [ \"${HAS_OPENRC}\" = true ] \u0026\u0026 create_openrc_service_file\n    return 0\n}\n\nrestore_systemd_service_file_context() {\n    $SUDO restorecon -R -i ${FILE_K3S_SERVICE} 2\u003e/dev/null || true\n    $SUDO restorecon -R -i ${FILE_K3S_ENV} 2\u003e/dev/null || true\n}\n\n# --- get hashes of the current k3s bin and service files\nget_installed_hashes() {\n    $SUDO sha256sum ${BIN_DIR}/k3s ${FILE_K3S_SERVICE} ${FILE_K3S_ENV} 2\u003e\u00261 || true\n}\n\n# --- enable and start systemd service ---\nsystemd_enable() {\n    info \"systemd: Enabling ${SYSTEM_NAME} unit\"\n    $SUDO systemctl enable ${FILE_K3S_SERVICE} \u003e/dev/null\n    $SUDO systemctl daemon-reload \u003e/dev/null\n}\n\nsystemd_start() {\n    info \"systemd: Starting ${SYSTEM_NAME}\"\n    $SUDO systemctl restart ${SYSTEM_NAME}\n}\n\n# --- enable and start openrc service ---\nopenrc_enable() {\n    info \"openrc: Enabling ${SYSTEM_NAME} service for default runlevel\"\n    $SUDO rc-update add ${SYSTEM_NAME} default \u003e/dev/null\n}\n\nopenrc_start() {\n    info \"openrc: Starting ${SYSTEM_NAME}\"\n    $SUDO ${FILE_K3S_SERVICE} restart\n}\n\nhas_working_xtables() {\n    if command -v \"$1-save\" 1\u003e /dev/null \u0026\u0026 command -v \"$1-restore\" 1\u003e /dev/null; then\n        if $SUDO $1-save 2\u003e/dev/null | grep -q '^-A CNI-HOSTPORT-MASQ -j MASQUERADE$'; then\n            warn \"Host $1-save/$1-restore tools are incompatible with existing rules\"\n        else\n            return 0\n        fi\n    else\n        info \"Host $1-save/$1-restore tools not found\"\n    fi\n    return 1\n}\n\n# --- startup systemd or openrc service ---\nservice_enable_and_start() {\n    if [ -f \"/proc/cgroups\" ] \u0026\u0026 [ \"$(grep memory /proc/cgroups | while read -r n n n enabled; do echo $enabled; done)\" -eq 0 ];\n    then\n        info 'Failed to find memory cgroup, you may need to add \"cgroup_memory=1 cgroup_enable=memory\" to your linux cmdline (/boot/cmdline.txt on a Raspberry Pi)'\n    fi\n\n    [ \"${INSTALL_K3S_SKIP_ENABLE}\" = true ] \u0026\u0026 return\n\n    [ \"${HAS_SYSTEMD}\" = true ] \u0026\u0026 systemd_enable\n    [ \"${HAS_OPENRC}\" = true ] \u0026\u0026 openrc_enable\n\n    [ \"${INSTALL_K3S_SKIP_START}\" = true ] \u0026\u0026 return\n\n    POST_INSTALL_HASHES=$(get_installed_hashes)\n    if [ \"${PRE_INSTALL_HASHES}\" = \"${POST_INSTALL_HASHES}\" ] \u0026\u0026 [ \"${INSTALL_K3S_FORCE_RESTART}\" != true ]; then\n        info 'No change detected so skipping service start'\n        return\n    fi\n\n    for XTABLES in iptables ip6tables; do\n        if has_working_xtables ${XTABLES}; then\n            $SUDO ${XTABLES}-save 2\u003e/dev/null | grep -v KUBE- | grep -iv flannel | $SUDO ${XTABLES}-restore\n        fi\n    done\n\n    [ \"${HAS_SYSTEMD}\" = true ] \u0026\u0026 systemd_start\n    [ \"${HAS_OPENRC}\" = true ] \u0026\u0026 openrc_start\n    return 0\n}\n\n# --- re-evaluate args to include env command ---\neval set -- $(escape \"${INSTALL_K3S_EXEC}\") $(quote \"$@\")\n\n# --- run the install process --\n{\n    verify_system\n    setup_env \"$@\"\n    download_and_verify\n    setup_selinux\n    create_symlinks\n    create_killall\n    create_uninstall\n    systemd_disable\n    create_env_file\n    create_service_file\n    service_enable_and_start\n}\n\n",
            "response_body_base64": "IyEvYmluL3NoCnNldCAtZQpzZXQgLW8gbm9nbG9iCgojIFVzYWdlOgojICAgY3VybCAuLi4gfCBFTlZfVkFSPS4uLiBzaCAtCiMgICAgICAgb3IKIyAgIEVOVl9WQVI9Li4uIC4vaW5zdGFsbC5zaAojCiMgRXhhbXBsZToKIyAgIEluc3RhbGxpbmcgYSBzZXJ2ZXIgd2l0aG91dCB0cmFlZmlrOgojICAgICBjdXJsIC4uLiB8IElOU1RBTExfSzNTX0VYRUM9Ii0tZGlzYWJsZT10cmFlZmlrIiBzaCAtCiMgICBJbnN0YWxsaW5nIGFuIGFnZW50IHRvIHBvaW50IGF0IGEgc2VydmVyOgojICAgICBjdXJsIC4uLiB8IEszU19UT0tFTj14eHggSzNTX1VSTD1odHRwczovL3NlcnZlci11cmw6NjQ0MyBzaCAtCiMKIyBFbnZpcm9ubWVudCB2YXJpYWJsZXM6CiMgICAtIEszU18qCiMgICAgIEVudmlyb25tZW50IHZhcmlhYmxlcyB3aGljaCBiZWdpbiB3aXRoIEszU18gd2lsbCBiZSBwcmVzZXJ2ZWQgZm9yIHRoZQojICAgICBzeXN0ZW1kIHNlcnZpY2UgdG8gdXNlLiBTZXR0aW5nIEszU19VUkwgd2l0aG91dCBleHBsaWNpdGx5IHNldHRpbmcKIyAgICAgYSBzeXN0ZW1kIGV4ZWMgY29tbWFuZCB3aWxsIGRlZmF1bHQgdGhlIGNvbW1hbmQgdG8gImFnZW50IiwgYW5kIHdlCiMgICAgIGVuZm9yY2UgdGhhdCBLM1NfVE9LRU4gaXMgYWxzbyBzZXQuCiMKIyAgIC0gSU5TVEFMTF9LM1NfU0tJUF9ET1dOTE9BRAojICAgICBJZiBzZXQgdG8gdHJ1ZSB3aWxsIG5vdCBkb3dubG9hZCBrM3MgaGFzaCBvciBiaW5hcnkuCiMKIyAgIC0gSU5TVEFMTF9LM1NfRk9SQ0VfUkVTVEFSVAojICAgICBJZiBzZXQgdG8gdHJ1ZSB3aWxsIGFsd2F5cyByZXN0YXJ0IHRoZSBLM3Mgc2VydmljZQojCiMgICAtIElOU1RBTExfSzNTX1NZTUxJTksKIyAgICAgSWYgc2V0IHRvICdza2lwJyB3aWxsIG5vdCBjcmVhdGUgc3ltbGlua3MsICdmb3JjZScgd2lsbCBvdmVyd3JpdGUsCiMgICAgIGRlZmF1bHQgd2lsbCBzeW1saW5rIGlmIGNvbW1hbmQgZG9lcyBub3QgZXhpc3QgaW4gcGF0aC4KIwojICAgLSBJTlNUQUxMX0szU19TS0lQX0VOQUJMRQojICAgICBJZiBzZXQgdG8gdHJ1ZSB3aWxsIG5vdCBlbmFibGUgb3Igc3RhcnQgazNzIHNlcnZpY2UuCiMKIyAgIC0gSU5TVEFMTF9LM1NfU0tJUF9TVEFSVAojICAgICBJZiBzZXQgdG8gdHJ1ZSB3aWxsIG5vdCBzdGFydCBrM3Mgc2VydmljZS4KIwojICAgLSBJTlNUQUxMX0szU19WRVJTSU9OCiMgICAgIFZlcnNpb24gb2YgazNzIHRvIGRvd25sb2FkIGZyb20gZ2l0aHViLiBXaWxsIGF0dGVtcHQgdG8gZG93bmxvYWQgZnJvbSB0aGUKIyAgICAgc3RhYmxlIGNoYW5uZWwgaWYgbm90IHNwZWNpZmllZC4KIwojICAgLSBJTlNUQUxMX0szU19DT01NSVQKIyAgICAgQ29tbWl0IG9mIGszcyB0byBkb3dubG9hZCBmcm9tIHRlbXBvcmFyeSBjbG91ZCBzdG9yYWdlLgojICAgICAqIChmb3IgZGV2ZWxvcGVyICYgUUEgdXNlKQojCiMgICAtIElOU1RBTExfSzNTX0JJTl9ESVIKIyAgICAgRGlyZWN0b3J5IHRvIGluc3RhbGwgazNzIGJpbmFyeSwgbGlua3MsIGFuZCB1bmluc3RhbGwgc2NyaXB0IHRvLCBvciB1c2UKIyAgICAgL3Vzci9sb2NhbC9iaW4gYXMgdGhlIGRlZmF1bHQKIwojICAgLSBJTlNUQUxMX0szU19CSU5fRElSX1JFQURfT05MWQojICAgICBJZiBzZXQgdG8gdHJ1ZSB3aWxsIG5vdCB3cml0ZSBmaWxlcyB0byBJTlNUQUxMX0szU19CSU5fRElSLCBmb3JjZXMKIyAgICAgc2V0dGluZyBJTlNUQUxMX0szU19TS0lQX0RPV05MT0FEPXRydWUKIwojICAgLSBJTlNUQUxMX0szU19TWVNURU1EX0RJUgojICAgICBEaXJlY3RvcnkgdG8gaW5zdGFsbCBzeXN0ZW1kIHNlcnZpY2UgYW5kIGVudmlyb25tZW50IGZpbGVzIHRvLCBvciB1c2UKIyAgICAgL2V0Yy9zeXN0ZW1kL3N5c3RlbSBhcyB0aGUgZGVmYXVsdAojCiMgICAtIElOU1RBTExfSzNTX0VYRUMgb3Igc2NyaXB0IGFyZ3VtZW50cwojICAgICBDb21tYW5kIHdpdGggZmxhZ3MgdG8gdXNlIGZvciBsYXVuY2hpbmcgazNzIGluIHRoZSBzeXN0ZW1kIHNlcnZpY2UsIGlmCiMgICAgIHRoZSBjb21tYW5kIGlzIG5vdCBzcGVjaWZpZWQgd2lsbCBkZWZhdWx0IHRvICJhZ2VudCIgaWYgSzNTX1VSTCBpcyBzZXQKIyAgICAgb3IgInNlcnZlciIgaWYgbm90LiBUaGUgZmluYWwgc3lzdGVtZCBjb21tYW5kIHJlc29sdmVzIHRvIGEgY29tYmluYXRpb24KIyAgICAgb2YgRVhFQyBhbmQgc2NyaXB0IGFyZ3MgKCRAKS4KIwojICAgICBUaGUgZm9sbG93aW5nIGNvbW1hbmRzIHJlc3VsdCBpbiB0aGUgc2FtZSBiZWhhdmlvcjoKIyAgICAgICBjdXJsIC4uLiB8IElOU1RBTExfSzNTX0VYRUM9Ii0tZGlzYWJsZT10cmFlZmlrIiBzaCAtcyAtCiMgICAgICAgY3VybCAuLi4gfCBJTlNUQUxMX0szU19FWEVDPSJzZXJ2ZXIgLS1kaXNhYmxlPXRyYWVmaWsiIHNoIC1zIC0KIyAgICAgICBjdXJsIC4uLiB8IElOU1RBTExfSzNTX0VYRUM9InNlcnZlciIgc2ggLXMgLSAtLWRpc2FibGU9dHJhZWZpawojICAgICAgIGN1cmwgLi4uIHwgc2ggLXMgLSBzZXJ2ZXIgLS1kaXNhYmxlPXRyYWVmaWsKIyAgICAgICBjdXJsIC4uLiB8IHNoIC1zIC0gLS1kaXNhYmxlPXRyYWVmaWsKIwojICAgLSBJTlNUQUxMX0szU19OQU1FCiMgICAgIE5hbWUgb2Ygc3lzdGVtZCBzZXJ2aWNlIHRvIGNyZWF0ZSwgd2lsbCBkZWZhdWx0IGZyb20gdGhlIGszcyBleGVjIGNvbW1hbmQKIyAgICAgaWYgbm90IHNwZWNpZmllZC4gSWYgc3BlY2lmaWVkIHRoZSBuYW1lIHdpbGwgYmUgcHJlZml4ZWQgd2l0aCAnazNzLScuCiMKIyAgIC0gSU5TVEFMTF9LM1NfVFlQRQojICAgICBUeXBlIG9mIHN5c3RlbWQgc2VydmljZSB0byBjcmVhdGUsIHdpbGwgZGVmYXVsdCBmcm9tIHRoZSBrM3MgZXhlYyBjb21tYW5kCiMgICAgIGlmIG5vdCBzcGVjaWZpZWQuCiMKIyAgIC0gSU5TVEFMTF9LM1NfU0VMSU5VWF9XQVJOCiMgICAgIElmIHNldCB0byB0cnVlIHdpbGwgY29udGludWUgaWYgazNzLXNlbGludXggcG9saWN5IGlzIG5vdCBmb3VuZC4KIwojICAgLSBJTlNUQUxMX0szU19TS0lQX1NFTElOVVhfUlBNCiMgICAgIElmIHNldCB0byB0cnVlIHdpbGwgc2tpcCBhdXRvbWF0aWMgaW5zdGFsbGF0aW9uIG9mIHRoZSBrM3MgUlBNLgojCiMgICAtIElOU1RBTExfSzNTX0NIQU5ORUxfVVJMCiMgICAgIENoYW5uZWwgVVJMIGZvciBmZXRjaGluZyBrM3MgZG93bmxvYWQgVVJMLgojICAgICBEZWZhdWx0cyB0byAnaHR0cHM6Ly91cGRhdGUuazNzLmlvL3YxLXJlbGVhc2UvY2hhbm5lbHMnLgojCiMgICAtIElOU1RBTExfSzNTX0NIQU5ORUwKIyAgICAgQ2hhbm5lbCB0byB1c2UgZm9yIGZldGNoaW5nIGszcyBkb3dubG9hZCBVUkwuCiMgICAgIERlZmF1bHRzIHRvICdzdGFibGUnLgoKR0lUSFVCX1VSTD1odHRwczovL2dpdGh1Yi5jb20vazNzLWlvL2szcy9yZWxlYXNlcwpTVE9SQUdFX1VSTD1odHRwczovL2szcy1jaS1idWlsZHMuczMuYW1hem9uYXdzLmNvbQpET1dOTE9BREVSPQoKIyAtLS0gaGVscGVyIGZ1bmN0aW9ucyBmb3IgbG9ncyAtLS0KaW5mbygpCnsKICAgIGVjaG8gJ1tJTkZPXSAnICIkQCIKfQp3YXJuKCkKewogICAgZWNobyAnW1dBUk5dICcgIiRAIiA+JjIKfQpmYXRhbCgpCnsKICAgIGVjaG8gJ1tFUlJPUl0gJyAiJEAiID4mMgogICAgZXhpdCAxCn0KCiMgLS0tIGZhdGFsIGlmIG5vIHN5c3RlbWQgb3Igb3BlbnJjIC0tLQp2ZXJpZnlfc3lzdGVtKCkgewogICAgaWYgWyAteCAvc2Jpbi9vcGVucmMtcnVuIF07IHRoZW4KICAgICAgICBIQVNfT1BFTlJDPXRydWUKICAgICAgICByZXR1cm4KICAgIGZpCiAgICBpZiBbIC14IC9iaW4vc3lzdGVtY3RsIF0gfHwgdHlwZSBzeXN0ZW1jdGwgPiAvZGV2L251bGwgMj4mMTsgdGhlbgogICAgICAgIEhBU19TWVNURU1EPXRydWUKICAgICAgICByZXR1cm4KICAgIGZpCiAgICBmYXRhbCAnQ2FuIG5vdCBmaW5kIHN5c3RlbWQgb3Igb3BlbnJjIHRvIHVzZSBhcyBhIHByb2Nlc3Mgc3VwZXJ2aXNvciBmb3IgazNzJwp9CgojIC0tLSBhZGQgcXVvdGVzIHRvIGNvbW1hbmQgYXJndW1lbnRzIC0tLQpxdW90ZSgpIHsKICAgIGZvciBhcmcgaW4gIiRAIjsgZG8KICAgICAgICBwcmludGYgJyVzXG4nICIkYXJnIiB8IHNlZCAicy8nLydcXFxcJycvZzsxcy9eLycvO1wkcy9cJC8nLyIKICAgIGRvbmUKfQoKIyAtLS0gYWRkIGluZGVudGF0aW9uIGFuZCB0cmFpbGluZyBzbGFzaCB0byBxdW90ZWQgYXJncyAtLS0KcXVvdGVfaW5kZW50KCkgewogICAgcHJpbnRmICcgXFxcbicKICAgIGZvciBhcmcgaW4gIiRAIjsgZG8KICAgICAgICBwcmludGYgJ1x0JXMgXFxcbicgIiQocXVvdGUgIiRhcmciKSIKICAgIGRvbmUKfQoKIyAtLS0gZXNjYXBlIG1vc3QgcHVuY3R1YXRpb24gY2hhcmFjdGVycywgZXhjZXB0IHF1b3RlcywgZm9yd2FyZCBzbGFzaCwgYW5kIHNwYWNlIC0tLQplc2NhcGUoKSB7CiAgICBwcmludGYgJyVzJyAiJEAiIHwgc2VkIC1lICdzL1woW11bISMkJSYoKSo7PD0+P1xfYHt8fV1cKS9cXFwxL2c7Jwp9CgojIC0tLSBlc2NhcGUgZG91YmxlIHF1b3RlcyAtLS0KZXNjYXBlX2RxKCkgewogICAgcHJpbnRmICclcycgIiRAIiB8IHNlZCAtZSAncy8iL1xcIi9nJwp9CgojIC0tLSBlbnN1cmVzICRLM1NfVVJMIGlzIGVtcHR5IG9yIGJlZ2lucyB3aXRoIGh0dHBzOi8vLCBleGl0aW5nIGZhdGFsbHkgb3RoZXJ3aXNlIC0tLQp2ZXJpZnlfazNzX3VybCgpIHsKICAgIGNhc2UgIiR7SzNTX1VSTH0iIGluCiAgICAgICAgIiIpCiAgICAgICAgICAgIDs7CiAgICAgICAgaHR0cHM6Ly8qKQogICAgICAgICAgICA7OwogICAgICAgICopCiAgICAgICAgICAgIGZhdGFsICJPbmx5IGh0dHBzOi8vIFVSTHMgYXJlIHN1cHBvcnRlZCBmb3IgSzNTX1VSTCAoaGF2ZSAke0szU19VUkx9KSIKICAgICAgICAgICAgOzsKICAgIGVzYWMKfQoKIyAtLS0gZGVmaW5lIG5lZWRlZCBlbnZpcm9ubWVudCB2YXJpYWJsZXMgLS0tCnNldHVwX2VudigpIHsKICAgICMgLS0tIHVzZSBjb21tYW5kIGFyZ3MgaWYgcGFzc2VkIG9yIGNyZWF0ZSBkZWZhdWx0IC0tLQogICAgY2FzZSAiJDEiIGluCiAgICAgICAgIyAtLS0gaWYgd2Ugb25seSBoYXZlIGZsYWdzIGRpc2NvdmVyIGlmIGNvbW1hbmQgc2hvdWxkIGJlIHNlcnZlciBvciBhZ2VudCAtLS0KICAgICAgICAoLSp8IiIpCiAgICAgICAgICAgIGlmIFsgLXogIiR7SzNTX1VSTH0iIF07IHRoZW4KICAgICAgICAgICAgICAgIENNRF9LM1M9c2VydmVyCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGlmIFsgLXogIiR7SzNTX1RPS0VOfSIgXSAmJiBbIC16ICIke0szU19UT0tFTl9GSUxFfSIgXTsgdGhlbgogICAgICAgICAgICAgICAgICAgIGZhdGFsICJEZWZhdWx0ZWQgazNzIGV4ZWMgY29tbWFuZCB0byAnYWdlbnQnIGJlY2F1c2UgSzNTX1VSTCBpcyBkZWZpbmVkLCBidXQgSzNTX1RPS0VOIG9yIEszU19UT0tFTl9GSUxFIGlzIG5vdCBkZWZpbmVkLiIKICAgICAgICAgICAgICAgIGZpCiAgICAgICAgICAgICAgICBDTURfSzNTPWFnZW50CiAgICAgICAgICAgIGZpCiAgICAgICAgOzsKICAgICAgICAjIC0tLSBjb21tYW5kIGlzIHByb3ZpZGVkIC0tLQogICAgICAgICgqKQogICAgICAgICAgICBDTURfSzNTPSQxCiAgICAgICAgICAgIHNoaWZ0CiAgICAgICAgOzsKICAgIGVzYWMKCiAgICB2ZXJpZnlfazNzX3VybAoKICAgIENNRF9LM1NfRVhFQz0iJHtDTURfSzNTfSQocXVvdGVfaW5kZW50ICIkQCIpIgoKICAgICMgLS0tIHVzZSBzeXN0ZW1kIG5hbWUgaWYgZGVmaW5lZCBvciBjcmVhdGUgZGVmYXVsdCAtLS0KICAgIGlmIFsgLW4gIiR7SU5TVEFMTF9LM1NfTkFNRX0iIF07IHRoZW4KICAgICAgICBTWVNURU1fTkFNRT1rM3MtJHtJTlNUQUxMX0szU19OQU1FfQogICAgZWxzZQogICAgICAgIGlmIFsgIiR7Q01EX0szU30iID0gc2VydmVyIF07IHRoZW4KICAgICAgICAgICAgU1lTVEVNX05BTUU9azNzCiAgICAgICAgZWxzZQogICAgICAgICAgICBTWVNURU1fTkFNRT1rM3MtJHtDTURfSzNTfQogICAgICAgIGZpCiAgICBmaQoKICAgICMgLS0tIGNoZWNrIGZvciBpbnZhbGlkIGNoYXJhY3RlcnMgaW4gc3lzdGVtIG5hbWUgLS0tCiAgICB2YWxpZF9jaGFycz0kKHByaW50ZiAnJXMnICIke1NZU1RFTV9OQU1FfSIgfCBzZWQgLWUgJ3MvW11bISMkJSYoKSo7PD0+P1xfYHt8fS9bOnNwYWNlOl1dL14vZzsnICkKICAgIGlmIFsgIiR7U1lTVEVNX05BTUV9IiAhPSAiJHt2YWxpZF9jaGFyc30iICBdOyB0aGVuCiAgICAgICAgaW52YWxpZF9jaGFycz0kKHByaW50ZiAnJXMnICIke3ZhbGlkX2NoYXJzfSIgfCBzZWQgLWUgJ3MvW15eXS8gL2cnKQogICAgICAgIGZhdGFsICJJbnZhbGlkIGNoYXJhY3RlcnMgZm9yIHN5c3RlbSBuYW1lOgogICAgICAgICAgICAke1NZU1RFTV9OQU1FfQogICAgICAgICAgICAke2ludmFsaWRfY2hhcnN9IgogICAgZmkKCiAgICAjIC0tLSB1c2Ugc3VkbyBpZiB3ZSBhcmUgbm90IGFscmVhZHkgcm9vdCAtLS0KICAgIFNVRE89c3VkbwogICAgaWYgWyAkKGlkIC11KSAtZXEgMCBdOyB0aGVuCiAgICAgICAgU1VETz0KICAgIGZpCgogICAgIyAtLS0gdXNlIHN5c3RlbWQgdHlwZSBpZiBkZWZpbmVkIG9yIGNyZWF0ZSBkZWZhdWx0IC0tLQogICAgaWYgWyAtbiAiJHtJTlNUQUxMX0szU19UWVBFfSIgXTsgdGhlbgogICAgICAgIFNZU1RFTURfVFlQRT0ke0lOU1RBTExfSzNTX1RZUEV9CiAgICBlbHNlCiAgICAgICAgU1lTVEVNRF9UWVBFPW5vdGlmeQogICAgZmkKCiAgICAjIC0tLSB1c2UgYmluYXJ5IGluc3RhbGwgZGlyZWN0b3J5IGlmIGRlZmluZWQgb3IgY3JlYXRlIGRlZmF1bHQgLS0tCiAgICBpZiBbIC1uICIke0lOU1RBTExfSzNTX0JJTl9ESVJ9IiBdOyB0aGVuCiAgICAgICAgQklOX0RJUj0ke0lOU1RBTExfSzNTX0JJTl9ESVJ9CiAgICBlbHNlCiAgICAgICAgIyAtLS0gdXNlIC91c3IvbG9jYWwvYmluIGlmIHJvb3QgY2FuIHdyaXRlIHRvIGl0LCBvdGhlcndpc2UgdXNlIC9vcHQvYmluIGlmIGl0IGV4aXN0cwogICAgICAgIEJJTl9ESVI9L3Vzci9sb2NhbC9iaW4KICAgICAgICBpZiAhICRTVURPIHNoIC1jICJ0b3VjaCAke0JJTl9ESVJ9L2szcy1yby10ZXN0ICYmIHJtIC1yZiAke0JJTl9ESVJ9L2szcy1yby10ZXN0IjsgdGhlbgogICAgICAgICAgICBpZiBbIC1kIC9vcHQvYmluIF07IHRoZW4KICAgICAgICAgICAgICAgIEJJTl9ESVI9L29wdC9iaW4KICAgICAgICAgICAgZmkKICAgICAgICBmaQogICAgZmkKCiAgICAjIC0tLSB1c2Ugc3lzdGVtZCBkaXJlY3RvcnkgaWYgZGVmaW5lZCBvciBjcmVhdGUgZGVmYXVsdCAtLS0KICAgIGlmIFsgLW4gIiR7SU5TVEFMTF9LM1NfU1lTVEVNRF9ESVJ9IiBdOyB0aGVuCiAgICAgICAgU1lTVEVNRF9ESVI9IiR7SU5TVEFMTF9LM1NfU1lTVEVNRF9ESVJ9IgogICAgZWxzZQogICAgICAgIFNZU1RFTURfRElSPS9ldGMvc3lzdGVtZC9zeXN0ZW0KICAgIGZpCgogICAgIyAtLS0gc2V0IHJlbGF0ZWQgZmlsZXMgZnJvbSBzeXN0ZW0gbmFtZSAtLS0KICAgIFNFUlZJQ0VfSzNTPSR7U1lTVEVNX05BTUV9LnNlcnZpY2UKICAgIFVOSU5TVEFMTF9LM1NfU0g9JHtVTklOU1RBTExfSzNTX1NIOi0ke0JJTl9ESVJ9LyR7U1lTVEVNX05BTUV9LXVuaW5zdGFsbC5zaH0KICAgIEtJTExBTExfSzNTX1NIPSR7S0lMTEFMTF9LM1NfU0g6LSR7QklOX0RJUn0vazNzLWtpbGxhbGwuc2h9CgogICAgIyAtLS0gdXNlIHNlcnZpY2Ugb3IgZW52aXJvbm1lbnQgbG9jYXRpb24gZGVwZW5kaW5nIG9uIHN5c3RlbWQvb3BlbnJjIC0tLQogICAgaWYgWyAiJHtIQVNfU1lTVEVNRH0iID0gdHJ1ZSBdOyB0aGVuCiAgICAgICAgRklMRV9LM1NfU0VSVklDRT0ke1NZU1RFTURfRElSfS8ke1NFUlZJQ0VfSzNTfQogICAgICAgIEZJTEVfSzNTX0VOVj0ke1NZU1RFTURfRElSfS8ke1NFUlZJQ0VfSzNTfS5lbnYKICAgIGVsaWYgWyAiJHtIQVNfT1BFTlJDfSIgPSB0cnVlIF07IHRoZW4KICAgICAgICAkU1VETyBta2RpciAtcCAvZXRjL3JhbmNoZXIvazNzCiAgICAgICAgRklMRV9LM1NfU0VSVklDRT0vZXRjL2luaXQuZC8ke1NZU1RFTV9OQU1FfQogICAgICAgIEZJTEVfSzNTX0VOVj0vZXRjL3JhbmNoZXIvazNzLyR7U1lTVEVNX05BTUV9LmVudgogICAgZmkKCiAgICAjIC0tLSBnZXQgaGFzaCBvZiBjb25maWcgJiBleGVjIGZvciBjdXJyZW50bHkgaW5zdGFsbGVkIGszcyAtLS0KICAgIFBSRV9JTlNUQUxMX0hBU0hFUz0kKGdldF9pbnN0YWxsZWRfaGFzaGVzKQoKICAgICMgLS0tIGlmIGJpbiBkaXJlY3RvcnkgaXMgcmVhZCBvbmx5IHNraXAgZG93bmxvYWQgLS0tCiAgICBpZiBbICIke0lOU1RBTExfSzNTX0JJTl9ESVJfUkVBRF9PTkxZfSIgPSB0cnVlIF07IHRoZW4KICAgICAgICBJTlNUQUxMX0szU19TS0lQX0RPV05MT0FEPXRydWUKICAgIGZpCgogICAgIyAtLS0gc2V0dXAgY2hhbm5lbCB2YWx1ZXMKICAgIElOU1RBTExfSzNTX0NIQU5ORUxfVVJMPSR7SU5TVEFMTF9LM1NfQ0hBTk5FTF9VUkw6LSdodHRwczovL3VwZGF0ZS5rM3MuaW8vdjEtcmVsZWFzZS9jaGFubmVscyd9CiAgICBJTlNUQUxMX0szU19DSEFOTkVMPSR7SU5TVEFMTF9LM1NfQ0hBTk5FTDotJ3N0YWJsZSd9Cn0KCiMgLS0tIGNoZWNrIGlmIHNraXAgZG93bmxvYWQgZW52aXJvbm1lbnQgdmFyaWFibGUgc2V0IC0tLQpjYW5fc2tpcF9kb3dubG9hZF9iaW5hcnkoKSB7CiAgICBpZiBbICIke0lOU1RBTExfSzNTX1NLSVBfRE9XTkxPQUR9IiAhPSB0cnVlIF0gJiYgWyAiJHtJTlNUQUxMX0szU19TS0lQX0RPV05MT0FEfSIgIT0gYmluYXJ5IF07IHRoZW4KICAgICAgICByZXR1cm4gMQogICAgZmkKfQoKY2FuX3NraXBfZG93bmxvYWRfc2VsaW51eCgpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgaWYgWyAiJHtJTlNUQUxMX0szU19TS0lQX0RPV05MT0FEfSIgIT0gdHJ1ZSBdICYmIFsgIiR7SU5TVEFMTF9LM1NfU0tJUF9ET1dOTE9BRH0iICE9IHNlbGludXggXTsgdGhlbiAKICAgICAgICByZXR1cm4gMSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgZmkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCn0gIAoKIyAtLS0gdmVyaWZ5IGFuIGV4ZWN1dGFibGUgazNzIGJpbmFyeSBpcyBpbnN0YWxsZWQgLS0tCnZlcmlmeV9rM3NfaXNfZXhlY3V0YWJsZSgpIHsKICAgIGlmIFsgISAteCAke0JJTl9ESVJ9L2szcyBdOyB0aGVuCiAgICAgICAgZmF0YWwgIkV4ZWN1dGFibGUgazNzIGJpbmFyeSBub3QgZm91bmQgYXQgJHtCSU5fRElSfS9rM3MiCiAgICBmaQp9CgojIC0tLSBzZXQgYXJjaCBhbmQgc3VmZml4LCBmYXRhbCBpZiBhcmNoaXRlY3R1cmUgbm90IHN1cHBvcnRlZCAtLS0Kc2V0dXBfdmVyaWZ5X2FyY2goKSB7CiAgICBpZiBbIC16ICIkQVJDSCIgXTsgdGhlbgogICAgICAgIEFSQ0g9JCh1bmFtZSAtbSkKICAgIGZpCiAgICBjYXNlICRBUkNIIGluCiAgICAgICAgYW1kNjQpCiAgICAgICAgICAgIEFSQ0g9YW1kNjQKICAgICAgICAgICAgU1VGRklYPQogICAgICAgICAgICA7OwogICAgICAgIHg4Nl82NCkKICAgICAgICAgICAgQVJDSD1hbWQ2NAogICAgICAgICAgICBTVUZGSVg9CiAgICAgICAgICAgIDs7CiAgICAgICAgYXJtNjQpCiAgICAgICAgICAgIEFSQ0g9YXJtNjQKICAgICAgICAgICAgU1VGRklYPS0ke0FSQ0h9CiAgICAgICAgICAgIDs7CiAgICAgICAgczM5MHgpCiAgICAgICAgICAgIEFSQ0g9czM5MHgKICAgICAgICAgICAgU1VGRklYPS0ke0FSQ0h9CiAgICAgICAgICAgIDs7CiAgICAgICAgYWFyY2g2NCkKICAgICAgICAgICAgQVJDSD1hcm02NAogICAgICAgICAgICBTVUZGSVg9LSR7QVJDSH0KICAgICAgICAgICAgOzsKICAgICAgICBhcm0qKQogICAgICAgICAgICBBUkNIPWFybQogICAgICAgICAgICBTVUZGSVg9LSR7QVJDSH1oZgogICAgICAgICAgICA7OwogICAgICAgICopCiAgICAgICAgICAgIGZhdGFsICJVbnN1cHBvcnRlZCBhcmNoaXRlY3R1cmUgJEFSQ0giCiAgICBlc2FjCn0KCiMgLS0tIHZlcmlmeSBleGlzdGVuY2Ugb2YgbmV0d29yayBkb3dubG9hZGVyIGV4ZWN1dGFibGUgLS0tCnZlcmlmeV9kb3dubG9hZGVyKCkgewogICAgIyBSZXR1cm4gZmFpbHVyZSBpZiBpdCBkb2Vzbid0IGV4aXN0IG9yIGlzIG5vIGV4ZWN1dGFibGUKICAgIFsgLXggIiQoY29tbWFuZCAtdiAkMSkiIF0gfHwgcmV0dXJuIDEKCiAgICAjIFNldCB2ZXJpZmllZCBleGVjdXRhYmxlIGFzIG91ciBkb3dubG9hZGVyIHByb2dyYW0gYW5kIHJldHVybiBzdWNjZXNzCiAgICBET1dOTE9BREVSPSQxCiAgICByZXR1cm4gMAp9CgojIC0tLSBjcmVhdGUgdGVtcG9yYXJ5IGRpcmVjdG9yeSBhbmQgY2xlYW51cCB3aGVuIGRvbmUgLS0tCnNldHVwX3RtcCgpIHsKICAgIFRNUF9ESVI9JChta3RlbXAgLWQgLXQgazNzLWluc3RhbGwuWFhYWFhYWFhYWCkKICAgIFRNUF9IQVNIPSR7VE1QX0RJUn0vazNzLmhhc2gKICAgIFRNUF9CSU49JHtUTVBfRElSfS9rM3MuYmluCiAgICBjbGVhbnVwKCkgewogICAgICAgIGNvZGU9JD8KICAgICAgICBzZXQgK2UKICAgICAgICB0cmFwIC0gRVhJVAogICAgICAgIHJtIC1yZiAke1RNUF9ESVJ9CiAgICAgICAgZXhpdCAkY29kZQogICAgfQogICAgdHJhcCBjbGVhbnVwIElOVCBFWElUCn0KCiMgLS0tIHVzZSBkZXNpcmVkIGszcyB2ZXJzaW9uIGlmIGRlZmluZWQgb3IgZmluZCB2ZXJzaW9uIGZyb20gY2hhbm5lbCAtLS0KZ2V0X3JlbGVhc2VfdmVyc2lvbigpIHsKICAgIGlmIFsgLW4gIiR7SU5TVEFMTF9LM1NfQ09NTUlUfSIgXTsgdGhlbgogICAgICAgIFZFUlNJT05fSzNTPSJjb21taXQgJHtJTlNUQUxMX0szU19DT01NSVR9IgogICAgZWxpZiBbIC1uICIke0lOU1RBTExfSzNTX1ZFUlNJT059IiBdOyB0aGVuCiAgICAgICAgVkVSU0lPTl9LM1M9JHtJTlNUQUxMX0szU19WRVJTSU9OfQogICAgZWxzZQogICAgICAgIGluZm8gIkZpbmRpbmcgcmVsZWFzZSBmb3IgY2hhbm5lbCAke0lOU1RBTExfSzNTX0NIQU5ORUx9IgogICAgICAgIHZlcnNpb25fdXJsPSIke0lOU1RBTExfSzNTX0NIQU5ORUxfVVJMfS8ke0lOU1RBTExfSzNTX0NIQU5ORUx9IgogICAgICAgIGNhc2UgJERPV05MT0FERVIgaW4KICAgICAgICAgICAgY3VybCkKICAgICAgICAgICAgICAgIFZFUlNJT05fSzNTPSQoY3VybCAtdyAnJXt1cmxfZWZmZWN0aXZlfScgLUwgLXMgLVMgJHt2ZXJzaW9uX3VybH0gLW8gL2Rldi9udWxsIHwgc2VkIC1lICdzfC4qL3x8JykKICAgICAgICAgICAgICAgIDs7CiAgICAgICAgICAgIHdnZXQpCiAgICAgICAgICAgICAgICBWRVJTSU9OX0szUz0kKHdnZXQgLVNxTyAvZGV2L251bGwgJHt2ZXJzaW9uX3VybH0gMj4mMSB8IGdyZXAgLWkgTG9jYXRpb24gfCBzZWQgLWUgJ3N8LiovfHwnKQogICAgICAgICAgICAgICAgOzsKICAgICAgICAgICAgKikKICAgICAgICAgICAgICAgIGZhdGFsICJJbmNvcnJlY3QgZG93bmxvYWRlciBleGVjdXRhYmxlICckRE9XTkxPQURFUiciCiAgICAgICAgICAgICAgICA7OwogICAgICAgIGVzYWMKICAgIGZpCiAgICBpbmZvICJVc2luZyAke1ZFUlNJT05fSzNTfSBhcyByZWxlYXNlIgp9CgojIC0tLSBnZXQgazNzLXNlbGludXggdmVyc2lvbiAtLS0KZ2V0X2szc19zZWxpbnV4X3ZlcnNpb24oKSB7CiAgICBhdmFpbGFibGVfdmVyc2lvbj0iazNzLXNlbGludXgtMS4yLTIuJHtycG1fdGFyZ2V0fS5ub2FyY2gucnBtIgogICAgaW5mbyAiRmluZGluZyBhdmFpbGFibGUgazNzLXNlbGludXggdmVyc2lvbnMiCiAgICAKICAgICMgcnVuIHZlcmlmeV9kb3dubG9hZGVyIGluIGNhc2UgaXQgYmluYXJ5IGluc3RhbGxhdGlvbiB3YXMgc2tpcHBlZAogICAgdmVyaWZ5X2Rvd25sb2FkZXIgY3VybCB8fCB2ZXJpZnlfZG93bmxvYWRlciB3Z2V0IHx8IGZhdGFsICdDYW4gbm90IGZpbmQgY3VybCBvciB3Z2V0IGZvciBkb3dubG9hZGluZyBmaWxlcycKCiAgICBjYXNlICRET1dOTE9BREVSIGluCiAgICAgICAgY3VybCkKICAgICAgICAgICAgRE9XTkxPQURFUl9PUFRTPSItcyIKICAgICAgICAgICAgOzsKICAgICAgICB3Z2V0KQogICAgICAgICAgICBET1dOTE9BREVSX09QVFM9Ii1xIC1PIC0iCiAgICAgICAgICAgIDs7CiAgICAgICAgKikKICAgICAgICAgICAgZmF0YWwgIkluY29ycmVjdCBkb3dubG9hZGVyIGV4ZWN1dGFibGUgJyRET1dOTE9BREVSJyIKICAgICAgICAgICAgOzsKICAgIGVzYWMKICAgIGZvciBpIGluIHsxLi4zfTsgZG8KICAgICAgICBzZXQgK2UKICAgICAgICBpZiBbICIke3JwbV9jaGFubmVsfSIgPSAidGVzdGluZyIgXTsgdGhlbgogICAgICAgICAgICB2ZXJzaW9uPSQodGltZW91dCA1ICR7RE9XTkxPQURFUn0gJHtET1dOTE9BREVSX09QVFN9IGh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvazNzLWlvL2szcy1zZWxpbnV4L3JlbGVhc2VzIHwgIGdyZXAgYnJvd3Nlcl9kb3dubG9hZF91cmwgfCBhd2sgJ3sgcHJpbnQgJDIgfScgfCBncmVwIC1vRSAiW15cL10rJHtycG1fdGFyZ2V0fVwubm9hcmNoXC5ycG0iIHwgaGVhZCAtbiAxKQogICAgICAgIGVsc2UKICAgICAgICAgICAgdmVyc2lvbj0kKHRpbWVvdXQgNSAke0RPV05MT0FERVJ9ICR7RE9XTkxPQURFUl9PUFRTfSBodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2szcy1pby9rM3Mtc2VsaW51eC9yZWxlYXNlcy9sYXRlc3QgfCAgZ3JlcCBicm93c2VyX2Rvd25sb2FkX3VybCB8IGF3ayAneyBwcmludCAkMiB9JyB8IGdyZXAgLW9FICJbXlwvXSske3JwbV90YXJnZXR9XC5ub2FyY2hcLnJwbSIpCiAgICAgICAgZmkKICAgICAgICBzZXQgLWUKICAgICAgICBpZiBbICIke3ZlcnNpb259IiAhPSAiIiBdOyB0aGVuCiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgZmkKICAgICAgICBzbGVlcCAxCiAgICBkb25lCiAgICBpZiBbICIke3ZlcnNpb259IiA9PSAiIiBdOyB0aGVuCiAgICAgICAgd2FybiAiRmFpbGVkIHRvIGdldCBhdmFpbGFibGUgdmVyc2lvbnMgb2YgazNzLXNlbGludXguLmRlZmF1bHRpbmcgdG8gJHthdmFpbGFibGVfdmVyc2lvbn0iCiAgICAgICAgcmV0dXJuCiAgICBmaQogICAgYXZhaWxhYmxlX3ZlcnNpb249JHt2ZXJzaW9ufQp9CgojIC0tLSBkb3dubG9hZCBmcm9tIGdpdGh1YiB1cmwgLS0tCmRvd25sb2FkKCkgewogICAgWyAkIyAtZXEgMiBdIHx8IGZhdGFsICdkb3dubG9hZCBuZWVkcyBleGFjdGx5IDIgYXJndW1lbnRzJwoKICAgIGNhc2UgJERPV05MT0FERVIgaW4KICAgICAgICBjdXJsKQogICAgICAgICAgICBjdXJsIC1vICQxIC1zZkwgJDIKICAgICAgICAgICAgOzsKICAgICAgICB3Z2V0KQogICAgICAgICAgICB3Z2V0IC1xTyAkMSAkMgogICAgICAgICAgICA7OwogICAgICAgICopCiAgICAgICAgICAgIGZhdGFsICJJbmNvcnJlY3QgZXhlY3V0YWJsZSAnJERPV05MT0FERVInIgogICAgICAgICAgICA7OwogICAgZXNhYwoKICAgICMgQWJvcnQgaWYgZG93bmxvYWQgY29tbWFuZCBmYWlsZWQKICAgIFsgJD8gLWVxIDAgXSB8fCBmYXRhbCAnRG93bmxvYWQgZmFpbGVkJwp9CgojIC0tLSBkb3dubG9hZCBoYXNoIGZyb20gZ2l0aHViIHVybCAtLS0KZG93bmxvYWRfaGFzaCgpIHsKICAgIGlmIFsgLW4gIiR7SU5TVEFMTF9LM1NfQ09NTUlUfSIgXTsgdGhlbgogICAgICAgIEhBU0hfVVJMPSR7U1RPUkFHRV9VUkx9L2szcyR7U1VGRklYfS0ke0lOU1RBTExfSzNTX0NPTU1JVH0uc2hhMjU2c3VtCiAgICBlbHNlCiAgICAgICAgSEFTSF9VUkw9JHtHSVRIVUJfVVJMfS9kb3dubG9hZC8ke1ZFUlNJT05fSzNTfS9zaGEyNTZzdW0tJHtBUkNIfS50eHQKICAgIGZpCiAgICBpbmZvICJEb3dubG9hZGluZyBoYXNoICR7SEFTSF9VUkx9IgogICAgZG93bmxvYWQgJHtUTVBfSEFTSH0gJHtIQVNIX1VSTH0KICAgIEhBU0hfRVhQRUNURUQ9JChncmVwICIgazNzJHtTVUZGSVh9JCIgJHtUTVBfSEFTSH0pCiAgICBIQVNIX0VYUEVDVEVEPSR7SEFTSF9FWFBFQ1RFRCUlW1s6Ymxhbms6XV0qfQp9CgojIC0tLSBjaGVjayBoYXNoIGFnYWluc3QgaW5zdGFsbGVkIHZlcnNpb24gLS0tCmluc3RhbGxlZF9oYXNoX21hdGNoZXMoKSB7CiAgICBpZiBbIC14ICR7QklOX0RJUn0vazNzIF07IHRoZW4KICAgICAgICBIQVNIX0lOU1RBTExFRD0kKHNoYTI1NnN1bSAke0JJTl9ESVJ9L2szcykKICAgICAgICBIQVNIX0lOU1RBTExFRD0ke0hBU0hfSU5TVEFMTEVEJSVbWzpibGFuazpdXSp9CiAgICAgICAgaWYgWyAiJHtIQVNIX0VYUEVDVEVEfSIgPSAiJHtIQVNIX0lOU1RBTExFRH0iIF07IHRoZW4KICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgZmkKICAgIGZpCiAgICByZXR1cm4gMQp9CgojIC0tLSBkb3dubG9hZCBiaW5hcnkgZnJvbSBnaXRodWIgdXJsIC0tLQpkb3dubG9hZF9iaW5hcnkoKSB7CiAgICBpZiBbIC1uICIke0lOU1RBTExfSzNTX0NPTU1JVH0iIF07IHRoZW4KICAgICAgICBCSU5fVVJMPSR7U1RPUkFHRV9VUkx9L2szcyR7U1VGRklYfS0ke0lOU1RBTExfSzNTX0NPTU1JVH0KICAgIGVsc2UKICAgICAgICBCSU5fVVJMPSR7R0lUSFVCX1VSTH0vZG93bmxvYWQvJHtWRVJTSU9OX0szU30vazNzJHtTVUZGSVh9CiAgICBmaQogICAgaW5mbyAiRG93bmxvYWRpbmcgYmluYXJ5ICR7QklOX1VSTH0iCiAgICBkb3dubG9hZCAke1RNUF9CSU59ICR7QklOX1VSTH0KfQoKIyAtLS0gdmVyaWZ5IGRvd25sb2FkZWQgYmluYXJ5IGhhc2ggLS0tCnZlcmlmeV9iaW5hcnkoKSB7CiAgICBpbmZvICJWZXJpZnlpbmcgYmluYXJ5IGRvd25sb2FkIgogICAgSEFTSF9CSU49JChzaGEyNTZzdW0gJHtUTVBfQklOfSkKICAgIEhBU0hfQklOPSR7SEFTSF9CSU4lJVtbOmJsYW5rOl1dKn0KICAgIGlmIFsgIiR7SEFTSF9FWFBFQ1RFRH0iICE9ICIke0hBU0hfQklOfSIgXTsgdGhlbgogICAgICAgIGZhdGFsICJEb3dubG9hZCBzaGEyNTYgZG9lcyBub3QgbWF0Y2ggJHtIQVNIX0VYUEVDVEVEfSwgZ290ICR7SEFTSF9CSU59IgogICAgZmkKfQoKIyAtLS0gc2V0dXAgcGVybWlzc2lvbnMgYW5kIG1vdmUgYmluYXJ5IHRvIHN5c3RlbSBkaXJlY3RvcnkgLS0tCnNldHVwX2JpbmFyeSgpIHsKICAgIGNobW9kIDc1NSAke1RNUF9CSU59CiAgICBpbmZvICJJbnN0YWxsaW5nIGszcyB0byAke0JJTl9ESVJ9L2szcyIKICAgICRTVURPIGNob3duIHJvb3Q6cm9vdCAke1RNUF9CSU59CiAgICAkU1VETyBtdiAtZiAke1RNUF9CSU59ICR7QklOX0RJUn0vazNzCn0KCiMgLS0tIHNldHVwIHNlbGludXggcG9saWN5IC0tLQpzZXR1cF9zZWxpbnV4KCkgewogICAgY2FzZSAke0lOU1RBTExfSzNTX0NIQU5ORUx9IGluIAogICAgICAgICp0ZXN0aW5nKQogICAgICAgICAgICBycG1fY2hhbm5lbD10ZXN0aW5nCiAgICAgICAgICAgIDs7CiAgICAgICAgKmxhdGVzdCkKICAgICAgICAgICAgcnBtX2NoYW5uZWw9bGF0ZXN0CiAgICAgICAgICAgIDs7CiAgICAgICAgKikKICAgICAgICAgICAgcnBtX2NoYW5uZWw9c3RhYmxlCiAgICAgICAgICAgIDs7CiAgICBlc2FjCgogICAgcnBtX3NpdGU9InJwbS5yYW5jaGVyLmlvIgogICAgaWYgWyAiJHtycG1fY2hhbm5lbH0iID0gInRlc3RpbmciIF07IHRoZW4KICAgICAgICBycG1fc2l0ZT0icnBtLXRlc3RpbmcucmFuY2hlci5pbyIKICAgIGZpCgogICAgWyAtciAvZXRjL29zLXJlbGVhc2UgXSAmJiAuIC9ldGMvb3MtcmVsZWFzZQogICAgaWYgWyBgZXhwciAiJHtJRF9MSUtFfSIgOiAiLipzdXNlLioiYCAhPSAwIF07IHRoZW4KICAgICAgICBycG1fdGFyZ2V0PXNsZQogICAgICAgIHJwbV9zaXRlX2luZml4PW1pY3Jvb3MKICAgICAgICBwYWNrYWdlX2luc3RhbGxlcj16eXBwZXIKICAgICAgICBpZiBbICIke0lEX0xJS0U6LX0iID0gc3VzZSBdICYmICggWyAiJHtWQVJJQU5UX0lEOi19IiA9IHNsZS1taWNybyBdIHx8IFsgIiR7SUQ6LX0iID0gc2xlLW1pY3JvIF0gKTsgdGhlbgogICAgICAgICAgICBycG1fdGFyZ2V0PXNsZQogICAgICAgICAgICBycG1fc2l0ZV9pbmZpeD1zbGVtaWNybwogICAgICAgICAgICBwYWNrYWdlX2luc3RhbGxlcj16eXBwZXIKICAgICAgICBmaQogICAgZWxpZiBbICIke0lEX0xJS0U6LX0iID0gY29yZW9zIF0gfHwgWyAiJHtWQVJJQU5UX0lEOi19IiA9IGNvcmVvcyBdOyB0aGVuCiAgICAgICAgcnBtX3RhcmdldD1jb3Jlb3MKICAgICAgICBycG1fc2l0ZV9pbmZpeD1jb3Jlb3MKICAgICAgICBwYWNrYWdlX2luc3RhbGxlcj1ycG0tb3N0cmVlCiAgICBlbGlmIFsgIiR7VkVSU0lPTl9JRCUlLip9IiA9ICI3IiBdOyB0aGVuCiAgICAgICAgcnBtX3RhcmdldD1lbDcKICAgICAgICBycG1fc2l0ZV9pbmZpeD1jZW50b3MvNwogICAgICAgIHBhY2thZ2VfaW5zdGFsbGVyPXl1bQogICAgZWxpZiBbICIke1ZFUlNJT05fSUQlJS4qfSIgPSAiOCIgXSB8fCBbICIke1ZFUlNJT05fSUQlJS4qfSIgLWd0ICIzNiIgXTsgdGhlbgogICAgICAgIHJwbV90YXJnZXQ9ZWw4CiAgICAgICAgcnBtX3NpdGVfaW5maXg9Y2VudG9zLzgKICAgICAgICBwYWNrYWdlX2luc3RhbGxlcj15dW0KICAgIGVsc2UKICAgICAgICBycG1fdGFyZ2V0PWVsOQogICAgICAgIHJwbV9zaXRlX2luZml4PWNlbnRvcy85CiAgICAgICAgcGFja2FnZV9pbnN0YWxsZXI9eXVtCiAgICBmaQoKICAgIGlmIFsgIiR7cGFja2FnZV9pbnN0YWxsZXJ9IiA9ICJycG0tb3N0cmVlIiBdICYmIFsgLXggL2Jpbi95dW0gXTsgdGhlbgogICAgICAgIHBhY2thZ2VfaW5zdGFsbGVyPXl1bQogICAgZmkKCiAgICBpZiBbICIke3BhY2thZ2VfaW5zdGFsbGVyfSIgPSAieXVtIiBdICYmIFsgLXggL3Vzci9iaW4vZG5mIF07IHRoZW4KICAgICAgICBwYWNrYWdlX2luc3RhbGxlcj1kbmYKICAgIGZpCgogICAgcG9saWN5X2hpbnQ9InBsZWFzZSBpbnN0YWxsOgogICAgJHtwYWNrYWdlX2luc3RhbGxlcn0gaW5zdGFsbCAteSBjb250YWluZXItc2VsaW51eAogICAgJHtwYWNrYWdlX2luc3RhbGxlcn0gaW5zdGFsbCAteSBodHRwczovLyR7cnBtX3NpdGV9L2szcy8ke3JwbV9jaGFubmVsfS9jb21tb24vJHtycG1fc2l0ZV9pbmZpeH0vbm9hcmNoLyR7YXZhaWxhYmxlX3ZlcnNpb259CiIKCiAgICBpZiBbICIkSU5TVEFMTF9LM1NfU0tJUF9TRUxJTlVYX1JQTSIgPSB0cnVlIF0gfHwgY2FuX3NraXBfZG93bmxvYWRfc2VsaW51eCB8fCBbICEgLWQgL3Vzci9zaGFyZS9zZWxpbnV4IF07IHRoZW4KICAgICAgICBpbmZvICJTa2lwcGluZyBpbnN0YWxsYXRpb24gb2YgU0VMaW51eCBSUE0iCiAgICBlbHNlCiAgICAgICAgZ2V0X2szc19zZWxpbnV4X3ZlcnNpb24KICAgICAgICBpbnN0YWxsX3NlbGludXhfcnBtICR7cnBtX3NpdGV9ICR7cnBtX2NoYW5uZWx9ICR7cnBtX3RhcmdldH0gJHtycG1fc2l0ZV9pbmZpeH0KICAgIGZpCgogICAgcG9saWN5X2Vycm9yPWZhdGFsCiAgICBpZiBbICIkSU5TVEFMTF9LM1NfU0VMSU5VWF9XQVJOIiA9IHRydWUgXSB8fCBbICIke0lEX0xJS0U6LX0iID0gY29yZW9zIF0gfHwgWyAiJHtWQVJJQU5UX0lEOi19IiA9IGNvcmVvcyBdOyB0aGVuCiAgICAgICAgcG9saWN5X2Vycm9yPXdhcm4KICAgIGZpCgogICAgaWYgISAkU1VETyBjaGNvbiAtdSBzeXN0ZW1fdSAtciBvYmplY3RfciAtdCBjb250YWluZXJfcnVudGltZV9leGVjX3QgJHtCSU5fRElSfS9rM3MgPi9kZXYvbnVsbCAyPiYxOyB0aGVuCiAgICAgICAgaWYgJFNVRE8gZ3JlcCAnXlxzKlNFTElOVVg9ZW5mb3JjaW5nJyAvZXRjL3NlbGludXgvY29uZmlnID4vZGV2L251bGwgMj4mMTsgdGhlbgogICAgICAgICAgICAkcG9saWN5X2Vycm9yICJGYWlsZWQgdG8gYXBwbHkgY29udGFpbmVyX3J1bnRpbWVfZXhlY190IHRvICR7QklOX0RJUn0vazNzLCAke3BvbGljeV9oaW50fSIKICAgICAgICBmaQogICAgZWxpZiBbICEgLWYgL3Vzci9zaGFyZS9zZWxpbnV4L3BhY2thZ2VzL2szcy5wcCBdOyB0aGVuCiAgICAgICAgaWYgWyAteCAvdXNyL3NiaW4vdHJhbnNhY3Rpb25hbC11cGRhdGUgXSB8fCBbICIke0lEX0xJS0U6LX0iID0gY29yZW9zIF0gfHwgWyAiJHtWQVJJQU5UX0lEOi19IiA9IGNvcmVvcyBdOyB0aGVuCiAgICAgICAgICAgIHdhcm4gIlBsZWFzZSByZWJvb3QgeW91ciBtYWNoaW5lIHRvIGFjdGl2YXRlIHRoZSBjaGFuZ2VzIGFuZCBhdm9pZCBkYXRhIGxvc3MuIgogICAgICAgIGVsc2UKICAgICAgICAgICAgJHBvbGljeV9lcnJvciAiRmFpbGVkIHRvIGZpbmQgdGhlIGszcy1zZWxpbnV4IHBvbGljeSwgJHtwb2xpY3lfaGludH0iCiAgICAgICAgZmkKICAgIGZpCn0KCmluc3RhbGxfc2VsaW51eF9ycG0oKSB7CiAgICBpZiBbIC1yIC9ldGMvcmVkaGF0LXJlbGVhc2UgXSB8fCBbIC1yIC9ldGMvY2VudG9zLXJlbGVhc2UgXSB8fCBbIC1yIC9ldGMvb3JhY2xlLXJlbGVhc2UgXSB8fCBbIC1yIC9ldGMvZmVkb3JhLXJlbGVhc2UgXSB8fCBbICIke0lEX0xJS0UlJVsgXSp9IiA9ICJzdXNlIiBdOyB0aGVuCiAgICAgICAgcmVwb2Rpcj0vZXRjL3l1bS5yZXBvcy5kCiAgICAgICAgaWYgWyAtZCAvZXRjL3p5cHAvcmVwb3MuZCBdOyB0aGVuCiAgICAgICAgICAgIHJlcG9kaXI9L2V0Yy96eXBwL3JlcG9zLmQKICAgICAgICBmaQogICAgICAgIHNldCArbyBub2dsb2IKICAgICAgICAkU1VETyBybSAtZiAke3JlcG9kaXJ9L3JhbmNoZXItazNzLWNvbW1vbioucmVwbwogICAgICAgIHNldCAtbyBub2dsb2IKICAgICAgICBpZiBbIC1yIC9ldGMvcmVkaGF0LXJlbGVhc2UgXSAmJiBbICIkezN9IiA9ICJlbDciIF07IHRoZW4KICAgICAgICAgICAgJFNVRE8geXVtIGluc3RhbGwgLXkgeXVtLXV0aWxzCiAgICAgICAgICAgICRTVURPIHl1bS1jb25maWctbWFuYWdlciAtLWVuYWJsZSByaGVsLTctc2VydmVyLWV4dHJhcy1ycG1zCiAgICAgICAgZmkKICAgICAgICAkU1VETyB0ZWUgJHtyZXBvZGlyfS9yYW5jaGVyLWszcy1jb21tb24ucmVwbyA+L2Rldi9udWxsIDw8IEVPRgpbcmFuY2hlci1rM3MtY29tbW9uLSR7Mn1dCm5hbWU9UmFuY2hlciBLM3MgQ29tbW9uICgkezJ9KQpiYXNldXJsPWh0dHBzOi8vJHsxfS9rM3MvJHsyfS9jb21tb24vJHs0fS9ub2FyY2gKZW5hYmxlZD0xCmdwZ2NoZWNrPTEKcmVwb19ncGdjaGVjaz0wCmdwZ2tleT1odHRwczovLyR7MX0vcHVibGljLmtleQpFT0YKICAgICAgICBjYXNlICR7M30gaW4KICAgICAgICBzbGUpCiAgICAgICAgICAgIHJwbV9pbnN0YWxsZXI9Inp5cHBlciAtLWdwZy1hdXRvLWltcG9ydC1rZXlzIgogICAgICAgICAgICBpZiBbICIke1RSQU5TQUNUSU9OQUxfVVBEQVRFPWZhbHNlfSIgIT0gInRydWUiIF0gJiYgWyAteCAvdXNyL3NiaW4vdHJhbnNhY3Rpb25hbC11cGRhdGUgXTsgdGhlbgogICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25hbF91cGRhdGVfcnVuPSJ0cmFuc2FjdGlvbmFsLXVwZGF0ZSAtLW5vLXNlbGZ1cGRhdGUgLWQgcnVuIgogICAgICAgICAgICAgICAgcnBtX2luc3RhbGxlcj0idHJhbnNhY3Rpb25hbC11cGRhdGUgLS1uby1zZWxmdXBkYXRlIC1kIHJ1biAke3JwbV9pbnN0YWxsZXJ9IgogICAgICAgICAgICAgICAgOiAiJHtJTlNUQUxMX0szU19TS0lQX1NUQVJUOj10cnVlfSIKICAgICAgICAgICAgZmkKICAgICAgICAgICAgIyBjcmVhdGUgdGhlIC92YXIvbGliL3JwbS1zdGF0ZSBpbiBTTEUgc3lzdGVtcyB0byBmaXggdGhlIHByZWluIHNlbGludXggbWFjcm8KICAgICAgICAgICAgJHt0cmFuc2FjdGlvbmFsX3VwZGF0ZV9ydW59IG1rZGlyIC1wIC92YXIvbGliL3JwbS1zdGF0ZQogICAgICAgICAgICA7OwogICAgICAgIGNvcmVvcykKICAgICAgICAgICAgcnBtX2luc3RhbGxlcj0icnBtLW9zdHJlZSAtLWlkZW1wb3RlbnQiCiAgICAgICAgICAgICMgcnBtX2luc3RhbGxfZXh0cmFfYXJncz0iLS1hcHBseS1saXZlIgogICAgICAgICAgICA6ICIke0lOU1RBTExfSzNTX1NLSVBfU1RBUlQ6PXRydWV9IgogICAgICAgICAgICA7OwogICAgICAgICopCiAgICAgICAgICAgIHJwbV9pbnN0YWxsZXI9Inl1bSIKICAgICAgICAgICAgOzsKICAgICAgICBlc2FjCiAgICAgICAgaWYgWyAiJHtycG1faW5zdGFsbGVyfSIgPSAieXVtIiBdICYmIFsgLXggL3Vzci9iaW4vZG5mIF07IHRoZW4KICAgICAgICAgICAgcnBtX2luc3RhbGxlcj1kbmYKICAgICAgICBmaQoJICAgIGlmIHJwbSAtcSAtLXF1aWV0IGszcy1zZWxpbnV4OyB0aGVuIAogICAgICAgICAgICAjIHJlbW92ZSBrM3Mtc2VsaW51eCBtb2R1bGUgYmVmb3JlIHVwZ3JhZGUgdG8gYWxsb3cgY29udGFpbmVyLXNlbGludXggdG8gdXBncmFkZSBzYWZlbHkKICAgICAgICAgICAgaWYgY2hlY2tfYXZhaWxhYmxlX3VwZ3JhZGVzIGNvbnRhaW5lci1zZWxpbnV4ICR7M30gJiYgY2hlY2tfYXZhaWxhYmxlX3VwZ3JhZGVzIGszcy1zZWxpbnV4ICR7M307IHRoZW4KICAgICAgICAgICAgICAgIE1PRFVMRV9QUklPUklUWT0kKCRTVURPIHNlbW9kdWxlIC0tbGlzdD1mdWxsIHwgZ3JlcCBrM3MgfCBjdXQgLWYxIC1kIiAiKQogICAgICAgICAgICAgICAgaWYgWyAtbiAiJHtNT0RVTEVfUFJJT1JJVFl9IiBdOyB0aGVuCiAgICAgICAgICAgICAgICAgICAgJFNVRE8gc2Vtb2R1bGUgLVggJE1PRFVMRV9QUklPUklUWSAtciBrM3MgfHwgdHJ1ZQogICAgICAgICAgICAgICAgZmkKICAgICAgICAgICAgZmkKICAgICAgICBmaQogICAgICAgICMgc2hlbGxjaGVjayBkaXNhYmxlPVNDMjA4NgogICAgICAgICRTVURPICR7cnBtX2luc3RhbGxlcn0gaW5zdGFsbCAteSAiazNzLXNlbGludXgiCiAgICBmaQogICAgcmV0dXJuCn0KCmNoZWNrX2F2YWlsYWJsZV91cGdyYWRlcygpIHsKICAgIHNldCArZQogICAgY2FzZSAkezJ9IGluCiAgICAgICAgc2xlKQogICAgICAgICAgICBhdmFpbGFibGVfdXBncmFkZXM9JCgkU1VETyB6eXBwZXIgLXEgLXQgLXMgMTEgc2UgLXMgLXUgLS10eXBlIHBhY2thZ2UgJDEgfCB0YWlsIC1uIDEgfCBncmVwIC12ICJObyBtYXRjaGluZyIgfCBhd2sgJ3twcmludCAkM30nKQogICAgICAgICAgICA7OwogICAgICAgIGNvcmVvcykKICAgICAgICAgICAgIyBjdXJyZW50bHkgcnBtLW9zdHJlZSBkb2VzIG5vdCBzdXBwb3J0IHNlYXJjaCBmdW5jdGlvbmFsaXR5IGh0dHBzOi8vZ2l0aHViLmNvbS9jb3Jlb3MvcnBtLW9zdHJlZS9pc3N1ZXMvMTg3NwogICAgICAgICAgICA7OwogICAgICAgICopCiAgICAgICAgICAgIGF2YWlsYWJsZV91cGdyYWRlcz0kKCRTVURPIHl1bSAtcSAtLXJlZnJlc2ggbGlzdCAkMSAtLXVwZ3JhZGVzIHwgdGFpbCAtbiAxIHwgYXdrICd7cHJpbnQgJDJ9JykKICAgICAgICAgICAgOzsKICAgIGVzYWMKICAgIHNldCAtZQogICAgaWYgWyAtbiAiJHthdmFpbGFibGVfdXBncmFkZXN9IiBdOyB0aGVuCiAgICAgICAgcmV0dXJuIDAKICAgIGZpCiAgICByZXR1cm4gMQp9CiMgLS0tIGRvd25sb2FkIGFuZCB2ZXJpZnkgazNzIC0tLQpkb3dubG9hZF9hbmRfdmVyaWZ5KCkgewogICAgaWYgY2FuX3NraXBfZG93bmxvYWRfYmluYXJ5OyB0aGVuCiAgICAgICBpbmZvICdTa2lwcGluZyBrM3MgZG93bmxvYWQgYW5kIHZlcmlmeScKICAgICAgIHZlcmlmeV9rM3NfaXNfZXhlY3V0YWJsZQogICAgICAgcmV0dXJuCiAgICBmaQoKICAgIHNldHVwX3ZlcmlmeV9hcmNoCiAgICB2ZXJpZnlfZG93bmxvYWRlciBjdXJsIHx8IHZlcmlmeV9kb3dubG9hZGVyIHdnZXQgfHwgZmF0YWwgJ0NhbiBub3QgZmluZCBjdXJsIG9yIHdnZXQgZm9yIGRvd25sb2FkaW5nIGZpbGVzJwogICAgc2V0dXBfdG1wCiAgICBnZXRfcmVsZWFzZV92ZXJzaW9uCiAgICBkb3dubG9hZF9oYXNoCgogICAgaWYgaW5zdGFsbGVkX2hhc2hfbWF0Y2hlczsgdGhlbgogICAgICAgIGluZm8gJ1NraXBwaW5nIGJpbmFyeSBkb3dubG9hZGVkLCBpbnN0YWxsZWQgazNzIG1hdGNoZXMgaGFzaCcKICAgICAgICByZXR1cm4KICAgIGZpCgogICAgZG93bmxvYWRfYmluYXJ5CiAgICB2ZXJpZnlfYmluYXJ5CiAgICBzZXR1cF9iaW5hcnkKfQoKIyAtLS0gYWRkIGFkZGl0aW9uYWwgdXRpbGl0eSBsaW5rcyAtLS0KY3JlYXRlX3N5bWxpbmtzKCkgewogICAgWyAiJHtJTlNUQUxMX0szU19CSU5fRElSX1JFQURfT05MWX0iID0gdHJ1ZSBdICYmIHJldHVybgogICAgWyAiJHtJTlNUQUxMX0szU19TWU1MSU5LfSIgPSBza2lwIF0gJiYgcmV0dXJuCgogICAgZm9yIGNtZCBpbiBrdWJlY3RsIGNyaWN0bCBjdHI7IGRvCiAgICAgICAgaWYgWyAhIC1lICR7QklOX0RJUn0vJHtjbWR9IF0gfHwgWyAiJHtJTlNUQUxMX0szU19TWU1MSU5LfSIgPSBmb3JjZSBdOyB0aGVuCiAgICAgICAgICAgIHdoaWNoX2NtZD0kKGNvbW1hbmQgLXYgJHtjbWR9IDI+L2Rldi9udWxsIHx8IHRydWUpCiAgICAgICAgICAgIGlmIFsgLXogIiR7d2hpY2hfY21kfSIgXSB8fCBbICIke0lOU1RBTExfSzNTX1NZTUxJTkt9IiA9IGZvcmNlIF07IHRoZW4KICAgICAgICAgICAgICAgIGluZm8gIkNyZWF0aW5nICR7QklOX0RJUn0vJHtjbWR9IHN5bWxpbmsgdG8gazNzIgogICAgICAgICAgICAgICAgJFNVRE8gbG4gLXNmIGszcyAke0JJTl9ESVJ9LyR7Y21kfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBpbmZvICJTa2lwcGluZyAke0JJTl9ESVJ9LyR7Y21kfSBzeW1saW5rIHRvIGszcywgY29tbWFuZCBleGlzdHMgaW4gUEFUSCBhdCAke3doaWNoX2NtZH0iCiAgICAgICAgICAgIGZpCiAgICAgICAgZWxzZQogICAgICAgICAgICBpbmZvICJTa2lwcGluZyAke0JJTl9ESVJ9LyR7Y21kfSBzeW1saW5rIHRvIGszcywgYWxyZWFkeSBleGlzdHMiCiAgICAgICAgZmkKICAgIGRvbmUKfQoKIyAtLS0gY3JlYXRlIGtpbGxhbGwgc2NyaXB0IC0tLQpjcmVhdGVfa2lsbGFsbCgpIHsKICAgIFsgIiR7SU5TVEFMTF9LM1NfQklOX0RJUl9SRUFEX09OTFl9IiA9IHRydWUgXSAmJiByZXR1cm4KICAgIGluZm8gIkNyZWF0aW5nIGtpbGxhbGwgc2NyaXB0ICR7S0lMTEFMTF9LM1NfU0h9IgogICAgJFNVRE8gdGVlICR7S0lMTEFMTF9LM1NfU0h9ID4vZGV2L251bGwgPDwgXEVPRgojIS9iaW4vc2gKWyAkKGlkIC11KSAtZXEgMCBdIHx8IGV4ZWMgc3VkbyAkMCAkQAoKZm9yIGJpbiBpbiAvdmFyL2xpYi9yYW5jaGVyL2szcy9kYXRhLyoqL2Jpbi87IGRvCiAgICBbIC1kICRiaW4gXSAmJiBleHBvcnQgUEFUSD0kUEFUSDokYmluOiRiaW4vYXV4CmRvbmUKCnNldCAteAoKZm9yIHNlcnZpY2UgaW4gL2V0Yy9zeXN0ZW1kL3N5c3RlbS9rM3MqLnNlcnZpY2U7IGRvCiAgICBbIC1zICRzZXJ2aWNlIF0gJiYgc3lzdGVtY3RsIHN0b3AgJChiYXNlbmFtZSAkc2VydmljZSkKZG9uZQoKZm9yIHNlcnZpY2UgaW4gL2V0Yy9pbml0LmQvazNzKjsgZG8KICAgIFsgLXggJHNlcnZpY2UgXSAmJiAkc2VydmljZSBzdG9wCmRvbmUKCnBzY2hpbGRyZW4oKSB7CiAgICBwcyAtZSAtbyBwcGlkPSAtbyBwaWQ9IHwgXAogICAgc2VkIC1lICdzL15ccyovL2c7IHMvXHNccyovXHQvZzsnIHwgXAogICAgZ3JlcCAtdyAiXiQxIiB8IFwKICAgIGN1dCAtZjIKfQoKcHN0cmVlKCkgewogICAgZm9yIHBpZCBpbiAkQDsgZG8KICAgICAgICBlY2hvICRwaWQKICAgICAgICBmb3IgY2hpbGQgaW4gJChwc2NoaWxkcmVuICRwaWQpOyBkbwogICAgICAgICAgICBwc3RyZWUgJGNoaWxkCiAgICAgICAgZG9uZQogICAgZG9uZQp9CgpraWxsdHJlZSgpIHsKICAgIGtpbGwgLTkgJCgKICAgICAgICB7IHNldCAreDsgfSAyPi9kZXYvbnVsbDsKICAgICAgICBwc3RyZWUgJEA7CiAgICAgICAgc2V0IC14OwogICAgKSAyPi9kZXYvbnVsbAp9CgpyZW1vdmVfaW50ZXJmYWNlcygpIHsKICAgICMgRGVsZXRlIG5ldHdvcmsgaW50ZXJmYWNlKHMpIHRoYXQgbWF0Y2ggJ21hc3RlciBjbmkwJwogICAgaXAgbGluayBzaG93IDI+L2Rldi9udWxsIHwgZ3JlcCAnbWFzdGVyIGNuaTAnIHwgd2hpbGUgcmVhZCBpZ25vcmUgaWZhY2UgaWdub3JlOyBkbwogICAgICAgIGlmYWNlPSR7aWZhY2UlJUAqfQogICAgICAgIFsgLXogIiRpZmFjZSIgXSB8fCBpcCBsaW5rIGRlbGV0ZSAkaWZhY2UKICAgIGRvbmUKCiAgICAjIERlbGV0ZSBjbmkgcmVsYXRlZCBpbnRlcmZhY2VzCiAgICBpcCBsaW5rIGRlbGV0ZSBjbmkwCiAgICBpcCBsaW5rIGRlbGV0ZSBmbGFubmVsLjEKICAgIGlwIGxpbmsgZGVsZXRlIGZsYW5uZWwtdjYuMQogICAgaXAgbGluayBkZWxldGUga3ViZS1pcHZzMAogICAgaXAgbGluayBkZWxldGUgZmxhbm5lbC13ZwogICAgaXAgbGluayBkZWxldGUgZmxhbm5lbC13Zy12NgoKICAgICMgUmVzdGFydCB0YWlsc2NhbGUKICAgIGlmIFsgLW4gIiQoY29tbWFuZCAtdiB0YWlsc2NhbGUpIiBdOyB0aGVuCiAgICAgICAgdGFpbHNjYWxlIHNldCAtLWFkdmVydGlzZS1yb3V0ZXM9CiAgICBmaQp9CgpnZXRzaGltcygpIHsKICAgIHBzIC1lIC1vIHBpZD0gLW8gYXJncz0gfCBzZWQgLWUgJ3MvXiAqLy87IHMvXHNccyovXHQvOycgfCBncmVwIC13ICdrM3MvZGF0YS9bXi9dKi9iaW4vY29udGFpbmVyZC1zaGltJyB8IGN1dCAtZjEKfQoKa2lsbHRyZWUgJCh7IHNldCAreDsgfSAyPi9kZXYvbnVsbDsgZ2V0c2hpbXM7IHNldCAteCkKCmRvX3VubW91bnRfYW5kX3JlbW92ZSgpIHsKICAgIHNldCAreAogICAgd2hpbGUgcmVhZCAtciBfIHBhdGggXzsgZG8KICAgICAgICBjYXNlICIkcGF0aCIgaW4gJDEqKSBlY2hvICIkcGF0aCIgOzsgZXNhYwogICAgZG9uZSA8IC9wcm9jL3NlbGYvbW91bnRzIHwgc29ydCAtciB8IHhhcmdzIC1yIC10IC1uIDEgc2ggLWMgJ3Vtb3VudCAtZiAiJDAiICYmIHJtIC1yZiAiJDAiJwogICAgc2V0IC14Cn0KCmRvX3VubW91bnRfYW5kX3JlbW92ZSAnL3J1bi9rM3MnCmRvX3VubW91bnRfYW5kX3JlbW92ZSAnL3Zhci9saWIvcmFuY2hlci9rM3MnCmRvX3VubW91bnRfYW5kX3JlbW92ZSAnL3Zhci9saWIva3ViZWxldC9wb2RzJwpkb191bm1vdW50X2FuZF9yZW1vdmUgJy92YXIvbGliL2t1YmVsZXQvcGx1Z2lucycKZG9fdW5tb3VudF9hbmRfcmVtb3ZlICcvcnVuL25ldG5zL2NuaS0nCgojIFJlbW92ZSBDTkkgbmFtZXNwYWNlcwppcCBuZXRucyBzaG93IDI+L2Rldi9udWxsIHwgZ3JlcCBjbmktIHwgeGFyZ3MgLXIgLXQgLW4gMSBpcCBuZXRucyBkZWxldGUKCnJlbW92ZV9pbnRlcmZhY2VzCgpybSAtcmYgL3Zhci9saWIvY25pLwppcHRhYmxlcy1zYXZlIHwgZ3JlcCAtdiBLVUJFLSB8IGdyZXAgLXYgQ05JLSB8IGdyZXAgLWl2IGZsYW5uZWwgfCBpcHRhYmxlcy1yZXN0b3JlCmlwNnRhYmxlcy1zYXZlIHwgZ3JlcCAtdiBLVUJFLSB8IGdyZXAgLXYgQ05JLSB8IGdyZXAgLWl2IGZsYW5uZWwgfCBpcDZ0YWJsZXMtcmVzdG9yZQpFT0YKICAgICRTVURPIGNobW9kIDc1NSAke0tJTExBTExfSzNTX1NIfQogICAgJFNVRE8gY2hvd24gcm9vdDpyb290ICR7S0lMTEFMTF9LM1NfU0h9Cn0KCiMgLS0tIGNyZWF0ZSB1bmluc3RhbGwgc2NyaXB0IC0tLQpjcmVhdGVfdW5pbnN0YWxsKCkgewogICAgWyAiJHtJTlNUQUxMX0szU19CSU5fRElSX1JFQURfT05MWX0iID0gdHJ1ZSBdICYmIHJldHVybgogICAgaW5mbyAiQ3JlYXRpbmcgdW5pbnN0YWxsIHNjcmlwdCAke1VOSU5TVEFMTF9LM1NfU0h9IgogICAgJFNVRE8gdGVlICR7VU5JTlNUQUxMX0szU19TSH0gPi9kZXYvbnVsbCA8PCBFT0YKIyEvYmluL3NoCnNldCAteApbIFwkKGlkIC11KSAtZXEgMCBdIHx8IGV4ZWMgc3VkbyBcJDAgXCRACgoke0tJTExBTExfSzNTX1NIfQoKaWYgY29tbWFuZCAtdiBzeXN0ZW1jdGw7IHRoZW4KICAgIHN5c3RlbWN0bCBkaXNhYmxlICR7U1lTVEVNX05BTUV9CiAgICBzeXN0ZW1jdGwgcmVzZXQtZmFpbGVkICR7U1lTVEVNX05BTUV9CiAgICBzeXN0ZW1jdGwgZGFlbW9uLXJlbG9hZApmaQppZiBjb21tYW5kIC12IHJjLXVwZGF0ZTsgdGhlbgogICAgcmMtdXBkYXRlIGRlbGV0ZSAke1NZU1RFTV9OQU1FfSBkZWZhdWx0CmZpCgpybSAtZiAke0ZJTEVfSzNTX1NFUlZJQ0V9CnJtIC1mICR7RklMRV9LM1NfRU5WfQoKcmVtb3ZlX3VuaW5zdGFsbCgpIHsKICAgIHJtIC1mICR7VU5JTlNUQUxMX0szU19TSH0KfQp0cmFwIHJlbW92ZV91bmluc3RhbGwgRVhJVAoKaWYgKGxzICR7U1lTVEVNRF9ESVJ9L2szcyouc2VydmljZSB8fCBscyAvZXRjL2luaXQuZC9rM3MqKSA+L2Rldi9udWxsIDI+JjE7IHRoZW4KICAgIHNldCAreDsgZWNobyAnQWRkaXRpb25hbCBrM3Mgc2VydmljZXMgaW5zdGFsbGVkLCBza2lwcGluZyB1bmluc3RhbGwgb2YgazNzJzsgc2V0IC14CiAgICBleGl0CmZpCgpmb3IgY21kIGluIGt1YmVjdGwgY3JpY3RsIGN0cjsgZG8KICAgIGlmIFsgLUwgJHtCSU5fRElSfS9cJGNtZCBdOyB0aGVuCiAgICAgICAgcm0gLWYgJHtCSU5fRElSfS9cJGNtZAogICAgZmkKZG9uZQoKcm0gLXJmIC9ldGMvcmFuY2hlci9rM3MKcm0gLXJmIC9ydW4vazNzCnJtIC1yZiAvcnVuL2ZsYW5uZWwKcm0gLXJmIC92YXIvbGliL3JhbmNoZXIvazNzCnJtIC1yZiAvdmFyL2xpYi9rdWJlbGV0CnJtIC1mICR7QklOX0RJUn0vazNzCnJtIC1mICR7S0lMTEFMTF9LM1NfU0h9CgppZiB0eXBlIHl1bSA+L2Rldi9udWxsIDI+JjE7IHRoZW4KICAgIHl1bSByZW1vdmUgLXkgazNzLXNlbGludXgKICAgIHJtIC1mIC9ldGMveXVtLnJlcG9zLmQvcmFuY2hlci1rM3MtY29tbW9uKi5yZXBvCmVsaWYgdHlwZSBycG0tb3N0cmVlID4vZGV2L251bGwgMj4mMTsgdGhlbgogICAgcnBtLW9zdHJlZSB1bmluc3RhbGwgazNzLXNlbGludXgKICAgIHJtIC1mIC9ldGMveXVtLnJlcG9zLmQvcmFuY2hlci1rM3MtY29tbW9uKi5yZXBvCmVsaWYgdHlwZSB6eXBwZXIgPi9kZXYvbnVsbCAyPiYxOyB0aGVuCiAgICB1bmluc3RhbGxfY21kPSJ6eXBwZXIgcmVtb3ZlIC15IGszcy1zZWxpbnV4IgogICAgaWYgWyAiXCR7VFJBTlNBQ1RJT05BTF9VUERBVEU9ZmFsc2V9IiAhPSAidHJ1ZSIgXSAmJiBbIC14IC91c3Ivc2Jpbi90cmFuc2FjdGlvbmFsLXVwZGF0ZSBdOyB0aGVuCiAgICAgICAgdW5pbnN0YWxsX2NtZD0idHJhbnNhY3Rpb25hbC11cGRhdGUgLS1uby1zZWxmdXBkYXRlIC1kIHJ1biBcJHVuaW5zdGFsbF9jbWQiCiAgICBmaQogICAgXCR1bmluc3RhbGxfY21kCiAgICBybSAtZiAvZXRjL3p5cHAvcmVwb3MuZC9yYW5jaGVyLWszcy1jb21tb24qLnJlcG8KZmkKRU9GCiAgICAkU1VETyBjaG1vZCA3NTUgJHtVTklOU1RBTExfSzNTX1NIfQogICAgJFNVRE8gY2hvd24gcm9vdDpyb290ICR7VU5JTlNUQUxMX0szU19TSH0KfQoKIyAtLS0gZGlzYWJsZSBjdXJyZW50IHNlcnZpY2UgaWYgbG9hZGVkIC0tCnN5c3RlbWRfZGlzYWJsZSgpIHsKICAgICRTVURPIHN5c3RlbWN0bCBkaXNhYmxlICR7U1lTVEVNX05BTUV9ID4vZGV2L251bGwgMj4mMSB8fCB0cnVlCiAgICAkU1VETyBybSAtZiAvZXRjL3N5c3RlbWQvc3lzdGVtLyR7U0VSVklDRV9LM1N9IHx8IHRydWUKICAgICRTVURPIHJtIC1mIC9ldGMvc3lzdGVtZC9zeXN0ZW0vJHtTRVJWSUNFX0szU30uZW52IHx8IHRydWUKfQoKIyAtLS0gY2FwdHVyZSBjdXJyZW50IGVudiBhbmQgY3JlYXRlIGZpbGUgY29udGFpbmluZyBrM3NfIHZhcmlhYmxlcyAtLS0KY3JlYXRlX2Vudl9maWxlKCkgewogICAgaW5mbyAiZW52OiBDcmVhdGluZyBlbnZpcm9ubWVudCBmaWxlICR7RklMRV9LM1NfRU5WfSIKICAgICRTVURPIHRvdWNoICR7RklMRV9LM1NfRU5WfQogICAgJFNVRE8gY2htb2QgMDYwMCAke0ZJTEVfSzNTX0VOVn0KICAgIHNoIC1jIGV4cG9ydCB8IHdoaWxlIHJlYWQgeCB2OyBkbyBlY2hvICR2OyBkb25lIHwgZ3JlcCAtRSAnXihLM1N8Q09OVEFJTkVSRClfJyB8ICRTVURPIHRlZSAke0ZJTEVfSzNTX0VOVn0gPi9kZXYvbnVsbAogICAgc2ggLWMgZXhwb3J0IHwgd2hpbGUgcmVhZCB4IHY7IGRvIGVjaG8gJHY7IGRvbmUgfCBncmVwIC1FaSAnXihOT3xIVFRQfEhUVFBTKV9QUk9YWScgfCAkU1VETyB0ZWUgLWEgJHtGSUxFX0szU19FTlZ9ID4vZGV2L251bGwKfQoKIyAtLS0gd3JpdGUgc3lzdGVtZCBzZXJ2aWNlIGZpbGUgLS0tCmNyZWF0ZV9zeXN0ZW1kX3NlcnZpY2VfZmlsZSgpIHsKICAgIGluZm8gInN5c3RlbWQ6IENyZWF0aW5nIHNlcnZpY2UgZmlsZSAke0ZJTEVfSzNTX1NFUlZJQ0V9IgogICAgJFNVRE8gdGVlICR7RklMRV9LM1NfU0VSVklDRX0gPi9kZXYvbnVsbCA8PCBFT0YKW1VuaXRdCkRlc2NyaXB0aW9uPUxpZ2h0d2VpZ2h0IEt1YmVybmV0ZXMKRG9jdW1lbnRhdGlvbj1odHRwczovL2szcy5pbwpXYW50cz1uZXR3b3JrLW9ubGluZS50YXJnZXQKQWZ0ZXI9bmV0d29yay1vbmxpbmUudGFyZ2V0CgpbSW5zdGFsbF0KV2FudGVkQnk9bXVsdGktdXNlci50YXJnZXQKCltTZXJ2aWNlXQpUeXBlPSR7U1lTVEVNRF9UWVBFfQpFbnZpcm9ubWVudEZpbGU9LS9ldGMvZGVmYXVsdC8lTgpFbnZpcm9ubWVudEZpbGU9LS9ldGMvc3lzY29uZmlnLyVOCkVudmlyb25tZW50RmlsZT0tJHtGSUxFX0szU19FTlZ9CktpbGxNb2RlPXByb2Nlc3MKRGVsZWdhdGU9eWVzCiMgSGF2aW5nIG5vbi16ZXJvIExpbWl0KnMgY2F1c2VzIHBlcmZvcm1hbmNlIHByb2JsZW1zIGR1ZSB0byBhY2NvdW50aW5nIG92ZXJoZWFkCiMgaW4gdGhlIGtlcm5lbC4gV2UgcmVjb21tZW5kIHVzaW5nIGNncm91cHMgdG8gZG8gY29udGFpbmVyLWxvY2FsIGFjY291bnRpbmcuCkxpbWl0Tk9GSUxFPTEwNDg1NzYKTGltaXROUFJPQz1pbmZpbml0eQpMaW1pdENPUkU9aW5maW5pdHkKVGFza3NNYXg9aW5maW5pdHkKVGltZW91dFN0YXJ0U2VjPTAKUmVzdGFydD1hbHdheXMKUmVzdGFydFNlYz01cwpFeGVjU3RhcnRQcmU9L2Jpbi9zaCAteGMgJyEgL3Vzci9iaW4vc3lzdGVtY3RsIGlzLWVuYWJsZWQgLS1xdWlldCBubS1jbG91ZC1zZXR1cC5zZXJ2aWNlJwpFeGVjU3RhcnRQcmU9LS9zYmluL21vZHByb2JlIGJyX25ldGZpbHRlcgpFeGVjU3RhcnRQcmU9LS9zYmluL21vZHByb2JlIG92ZXJsYXkKRXhlY1N0YXJ0PSR7QklOX0RJUn0vazNzIFxcCiAgICAke0NNRF9LM1NfRVhFQ30KCkVPRgp9CgojIC0tLSB3cml0ZSBvcGVucmMgc2VydmljZSBmaWxlIC0tLQpjcmVhdGVfb3BlbnJjX3NlcnZpY2VfZmlsZSgpIHsKICAgIExPR19GSUxFPS92YXIvbG9nLyR7U1lTVEVNX05BTUV9LmxvZwoKICAgIGluZm8gIm9wZW5yYzogQ3JlYXRpbmcgc2VydmljZSBmaWxlICR7RklMRV9LM1NfU0VSVklDRX0iCiAgICAkU1VETyB0ZWUgJHtGSUxFX0szU19TRVJWSUNFfSA+L2Rldi9udWxsIDw8IEVPRgojIS9zYmluL29wZW5yYy1ydW4KCmRlcGVuZCgpIHsKICAgIGFmdGVyIG5ldHdvcmstb25saW5lCiAgICB3YW50IGNncm91cHMKfQoKc3RhcnRfcHJlKCkgewogICAgcm0gLWYgL3RtcC9rM3MuKgp9CgpzdXBlcnZpc29yPXN1cGVydmlzZS1kYWVtb24KbmFtZT0ke1NZU1RFTV9OQU1FfQpjb21tYW5kPSIke0JJTl9ESVJ9L2szcyIKY29tbWFuZF9hcmdzPSIkKGVzY2FwZV9kcSAiJHtDTURfSzNTX0VYRUN9IikKICAgID4+JHtMT0dfRklMRX0gMj4mMSIKCm91dHB1dF9sb2c9JHtMT0dfRklMRX0KZXJyb3JfbG9nPSR7TE9HX0ZJTEV9CgpwaWRmaWxlPSIvdmFyL3J1bi8ke1NZU1RFTV9OQU1FfS5waWQiCnJlc3Bhd25fZGVsYXk9NQpyZXNwYXduX21heD0wCgpzZXQgLW8gYWxsZXhwb3J0CmlmIFsgLWYgL2V0Yy9lbnZpcm9ubWVudCBdOyB0aGVuIC4gL2V0Yy9lbnZpcm9ubWVudDsgZmkKaWYgWyAtZiAke0ZJTEVfSzNTX0VOVn0gXTsgdGhlbiAuICR7RklMRV9LM1NfRU5WfTsgZmkKc2V0ICtvIGFsbGV4cG9ydApFT0YKICAgICRTVURPIGNobW9kIDA3NTUgJHtGSUxFX0szU19TRVJWSUNFfQoKICAgICRTVURPIHRlZSAvZXRjL2xvZ3JvdGF0ZS5kLyR7U1lTVEVNX05BTUV9ID4vZGV2L251bGwgPDwgRU9GCiR7TE9HX0ZJTEV9IHsKCW1pc3NpbmdvawoJbm90aWZlbXB0eQoJY29weXRydW5jYXRlCn0KRU9GCn0KCiMgLS0tIHdyaXRlIHN5c3RlbWQgb3Igb3BlbnJjIHNlcnZpY2UgZmlsZSAtLS0KY3JlYXRlX3NlcnZpY2VfZmlsZSgpIHsKICAgIFsgIiR7SEFTX1NZU1RFTUR9IiA9IHRydWUgXSAmJiBjcmVhdGVfc3lzdGVtZF9zZXJ2aWNlX2ZpbGUgJiYgcmVzdG9yZV9zeXN0ZW1kX3NlcnZpY2VfZmlsZV9jb250ZXh0CiAgICBbICIke0hBU19PUEVOUkN9IiA9IHRydWUgXSAmJiBjcmVhdGVfb3BlbnJjX3NlcnZpY2VfZmlsZQogICAgcmV0dXJuIDAKfQoKcmVzdG9yZV9zeXN0ZW1kX3NlcnZpY2VfZmlsZV9jb250ZXh0KCkgewogICAgJFNVRE8gcmVzdG9yZWNvbiAtUiAtaSAke0ZJTEVfSzNTX1NFUlZJQ0V9IDI+L2Rldi9udWxsIHx8IHRydWUKICAgICRTVURPIHJlc3RvcmVjb24gLVIgLWkgJHtGSUxFX0szU19FTlZ9IDI+L2Rldi9udWxsIHx8IHRydWUKfQoKIyAtLS0gZ2V0IGhhc2hlcyBvZiB0aGUgY3VycmVudCBrM3MgYmluIGFuZCBzZXJ2aWNlIGZpbGVzCmdldF9pbnN0YWxsZWRfaGFzaGVzKCkgewogICAgJFNVRE8gc2hhMjU2c3VtICR7QklOX0RJUn0vazNzICR7RklMRV9LM1NfU0VSVklDRX0gJHtGSUxFX0szU19FTlZ9IDI+JjEgfHwgdHJ1ZQp9CgojIC0tLSBlbmFibGUgYW5kIHN0YXJ0IHN5c3RlbWQgc2VydmljZSAtLS0Kc3lzdGVtZF9lbmFibGUoKSB7CiAgICBpbmZvICJzeXN0ZW1kOiBFbmFibGluZyAke1NZU1RFTV9OQU1FfSB1bml0IgogICAgJFNVRE8gc3lzdGVtY3RsIGVuYWJsZSAke0ZJTEVfSzNTX1NFUlZJQ0V9ID4vZGV2L251bGwKICAgICRTVURPIHN5c3RlbWN0bCBkYWVtb24tcmVsb2FkID4vZGV2L251bGwKfQoKc3lzdGVtZF9zdGFydCgpIHsKICAgIGluZm8gInN5c3RlbWQ6IFN0YXJ0aW5nICR7U1lTVEVNX05BTUV9IgogICAgJFNVRE8gc3lzdGVtY3RsIHJlc3RhcnQgJHtTWVNURU1fTkFNRX0KfQoKIyAtLS0gZW5hYmxlIGFuZCBzdGFydCBvcGVucmMgc2VydmljZSAtLS0Kb3BlbnJjX2VuYWJsZSgpIHsKICAgIGluZm8gIm9wZW5yYzogRW5hYmxpbmcgJHtTWVNURU1fTkFNRX0gc2VydmljZSBmb3IgZGVmYXVsdCBydW5sZXZlbCIKICAgICRTVURPIHJjLXVwZGF0ZSBhZGQgJHtTWVNURU1fTkFNRX0gZGVmYXVsdCA+L2Rldi9udWxsCn0KCm9wZW5yY19zdGFydCgpIHsKICAgIGluZm8gIm9wZW5yYzogU3RhcnRpbmcgJHtTWVNURU1fTkFNRX0iCiAgICAkU1VETyAke0ZJTEVfSzNTX1NFUlZJQ0V9IHJlc3RhcnQKfQoKaGFzX3dvcmtpbmdfeHRhYmxlcygpIHsKICAgIGlmIGNvbW1hbmQgLXYgIiQxLXNhdmUiIDE+IC9kZXYvbnVsbCAmJiBjb21tYW5kIC12ICIkMS1yZXN0b3JlIiAxPiAvZGV2L251bGw7IHRoZW4KICAgICAgICBpZiAkU1VETyAkMS1zYXZlIDI+L2Rldi9udWxsIHwgZ3JlcCAtcSAnXi1BIENOSS1IT1NUUE9SVC1NQVNRIC1qIE1BU1FVRVJBREUkJzsgdGhlbgogICAgICAgICAgICB3YXJuICJIb3N0ICQxLXNhdmUvJDEtcmVzdG9yZSB0b29scyBhcmUgaW5jb21wYXRpYmxlIHdpdGggZXhpc3RpbmcgcnVsZXMiCiAgICAgICAgZWxzZQogICAgICAgICAgICByZXR1cm4gMAogICAgICAgIGZpCiAgICBlbHNlCiAgICAgICAgaW5mbyAiSG9zdCAkMS1zYXZlLyQxLXJlc3RvcmUgdG9vbHMgbm90IGZvdW5kIgogICAgZmkKICAgIHJldHVybiAxCn0KCiMgLS0tIHN0YXJ0dXAgc3lzdGVtZCBvciBvcGVucmMgc2VydmljZSAtLS0Kc2VydmljZV9lbmFibGVfYW5kX3N0YXJ0KCkgewogICAgaWYgWyAtZiAiL3Byb2MvY2dyb3VwcyIgXSAmJiBbICIkKGdyZXAgbWVtb3J5IC9wcm9jL2Nncm91cHMgfCB3aGlsZSByZWFkIC1yIG4gbiBuIGVuYWJsZWQ7IGRvIGVjaG8gJGVuYWJsZWQ7IGRvbmUpIiAtZXEgMCBdOwogICAgdGhlbgogICAgICAgIGluZm8gJ0ZhaWxlZCB0byBmaW5kIG1lbW9yeSBjZ3JvdXAsIHlvdSBtYXkgbmVlZCB0byBhZGQgImNncm91cF9tZW1vcnk9MSBjZ3JvdXBfZW5hYmxlPW1lbW9yeSIgdG8geW91ciBsaW51eCBjbWRsaW5lICgvYm9vdC9jbWRsaW5lLnR4dCBvbiBhIFJhc3BiZXJyeSBQaSknCiAgICBmaQoKICAgIFsgIiR7SU5TVEFMTF9LM1NfU0tJUF9FTkFCTEV9IiA9IHRydWUgXSAmJiByZXR1cm4KCiAgICBbICIke0hBU19TWVNURU1EfSIgPSB0cnVlIF0gJiYgc3lzdGVtZF9lbmFibGUKICAgIFsgIiR7SEFTX09QRU5SQ30iID0gdHJ1ZSBdICYmIG9wZW5yY19lbmFibGUKCiAgICBbICIke0lOU1RBTExfSzNTX1NLSVBfU1RBUlR9IiA9IHRydWUgXSAmJiByZXR1cm4KCiAgICBQT1NUX0lOU1RBTExfSEFTSEVTPSQoZ2V0X2luc3RhbGxlZF9oYXNoZXMpCiAgICBpZiBbICIke1BSRV9JTlNUQUxMX0hBU0hFU30iID0gIiR7UE9TVF9JTlNUQUxMX0hBU0hFU30iIF0gJiYgWyAiJHtJTlNUQUxMX0szU19GT1JDRV9SRVNUQVJUfSIgIT0gdHJ1ZSBdOyB0aGVuCiAgICAgICAgaW5mbyAnTm8gY2hhbmdlIGRldGVjdGVkIHNvIHNraXBwaW5nIHNlcnZpY2Ugc3RhcnQnCiAgICAgICAgcmV0dXJuCiAgICBmaQoKICAgIGZvciBYVEFCTEVTIGluIGlwdGFibGVzIGlwNnRhYmxlczsgZG8KICAgICAgICBpZiBoYXNfd29ya2luZ194dGFibGVzICR7WFRBQkxFU307IHRoZW4KICAgICAgICAgICAgJFNVRE8gJHtYVEFCTEVTfS1zYXZlIDI+L2Rldi9udWxsIHwgZ3JlcCAtdiBLVUJFLSB8IGdyZXAgLWl2IGZsYW5uZWwgfCAkU1VETyAke1hUQUJMRVN9LXJlc3RvcmUKICAgICAgICBmaQogICAgZG9uZQoKICAgIFsgIiR7SEFTX1NZU1RFTUR9IiA9IHRydWUgXSAmJiBzeXN0ZW1kX3N0YXJ0CiAgICBbICIke0hBU19PUEVOUkN9IiA9IHRydWUgXSAmJiBvcGVucmNfc3RhcnQKICAgIHJldHVybiAwCn0KCiMgLS0tIHJlLWV2YWx1YXRlIGFyZ3MgdG8gaW5jbHVkZSBlbnYgY29tbWFuZCAtLS0KZXZhbCBzZXQgLS0gJChlc2NhcGUgIiR7SU5TVEFMTF9LM1NfRVhFQ30iKSAkKHF1b3RlICIkQCIpCgojIC0tLSBydW4gdGhlIGluc3RhbGwgcHJvY2VzcyAtLQp7CiAgICB2ZXJpZnlfc3lzdGVtCiAgICBzZXR1cF9lbnYgIiRAIgogICAgZG93bmxvYWRfYW5kX3ZlcmlmeQogICAgc2V0dXBfc2VsaW51eAogICAgY3JlYXRlX3N5bWxpbmtzCiAgICBjcmVhdGVfa2lsbGFsbAogICAgY3JlYXRlX3VuaW5zdGFsbAogICAgc3lzdGVtZF9kaXNhYmxlCiAgICBjcmVhdGVfZW52X2ZpbGUKICAgIGNyZWF0ZV9zZXJ2aWNlX2ZpbGUKICAgIHNlcnZpY2VfZW5hYmxlX2FuZF9zdGFydAp9Cgo=",
            "response_headers": {
              "Accept-Ranges": "bytes",
              "Access-Control-Allow-Origin": "*",
              "Cache-Control": "max-age=300",
              "Content-Security-Policy": "default-src 'none'; style-src 'unsafe-inline'; sandbox",
              "Content-Type": "text/plain; charset=utf-8",
              "Cross-Origin-Resource-Policy": "cross-origin",
              "Date": "Wed, 20 Dec 2023 07:27:07 GMT",
              "Etag": "W/\"f608d1db4a5106d5b42a1a2ee4043002ccbc89984b15ed094804fc0d3e810302\"",
              "Expires": "Wed, 20 Dec 2023 07:32:07 GMT",
              "Source-Age": "236",
              "Strict-Transport-Security": "max-age=31536000",
              "Vary": "Authorization,Accept-Encoding,Origin",
              "Via": "1.1 varnish",
              "X-Cache": "HIT",
              "X-Cache-Hits": "2",
              "X-Content-Type-Options": "nosniff",
              "X-Fastly-Request-Id": "9521505ba541c26729e2e1b96211ba11eeec302c",
              "X-Frame-Options": "deny",
              "X-Github-Request-Id": "C428:EDE37:12602:19503:6579095F",
              "X-Served-By": "cache-qpg1253-QPG",
              "X-Timer": "S1703057227.449745,VS0,VE0",
              "X-Xss-Protection": "1; mode=block"
            },
            "retry": null,
            "status_code": 200,
            "url": "https://raw.githubusercontent.com/rancher/k3s/v1.28.4+k3s2/install.sh"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.k3s",
      "mode": "data",
      "type": "http",
      "name": "k3s_version",
      "provider": "provider[\"registry.terraform.io/hashicorp/http\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "body": "{\"type\":\"collection\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels\"},\"actions\":{},\"resourceType\":\"channels\",\"data\":[{\"id\":\"stable\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/stable\"},\"name\":\"stable\",\"latest\":\"v1.28.4+k3s2\"},{\"id\":\"latest\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/latest\"},\"name\":\"latest\",\"latest\":\"v1.28.4+k3s2\",\"latestRegexp\":\".*\",\"excludeRegexp\":\"(^[^+]+-|v1\\\\.25\\\\.5\\\\+k3s1|v1\\\\.26\\\\.0\\\\+k3s1)\"},{\"id\":\"testing\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/testing\"},\"name\":\"testing\",\"latest\":\"v1.29.0-rc2+k3s1\",\"latestRegexp\":\"-(alpha|beta|rc)\"},{\"id\":\"v1.16\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.16\"},\"name\":\"v1.16\",\"latest\":\"v1.16.15+k3s1\",\"latestRegexp\":\"v1\\\\.16\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.16-testing\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.16-testing\"},\"name\":\"v1.16-testing\",\"latest\":\"v1.16.14-rc1+k3s1\",\"latestRegexp\":\"v1\\\\.16\\\\.[0-9]*-(alpha|beta|rc)\"},{\"id\":\"v1.17\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.17\"},\"name\":\"v1.17\",\"latest\":\"v1.17.17+k3s1\",\"latestRegexp\":\"v1\\\\.17\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.17-testing\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.17-testing\"},\"name\":\"v1.17-testing\",\"latest\":\"v1.17.17-rc1+k3s1\",\"latestRegexp\":\"v1\\\\.17\\\\.[0-9]*-(alpha|beta|rc)\"},{\"id\":\"v1.18\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.18\"},\"name\":\"v1.18\",\"latest\":\"v1.18.20+k3s1\",\"latestRegexp\":\"v1\\\\.18\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.18-testing\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.18-testing\"},\"name\":\"v1.18-testing\",\"latest\":\"v1.18.20-rc1+k3s1\",\"latestRegexp\":\"v1\\\\.18\\\\.[0-9]*-(alpha|beta|rc)\"},{\"id\":\"v1.19\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.19\"},\"name\":\"v1.19\",\"latest\":\"v1.19.16+k3s1\",\"latestRegexp\":\"v1\\\\.19\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.20\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.20\"},\"name\":\"v1.20\",\"latest\":\"v1.20.15+k3s1\",\"latestRegexp\":\"v1\\\\.20\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.21\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.21\"},\"name\":\"v1.21\",\"latest\":\"v1.21.14+k3s1\",\"latestRegexp\":\"v1\\\\.21\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.22\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.22\"},\"name\":\"v1.22\",\"latest\":\"v1.22.17+k3s1\",\"latestRegexp\":\"v1\\\\.22\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.23\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.23\"},\"name\":\"v1.23\",\"latest\":\"v1.23.17+k3s1\",\"latestRegexp\":\"v1\\\\.23\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.24\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.24\"},\"name\":\"v1.24\",\"latest\":\"v1.24.17+k3s1\",\"latestRegexp\":\"v1\\\\.24\\\\..*\",\"excludeRegexp\":\"(^[^+]+-|v1\\\\.24\\\\.9\\\\+k3s1)\"},{\"id\":\"v1.25\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.25\"},\"name\":\"v1.25\",\"latest\":\"v1.25.16+k3s4\",\"latestRegexp\":\"v1\\\\.25\\\\..*\",\"excludeRegexp\":\"(^[^+]+-|v1\\\\.25\\\\.5\\\\+k3s1)\"},{\"id\":\"v1.26\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.26\"},\"name\":\"v1.26\",\"latest\":\"v1.26.11+k3s2\",\"latestRegexp\":\"v1\\\\.26\\\\..*\",\"excludeRegexp\":\"(^[^+]+-|v1\\\\.26\\\\.0\\\\+k3s1)\"},{\"id\":\"v1.27\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.27\"},\"name\":\"v1.27\",\"latest\":\"v1.27.8+k3s2\",\"latestRegexp\":\"v1\\\\.27\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.28\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.28\"},\"name\":\"v1.28\",\"latest\":\"v1.28.4+k3s2\",\"latestRegexp\":\"v1\\\\.28\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"}]}\n",
            "ca_cert_pem": null,
            "id": "https://update.k3s.io/v1-release/channels",
            "insecure": null,
            "method": null,
            "request_body": null,
            "request_headers": null,
            "request_timeout_ms": null,
            "response_body": "{\"type\":\"collection\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels\"},\"actions\":{},\"resourceType\":\"channels\",\"data\":[{\"id\":\"stable\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/stable\"},\"name\":\"stable\",\"latest\":\"v1.28.4+k3s2\"},{\"id\":\"latest\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/latest\"},\"name\":\"latest\",\"latest\":\"v1.28.4+k3s2\",\"latestRegexp\":\".*\",\"excludeRegexp\":\"(^[^+]+-|v1\\\\.25\\\\.5\\\\+k3s1|v1\\\\.26\\\\.0\\\\+k3s1)\"},{\"id\":\"testing\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/testing\"},\"name\":\"testing\",\"latest\":\"v1.29.0-rc2+k3s1\",\"latestRegexp\":\"-(alpha|beta|rc)\"},{\"id\":\"v1.16\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.16\"},\"name\":\"v1.16\",\"latest\":\"v1.16.15+k3s1\",\"latestRegexp\":\"v1\\\\.16\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.16-testing\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.16-testing\"},\"name\":\"v1.16-testing\",\"latest\":\"v1.16.14-rc1+k3s1\",\"latestRegexp\":\"v1\\\\.16\\\\.[0-9]*-(alpha|beta|rc)\"},{\"id\":\"v1.17\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.17\"},\"name\":\"v1.17\",\"latest\":\"v1.17.17+k3s1\",\"latestRegexp\":\"v1\\\\.17\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.17-testing\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.17-testing\"},\"name\":\"v1.17-testing\",\"latest\":\"v1.17.17-rc1+k3s1\",\"latestRegexp\":\"v1\\\\.17\\\\.[0-9]*-(alpha|beta|rc)\"},{\"id\":\"v1.18\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.18\"},\"name\":\"v1.18\",\"latest\":\"v1.18.20+k3s1\",\"latestRegexp\":\"v1\\\\.18\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.18-testing\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.18-testing\"},\"name\":\"v1.18-testing\",\"latest\":\"v1.18.20-rc1+k3s1\",\"latestRegexp\":\"v1\\\\.18\\\\.[0-9]*-(alpha|beta|rc)\"},{\"id\":\"v1.19\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.19\"},\"name\":\"v1.19\",\"latest\":\"v1.19.16+k3s1\",\"latestRegexp\":\"v1\\\\.19\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.20\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.20\"},\"name\":\"v1.20\",\"latest\":\"v1.20.15+k3s1\",\"latestRegexp\":\"v1\\\\.20\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.21\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.21\"},\"name\":\"v1.21\",\"latest\":\"v1.21.14+k3s1\",\"latestRegexp\":\"v1\\\\.21\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.22\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.22\"},\"name\":\"v1.22\",\"latest\":\"v1.22.17+k3s1\",\"latestRegexp\":\"v1\\\\.22\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.23\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.23\"},\"name\":\"v1.23\",\"latest\":\"v1.23.17+k3s1\",\"latestRegexp\":\"v1\\\\.23\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.24\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.24\"},\"name\":\"v1.24\",\"latest\":\"v1.24.17+k3s1\",\"latestRegexp\":\"v1\\\\.24\\\\..*\",\"excludeRegexp\":\"(^[^+]+-|v1\\\\.24\\\\.9\\\\+k3s1)\"},{\"id\":\"v1.25\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.25\"},\"name\":\"v1.25\",\"latest\":\"v1.25.16+k3s4\",\"latestRegexp\":\"v1\\\\.25\\\\..*\",\"excludeRegexp\":\"(^[^+]+-|v1\\\\.25\\\\.5\\\\+k3s1)\"},{\"id\":\"v1.26\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.26\"},\"name\":\"v1.26\",\"latest\":\"v1.26.11+k3s2\",\"latestRegexp\":\"v1\\\\.26\\\\..*\",\"excludeRegexp\":\"(^[^+]+-|v1\\\\.26\\\\.0\\\\+k3s1)\"},{\"id\":\"v1.27\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.27\"},\"name\":\"v1.27\",\"latest\":\"v1.27.8+k3s2\",\"latestRegexp\":\"v1\\\\.27\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"},{\"id\":\"v1.28\",\"type\":\"channel\",\"links\":{\"self\":\"https://update.k3s.io/v1-release/channels/v1.28\"},\"name\":\"v1.28\",\"latest\":\"v1.28.4+k3s2\",\"latestRegexp\":\"v1\\\\.28\\\\..*\",\"excludeRegexp\":\"^[^+]+-\"}]}\n",
            "response_body_base64": "eyJ0eXBlIjoiY29sbGVjdGlvbiIsImxpbmtzIjp7InNlbGYiOiJodHRwczovL3VwZGF0ZS5rM3MuaW8vdjEtcmVsZWFzZS9jaGFubmVscyJ9LCJhY3Rpb25zIjp7fSwicmVzb3VyY2VUeXBlIjoiY2hhbm5lbHMiLCJkYXRhIjpbeyJpZCI6InN0YWJsZSIsInR5cGUiOiJjaGFubmVsIiwibGlua3MiOnsic2VsZiI6Imh0dHBzOi8vdXBkYXRlLmszcy5pby92MS1yZWxlYXNlL2NoYW5uZWxzL3N0YWJsZSJ9LCJuYW1lIjoic3RhYmxlIiwibGF0ZXN0IjoidjEuMjguNCtrM3MyIn0seyJpZCI6ImxhdGVzdCIsInR5cGUiOiJjaGFubmVsIiwibGlua3MiOnsic2VsZiI6Imh0dHBzOi8vdXBkYXRlLmszcy5pby92MS1yZWxlYXNlL2NoYW5uZWxzL2xhdGVzdCJ9LCJuYW1lIjoibGF0ZXN0IiwibGF0ZXN0IjoidjEuMjguNCtrM3MyIiwibGF0ZXN0UmVnZXhwIjoiLioiLCJleGNsdWRlUmVnZXhwIjoiKF5bXitdKy18djFcXC4yNVxcLjVcXCtrM3MxfHYxXFwuMjZcXC4wXFwrazNzMSkifSx7ImlkIjoidGVzdGluZyIsInR5cGUiOiJjaGFubmVsIiwibGlua3MiOnsic2VsZiI6Imh0dHBzOi8vdXBkYXRlLmszcy5pby92MS1yZWxlYXNlL2NoYW5uZWxzL3Rlc3RpbmcifSwibmFtZSI6InRlc3RpbmciLCJsYXRlc3QiOiJ2MS4yOS4wLXJjMitrM3MxIiwibGF0ZXN0UmVnZXhwIjoiLShhbHBoYXxiZXRhfHJjKSJ9LHsiaWQiOiJ2MS4xNiIsInR5cGUiOiJjaGFubmVsIiwibGlua3MiOnsic2VsZiI6Imh0dHBzOi8vdXBkYXRlLmszcy5pby92MS1yZWxlYXNlL2NoYW5uZWxzL3YxLjE2In0sIm5hbWUiOiJ2MS4xNiIsImxhdGVzdCI6InYxLjE2LjE1K2szczEiLCJsYXRlc3RSZWdleHAiOiJ2MVxcLjE2XFwuLioiLCJleGNsdWRlUmVnZXhwIjoiXlteK10rLSJ9LHsiaWQiOiJ2MS4xNi10ZXN0aW5nIiwidHlwZSI6ImNoYW5uZWwiLCJsaW5rcyI6eyJzZWxmIjoiaHR0cHM6Ly91cGRhdGUuazNzLmlvL3YxLXJlbGVhc2UvY2hhbm5lbHMvdjEuMTYtdGVzdGluZyJ9LCJuYW1lIjoidjEuMTYtdGVzdGluZyIsImxhdGVzdCI6InYxLjE2LjE0LXJjMStrM3MxIiwibGF0ZXN0UmVnZXhwIjoidjFcXC4xNlxcLlswLTldKi0oYWxwaGF8YmV0YXxyYykifSx7ImlkIjoidjEuMTciLCJ0eXBlIjoiY2hhbm5lbCIsImxpbmtzIjp7InNlbGYiOiJodHRwczovL3VwZGF0ZS5rM3MuaW8vdjEtcmVsZWFzZS9jaGFubmVscy92MS4xNyJ9LCJuYW1lIjoidjEuMTciLCJsYXRlc3QiOiJ2MS4xNy4xNytrM3MxIiwibGF0ZXN0UmVnZXhwIjoidjFcXC4xN1xcLi4qIiwiZXhjbHVkZVJlZ2V4cCI6Il5bXitdKy0ifSx7ImlkIjoidjEuMTctdGVzdGluZyIsInR5cGUiOiJjaGFubmVsIiwibGlua3MiOnsic2VsZiI6Imh0dHBzOi8vdXBkYXRlLmszcy5pby92MS1yZWxlYXNlL2NoYW5uZWxzL3YxLjE3LXRlc3RpbmcifSwibmFtZSI6InYxLjE3LXRlc3RpbmciLCJsYXRlc3QiOiJ2MS4xNy4xNy1yYzErazNzMSIsImxhdGVzdFJlZ2V4cCI6InYxXFwuMTdcXC5bMC05XSotKGFscGhhfGJldGF8cmMpIn0seyJpZCI6InYxLjE4IiwidHlwZSI6ImNoYW5uZWwiLCJsaW5rcyI6eyJzZWxmIjoiaHR0cHM6Ly91cGRhdGUuazNzLmlvL3YxLXJlbGVhc2UvY2hhbm5lbHMvdjEuMTgifSwibmFtZSI6InYxLjE4IiwibGF0ZXN0IjoidjEuMTguMjArazNzMSIsImxhdGVzdFJlZ2V4cCI6InYxXFwuMThcXC4uKiIsImV4Y2x1ZGVSZWdleHAiOiJeW14rXSstIn0seyJpZCI6InYxLjE4LXRlc3RpbmciLCJ0eXBlIjoiY2hhbm5lbCIsImxpbmtzIjp7InNlbGYiOiJodHRwczovL3VwZGF0ZS5rM3MuaW8vdjEtcmVsZWFzZS9jaGFubmVscy92MS4xOC10ZXN0aW5nIn0sIm5hbWUiOiJ2MS4xOC10ZXN0aW5nIiwibGF0ZXN0IjoidjEuMTguMjAtcmMxK2szczEiLCJsYXRlc3RSZWdleHAiOiJ2MVxcLjE4XFwuWzAtOV0qLShhbHBoYXxiZXRhfHJjKSJ9LHsiaWQiOiJ2MS4xOSIsInR5cGUiOiJjaGFubmVsIiwibGlua3MiOnsic2VsZiI6Imh0dHBzOi8vdXBkYXRlLmszcy5pby92MS1yZWxlYXNlL2NoYW5uZWxzL3YxLjE5In0sIm5hbWUiOiJ2MS4xOSIsImxhdGVzdCI6InYxLjE5LjE2K2szczEiLCJsYXRlc3RSZWdleHAiOiJ2MVxcLjE5XFwuLioiLCJleGNsdWRlUmVnZXhwIjoiXlteK10rLSJ9LHsiaWQiOiJ2MS4yMCIsInR5cGUiOiJjaGFubmVsIiwibGlua3MiOnsic2VsZiI6Imh0dHBzOi8vdXBkYXRlLmszcy5pby92MS1yZWxlYXNlL2NoYW5uZWxzL3YxLjIwIn0sIm5hbWUiOiJ2MS4yMCIsImxhdGVzdCI6InYxLjIwLjE1K2szczEiLCJsYXRlc3RSZWdleHAiOiJ2MVxcLjIwXFwuLioiLCJleGNsdWRlUmVnZXhwIjoiXlteK10rLSJ9LHsiaWQiOiJ2MS4yMSIsInR5cGUiOiJjaGFubmVsIiwibGlua3MiOnsic2VsZiI6Imh0dHBzOi8vdXBkYXRlLmszcy5pby92MS1yZWxlYXNlL2NoYW5uZWxzL3YxLjIxIn0sIm5hbWUiOiJ2MS4yMSIsImxhdGVzdCI6InYxLjIxLjE0K2szczEiLCJsYXRlc3RSZWdleHAiOiJ2MVxcLjIxXFwuLioiLCJleGNsdWRlUmVnZXhwIjoiXlteK10rLSJ9LHsiaWQiOiJ2MS4yMiIsInR5cGUiOiJjaGFubmVsIiwibGlua3MiOnsic2VsZiI6Imh0dHBzOi8vdXBkYXRlLmszcy5pby92MS1yZWxlYXNlL2NoYW5uZWxzL3YxLjIyIn0sIm5hbWUiOiJ2MS4yMiIsImxhdGVzdCI6InYxLjIyLjE3K2szczEiLCJsYXRlc3RSZWdleHAiOiJ2MVxcLjIyXFwuLioiLCJleGNsdWRlUmVnZXhwIjoiXlteK10rLSJ9LHsiaWQiOiJ2MS4yMyIsInR5cGUiOiJjaGFubmVsIiwibGlua3MiOnsic2VsZiI6Imh0dHBzOi8vdXBkYXRlLmszcy5pby92MS1yZWxlYXNlL2NoYW5uZWxzL3YxLjIzIn0sIm5hbWUiOiJ2MS4yMyIsImxhdGVzdCI6InYxLjIzLjE3K2szczEiLCJsYXRlc3RSZWdleHAiOiJ2MVxcLjIzXFwuLioiLCJleGNsdWRlUmVnZXhwIjoiXlteK10rLSJ9LHsiaWQiOiJ2MS4yNCIsInR5cGUiOiJjaGFubmVsIiwibGlua3MiOnsic2VsZiI6Imh0dHBzOi8vdXBkYXRlLmszcy5pby92MS1yZWxlYXNlL2NoYW5uZWxzL3YxLjI0In0sIm5hbWUiOiJ2MS4yNCIsImxhdGVzdCI6InYxLjI0LjE3K2szczEiLCJsYXRlc3RSZWdleHAiOiJ2MVxcLjI0XFwuLioiLCJleGNsdWRlUmVnZXhwIjoiKF5bXitdKy18djFcXC4yNFxcLjlcXCtrM3MxKSJ9LHsiaWQiOiJ2MS4yNSIsInR5cGUiOiJjaGFubmVsIiwibGlua3MiOnsic2VsZiI6Imh0dHBzOi8vdXBkYXRlLmszcy5pby92MS1yZWxlYXNlL2NoYW5uZWxzL3YxLjI1In0sIm5hbWUiOiJ2MS4yNSIsImxhdGVzdCI6InYxLjI1LjE2K2szczQiLCJsYXRlc3RSZWdleHAiOiJ2MVxcLjI1XFwuLioiLCJleGNsdWRlUmVnZXhwIjoiKF5bXitdKy18djFcXC4yNVxcLjVcXCtrM3MxKSJ9LHsiaWQiOiJ2MS4yNiIsInR5cGUiOiJjaGFubmVsIiwibGlua3MiOnsic2VsZiI6Imh0dHBzOi8vdXBkYXRlLmszcy5pby92MS1yZWxlYXNlL2NoYW5uZWxzL3YxLjI2In0sIm5hbWUiOiJ2MS4yNiIsImxhdGVzdCI6InYxLjI2LjExK2szczIiLCJsYXRlc3RSZWdleHAiOiJ2MVxcLjI2XFwuLioiLCJleGNsdWRlUmVnZXhwIjoiKF5bXitdKy18djFcXC4yNlxcLjBcXCtrM3MxKSJ9LHsiaWQiOiJ2MS4yNyIsInR5cGUiOiJjaGFubmVsIiwibGlua3MiOnsic2VsZiI6Imh0dHBzOi8vdXBkYXRlLmszcy5pby92MS1yZWxlYXNlL2NoYW5uZWxzL3YxLjI3In0sIm5hbWUiOiJ2MS4yNyIsImxhdGVzdCI6InYxLjI3LjgrazNzMiIsImxhdGVzdFJlZ2V4cCI6InYxXFwuMjdcXC4uKiIsImV4Y2x1ZGVSZWdleHAiOiJeW14rXSstIn0seyJpZCI6InYxLjI4IiwidHlwZSI6ImNoYW5uZWwiLCJsaW5rcyI6eyJzZWxmIjoiaHR0cHM6Ly91cGRhdGUuazNzLmlvL3YxLXJlbGVhc2UvY2hhbm5lbHMvdjEuMjgifSwibmFtZSI6InYxLjI4IiwibGF0ZXN0IjoidjEuMjguNCtrM3MyIiwibGF0ZXN0UmVnZXhwIjoidjFcXC4yOFxcLi4qIiwiZXhjbHVkZVJlZ2V4cCI6Il5bXitdKy0ifV19Cg==",
            "response_headers": {
              "Cf-Cache-Status": "DYNAMIC",
              "Cf-Ray": "838629334e5a8b4d-HKG",
              "Content-Type": "application/json",
              "Date": "Wed, 20 Dec 2023 07:27:06 GMT",
              "Expires": "Wed 24 Feb 1982 18:42:00 GMT",
              "Nel": "{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}",
              "Report-To": "{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v3?s=OKrOW9Q9xHmYb7a%2BV9q0ttlf1Av9L3U9F6QYk7bP1yaDPDG9WcVFmJHAob5MUQm%2BLEUx3zHRcnm0ooQpTIazz5MUemyDuUI7RvGZzRc4vvaKluZnq3KnQyezIt5shLM%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}",
              "Server": "cloudflare",
              "Strict-Transport-Security": "max-age=15552000; includeSubDomains; preload",
              "Vary": "Accept-Encoding",
              "X-Api-Schemas": "https://update.k3s.io/v1-release/schemas",
              "X-Content-Type-Options": "nosniff"
            },
            "retry": null,
            "status_code": 200,
            "url": "https://update.k3s.io/v1-release/channels"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "null_resource",
      "name": "agents_annotation",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": []
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "null_resource",
      "name": "agents_drain",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": []
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "null_resource",
      "name": "agents_install",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": []
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "null_resource",
      "name": "agents_label",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": []
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "null_resource",
      "name": "agents_taint",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": []
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "null_resource",
      "name": "k8s_ca_certificates_install",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "4480996929628629459",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "data.tencentcloud_availability_zones_by_product.default",
            "data.tencentcloud_images.default",
            "data.tencentcloud_instance_types.default",
            "module.k3s.tls_private_key.kubernetes_ca",
            "module.k3s.tls_self_signed_cert.kubernetes_ca_certs",
            "tencentcloud_instance.web",
            "tencentcloud_security_group.default",
            "tencentcloud_security_group_lite_rule.default"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "id": "5612424222125075264",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "data.tencentcloud_availability_zones_by_product.default",
            "data.tencentcloud_images.default",
            "data.tencentcloud_instance_types.default",
            "module.k3s.tls_private_key.kubernetes_ca",
            "module.k3s.tls_self_signed_cert.kubernetes_ca_certs",
            "tencentcloud_instance.web",
            "tencentcloud_security_group.default",
            "tencentcloud_security_group_lite_rule.default"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "id": "9085649400891850356",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "data.tencentcloud_availability_zones_by_product.default",
            "data.tencentcloud_images.default",
            "data.tencentcloud_instance_types.default",
            "module.k3s.tls_private_key.kubernetes_ca",
            "module.k3s.tls_self_signed_cert.kubernetes_ca_certs",
            "tencentcloud_instance.web",
            "tencentcloud_security_group.default",
            "tencentcloud_security_group_lite_rule.default"
          ]
        },
        {
          "index_key": 3,
          "schema_version": 0,
          "attributes": {
            "id": "8739758444396905283",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "data.tencentcloud_availability_zones_by_product.default",
            "data.tencentcloud_images.default",
            "data.tencentcloud_instance_types.default",
            "module.k3s.tls_private_key.kubernetes_ca",
            "module.k3s.tls_self_signed_cert.kubernetes_ca_certs",
            "tencentcloud_instance.web",
            "tencentcloud_security_group.default",
            "tencentcloud_security_group_lite_rule.default"
          ]
        },
        {
          "index_key": 4,
          "schema_version": 0,
          "attributes": {
            "id": "4979921978885007914",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "data.tencentcloud_availability_zones_by_product.default",
            "data.tencentcloud_images.default",
            "data.tencentcloud_instance_types.default",
            "module.k3s.tls_private_key.kubernetes_ca",
            "module.k3s.tls_self_signed_cert.kubernetes_ca_certs",
            "tencentcloud_instance.web",
            "tencentcloud_security_group.default",
            "tencentcloud_security_group_lite_rule.default"
          ]
        },
        {
          "index_key": 5,
          "schema_version": 0,
          "attributes": {
            "id": "3616903217009465508",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "data.tencentcloud_availability_zones_by_product.default",
            "data.tencentcloud_images.default",
            "data.tencentcloud_instance_types.default",
            "module.k3s.tls_private_key.kubernetes_ca",
            "module.k3s.tls_self_signed_cert.kubernetes_ca_certs",
            "tencentcloud_instance.web",
            "tencentcloud_security_group.default",
            "tencentcloud_security_group_lite_rule.default"
          ]
        }
      ]
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "null_resource",
      "name": "kubernetes_ready",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "5242616295228150268",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "data.tencentcloud_availability_zones_by_product.default",
            "data.tencentcloud_images.default",
            "data.tencentcloud_instance_types.default",
            "module.k3s.data.http.k3s_installer",
            "module.k3s.data.http.k3s_version",
            "module.k3s.null_resource.agents_annotation",
            "module.k3s.null_resource.agents_drain",
            "module.k3s.null_resource.agents_install",
            "module.k3s.null_resource.agents_label",
            "module.k3s.null_resource.agents_taint",
            "module.k3s.null_resource.k8s_ca_certificates_install",
            "module.k3s.null_resource.servers_annotation",
            "module.k3s.null_resource.servers_drain",
            "module.k3s.null_resource.servers_install",
            "module.k3s.null_resource.servers_label",
            "module.k3s.null_resource.servers_taint",
            "module.k3s.random_password.k3s_cluster_secret",
            "module.k3s.tls_private_key.kubernetes_ca",
            "module.k3s.tls_self_signed_cert.kubernetes_ca_certs",
            "tencentcloud_instance.web",
            "tencentcloud_security_group.default",
            "tencentcloud_security_group_lite_rule.default"
          ]
        }
      ]
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "null_resource",
      "name": "servers_annotation",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": []
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "null_resource",
      "name": "servers_drain",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": "k3s",
          "schema_version": 0,
          "attributes": {
            "id": "2213640263834321139",
            "triggers": {
              "connection_json": "eyJhZ2VudCI6bnVsbCwiYWdlbnRfaWRlbnRpdHkiOm51bGwsImJhc3Rpb25fY2VydGlmaWNhdGUiOm51bGwsImJhc3Rpb25faG9zdCI6bnVsbCwiYmFzdGlvbl9ob3N0X2tleSI6bnVsbCwiYmFzdGlvbl9wYXNzd29yZCI6bnVsbCwiYmFzdGlvbl9wb3J0IjpudWxsLCJiYXN0aW9uX3ByaXZhdGVfa2V5IjpudWxsLCJiYXN0aW9uX3VzZXIiOm51bGwsImNhY2VydCI6bnVsbCwiY2VydGlmaWNhdGUiOm51bGwsImhvc3QiOiI0My4xMjkuMjE1LjE0OCIsImhvc3Rfa2V5IjpudWxsLCJodHRwcyI6bnVsbCwiaW5zZWN1cmUiOm51bGwsInBhc3N3b3JkIjoicGFzc3dvcmQxMjMiLCJwb3J0IjpudWxsLCJwcml2YXRlX2tleSI6bnVsbCwic2NyaXB0X3BhdGgiOm51bGwsInRpbWVvdXQiOiI2MHMiLCJ0eXBlIjoic3NoIiwidXNlX250bG0iOm51bGwsInVzZXIiOiJ1YnVudHUifQ==",
              "drain_timeout": "0s",
              "kubectl_cmd": "kubectl",
              "server_name": "k3s"
            }
          },
          "sensitive_attributes": [],
          "dependencies": [
            "data.tencentcloud_availability_zones_by_product.default",
            "data.tencentcloud_images.default",
            "data.tencentcloud_instance_types.default",
            "module.k3s.data.http.k3s_installer",
            "module.k3s.data.http.k3s_version",
            "module.k3s.null_resource.k8s_ca_certificates_install",
            "module.k3s.null_resource.servers_install",
            "module.k3s.random_password.k3s_cluster_secret",
            "module.k3s.tls_private_key.kubernetes_ca",
            "module.k3s.tls_self_signed_cert.kubernetes_ca_certs",
            "tencentcloud_instance.web",
            "tencentcloud_security_group.default",
            "tencentcloud_security_group_lite_rule.default"
          ]
        }
      ]
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "null_resource",
      "name": "servers_install",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": "k3s",
          "schema_version": 0,
          "attributes": {
            "id": "1694233044459187329",
            "triggers": {
              "on_immutable_changes": "79966b69625e24d9aae493316ee6fef7ac4db281",
              "on_new_version": "v1.25.11+k3s1"
            }
          },
          "sensitive_attributes": [],
          "dependencies": [
            "data.tencentcloud_availability_zones_by_product.default",
            "data.tencentcloud_images.default",
            "data.tencentcloud_instance_types.default",
            "module.k3s.data.http.k3s_installer",
            "module.k3s.data.http.k3s_version",
            "module.k3s.null_resource.k8s_ca_certificates_install",
            "module.k3s.random_password.k3s_cluster_secret",
            "module.k3s.tls_private_key.kubernetes_ca",
            "module.k3s.tls_self_signed_cert.kubernetes_ca_certs",
            "tencentcloud_instance.web",
            "tencentcloud_security_group.default",
            "tencentcloud_security_group_lite_rule.default"
          ]
        }
      ]
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "null_resource",
      "name": "servers_label",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": []
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "null_resource",
      "name": "servers_taint",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": []
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "random_password",
      "name": "k3s_cluster_secret",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 3,
          "attributes": {
            "bcrypt_hash": "$2a$10$bILduLHIttLiIsisC4P5WuLJee8CaDZITHN/Gi/qX1izDymldxgVK",
            "id": "none",
            "keepers": null,
            "length": 48,
            "lower": true,
            "min_lower": 0,
            "min_numeric": 0,
            "min_special": 0,
            "min_upper": 0,
            "number": true,
            "numeric": true,
            "override_special": null,
            "result": "DYjLXQuy4h6D2VfDOPo8xaZojAVzzGKyexi6lGVAf8xMX2A5",
            "special": false,
            "upper": true
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "tls_cert_request",
      "name": "master_user",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "cert_request_pem": "-----BEGIN CERTIFICATE REQUEST-----\nMIIBJzCBrgIBADAvMRcwFQYDVQQKEw5zeXN0ZW06bWFzdGVyczEUMBIGA1UEAxML\nbWFzdGVyLXVzZXIwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAATvc2CI8pAz/g/MbhV5\nTtZW7Wf5dwwXk2+eh5mD+2tbDpmFKMtAvyqzrxKdSRPNJFBZum/kwgj/8en0TWHD\nFihHVKdOc8UM0RBXd83SUxf2f8pkgMOUG36lwH7CDAXfeU+gADAKBggqhkjOPQQD\nAwNoADBlAjBAnmuzBASGqvL9L27Q2s9jYhkEnqnrdDaz2lCv2+rlSMd7lT3vGKG3\nbaasEHmfmYMCMQDKWRd1/p9mPU8YVwOP6B7mwlARYz9p4uhqJF2daGBlDp8PI5V9\not0SeAECixADtss=\n-----END CERTIFICATE REQUEST-----\n",
            "dns_names": null,
            "id": "91ca5cba7ae17aed5b9e5f466273091232275cd2",
            "ip_addresses": null,
            "key_algorithm": "ECDSA",
            "private_key_pem": "-----BEGIN EC PRIVATE KEY-----\nMIGkAgEBBDBe48TySVhWh4wcolv6EIGAHdK8iTAFdXR7vAvbNNI1z0Zgt2wsO0xo\nTemeF6LYym6gBwYFK4EEACKhZANiAATvc2CI8pAz/g/MbhV5TtZW7Wf5dwwXk2+e\nh5mD+2tbDpmFKMtAvyqzrxKdSRPNJFBZum/kwgj/8en0TWHDFihHVKdOc8UM0RBX\nd83SUxf2f8pkgMOUG36lwH7CDAXfeU8=\n-----END EC PRIVATE KEY-----\n",
            "subject": [
              {
                "common_name": "master-user",
                "country": null,
                "locality": null,
                "organization": "system:masters",
                "organizational_unit": null,
                "postal_code": null,
                "province": null,
                "serial_number": null,
                "street_address": null
              }
            ],
            "uris": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "private_key_pem"
              }
            ]
          ],
          "dependencies": [
            "module.k3s.tls_private_key.master_user"
          ]
        }
      ]
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "tls_locally_signed_cert",
      "name": "master_user",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "allowed_uses": [
              "key_encipherment",
              "digital_signature",
              "client_auth"
            ],
            "ca_cert_pem": "-----BEGIN CERTIFICATE-----\nMIIBvjCCAUOgAwIBAgIQGyualSkvHyKl2jxlTgFL2TAKBggqhkjOPQQDAzAfMR0w\nGwYDVQQDExRrdWJlcm5ldGVzLWNsaWVudC1jYTAgFw0yMzEyMjAwMTU1NThaGA8y\nMTIzMTIyMTAxNTU1OFowHzEdMBsGA1UEAxMUa3ViZXJuZXRlcy1jbGllbnQtY2Ew\ndjAQBgcqhkjOPQIBBgUrgQQAIgNiAATgzqbp5VQP6aJp6EPb+ruVAFaI8wPwDaOS\n6xO84Jaun9PFQ0F1s/3wg2nc72leYcXcmpd2wqXutFOcQVuolY/MwF5vTU9Mvj+w\njqeSSkDO/MoHTzlAHrwza3rRVo1LoHGjQjBAMA4GA1UdDwEB/wQEAwICpDAPBgNV\nHRMBAf8EBTADAQH/MB0GA1UdDgQWBBTz3Yn+EbUQp9bQcOLNwEyUDizdaDAKBggq\nhkjOPQQDAwNpADBmAjEAwK36YAuhqvbHvYpu++ZFeoMZ3+R1IfK3OkqURHmmSTtV\nfvR0PMcifTaP5ekCZ/6uAjEA5mXLpZZOr4LWFpDj76PLloDhloilzIBkd2Uzcp/3\nINOyH8QeMa11GzG9Ea8sEwzk\n-----END CERTIFICATE-----\n",
            "ca_key_algorithm": "ECDSA",
            "ca_private_key_pem": "-----BEGIN EC PRIVATE KEY-----\nMIGkAgEBBDAA9c9F1EqXnKSg/7tiGfxmHyfP4YZU670mrgeEfGtK/VSnBKL8sfpk\nMSI3pXtu9E6gBwYFK4EEACKhZANiAATgzqbp5VQP6aJp6EPb+ruVAFaI8wPwDaOS\n6xO84Jaun9PFQ0F1s/3wg2nc72leYcXcmpd2wqXutFOcQVuolY/MwF5vTU9Mvj+w\njqeSSkDO/MoHTzlAHrwza3rRVo1LoHE=\n-----END EC PRIVATE KEY-----\n",
            "cert_pem": "-----BEGIN CERTIFICATE-----\nMIIB4zCCAWigAwIBAgIRAKijHJSkYH5DyFdUd/R7I38wCgYIKoZIzj0EAwMwHzEd\nMBsGA1UEAxMUa3ViZXJuZXRlcy1jbGllbnQtY2EwIBcNMjMxMjIwMDE1NTU4WhgP\nMjEyMzEyMjEwMTU1NThaMC8xFzAVBgNVBAoTDnN5c3RlbTptYXN0ZXJzMRQwEgYD\nVQQDEwttYXN0ZXItdXNlcjB2MBAGByqGSM49AgEGBSuBBAAiA2IABO9zYIjykDP+\nD8xuFXlO1lbtZ/l3DBeTb56HmYP7a1sOmYUoy0C/KrOvEp1JE80kUFm6b+TCCP/x\n6fRNYcMWKEdUp05zxQzREFd3zdJTF/Z/ymSAw5QbfqXAfsIMBd95T6NWMFQwDgYD\nVR0PAQH/BAQDAgWgMBMGA1UdJQQMMAoGCCsGAQUFBwMCMAwGA1UdEwEB/wQCMAAw\nHwYDVR0jBBgwFoAU892J/hG1EKfW0HDizcBMlA4s3WgwCgYIKoZIzj0EAwMDaQAw\nZgIxALUIuNY7ab6LjgCisu8WXBOJSaZXZG9CTx5JHzw0bYcxiYtZFnRghvXvNioI\nTOlAcAIxAIXffGtAPSV53XiPvm3io7Q40SaOziXEXeILHtzGI2Pal0wM+IV8sQlP\nlD75oYGmLA==\n-----END CERTIFICATE-----\n",
            "cert_request_pem": "-----BEGIN CERTIFICATE REQUEST-----\nMIIBJzCBrgIBADAvMRcwFQYDVQQKEw5zeXN0ZW06bWFzdGVyczEUMBIGA1UEAxML\nbWFzdGVyLXVzZXIwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAATvc2CI8pAz/g/MbhV5\nTtZW7Wf5dwwXk2+eh5mD+2tbDpmFKMtAvyqzrxKdSRPNJFBZum/kwgj/8en0TWHD\nFihHVKdOc8UM0RBXd83SUxf2f8pkgMOUG36lwH7CDAXfeU+gADAKBggqhkjOPQQD\nAwNoADBlAjBAnmuzBASGqvL9L27Q2s9jYhkEnqnrdDaz2lCv2+rlSMd7lT3vGKG3\nbaasEHmfmYMCMQDKWRd1/p9mPU8YVwOP6B7mwlARYz9p4uhqJF2daGBlDp8PI5V9\not0SeAECixADtss=\n-----END CERTIFICATE REQUEST-----\n",
            "early_renewal_hours": 0,
            "id": "224157227363916192667112281586513159039",
            "is_ca_certificate": false,
            "ready_for_renewal": false,
            "set_subject_key_id": false,
            "validity_end_time": "2123-12-21T09:55:58.615213+08:00",
            "validity_period_hours": 876600,
            "validity_start_time": "2023-12-20T09:55:58.615213+08:00"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "ca_private_key_pem"
              }
            ]
          ],
          "dependencies": [
            "module.k3s.tls_cert_request.master_user",
            "module.k3s.tls_private_key.kubernetes_ca",
            "module.k3s.tls_private_key.master_user",
            "module.k3s.tls_self_signed_cert.kubernetes_ca_certs"
          ]
        }
      ]
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "tls_private_key",
      "name": "kubernetes_ca",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "algorithm": "ECDSA",
            "ecdsa_curve": "P384",
            "id": "ac0a60fc80678c38f55079f93f6bbe125d56f8a5",
            "private_key_openssh": "-----BEGIN OPENSSH PRIVATE KEY-----\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAiAAAABNl\nY2RzYS1zaGEyLW5pc3RwMzg0AAAACG5pc3RwMzg0AAAAYQTgzqbp5VQP6aJp6EPb\n+ruVAFaI8wPwDaOS6xO84Jaun9PFQ0F1s/3wg2nc72leYcXcmpd2wqXutFOcQVuo\nlY/MwF5vTU9Mvj+wjqeSSkDO/MoHTzlAHrwza3rRVo1LoHEAAADIIXHCoiFxwqIA\nAAATZWNkc2Etc2hhMi1uaXN0cDM4NAAAAAhuaXN0cDM4NAAAAGEE4M6m6eVUD+mi\naehD2/q7lQBWiPMD8A2jkusTvOCWrp/TxUNBdbP98INp3O9pXmHF3JqXdsKl7rRT\nnEFbqJWPzMBeb01PTL4/sI6nkkpAzvzKB085QB68M2t60VaNS6BxAAAAMAD1z0XU\nSpecpKD/u2IZ/GYfJ8/hhlTrvSauB4R8a0r9VKcEovyx+mQxIjele270TgAAAAA=\n-----END OPENSSH PRIVATE KEY-----\n",
            "private_key_pem": "-----BEGIN EC PRIVATE KEY-----\nMIGkAgEBBDAA9c9F1EqXnKSg/7tiGfxmHyfP4YZU670mrgeEfGtK/VSnBKL8sfpk\nMSI3pXtu9E6gBwYFK4EEACKhZANiAATgzqbp5VQP6aJp6EPb+ruVAFaI8wPwDaOS\n6xO84Jaun9PFQ0F1s/3wg2nc72leYcXcmpd2wqXutFOcQVuolY/MwF5vTU9Mvj+w\njqeSSkDO/MoHTzlAHrwza3rRVo1LoHE=\n-----END EC PRIVATE KEY-----\n",
            "private_key_pem_pkcs8": "-----BEGIN PRIVATE KEY-----\nMIG2AgEAMBAGByqGSM49AgEGBSuBBAAiBIGeMIGbAgEBBDAA9c9F1EqXnKSg/7ti\nGfxmHyfP4YZU670mrgeEfGtK/VSnBKL8sfpkMSI3pXtu9E6hZANiAATgzqbp5VQP\n6aJp6EPb+ruVAFaI8wPwDaOS6xO84Jaun9PFQ0F1s/3wg2nc72leYcXcmpd2wqXu\ntFOcQVuolY/MwF5vTU9Mvj+wjqeSSkDO/MoHTzlAHrwza3rRVo1LoHE=\n-----END PRIVATE KEY-----\n",
            "public_key_fingerprint_md5": "59:25:56:d5:7b:3a:3e:00:22:9b:90:be:2e:d4:aa:32",
            "public_key_fingerprint_sha256": "SHA256:Z1GgSmbW19jyZcFWLkPSaXxFNOnOjq1X2AWB8nrfHw8",
            "public_key_openssh": "ecdsa-sha2-nistp384 AAAAE2VjZHNhLXNoYTItbmlzdHAzODQAAAAIbmlzdHAzODQAAABhBODOpunlVA/pomnoQ9v6u5UAVojzA/ANo5LrE7zglq6f08VDQXWz/fCDadzvaV5hxdyal3bCpe60U5xBW6iVj8zAXm9NT0y+P7COp5JKQM78ygdPOUAevDNretFWjUugcQ==\n",
            "public_key_pem": "-----BEGIN PUBLIC KEY-----\nMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAE4M6m6eVUD+miaehD2/q7lQBWiPMD8A2j\nkusTvOCWrp/TxUNBdbP98INp3O9pXmHF3JqXdsKl7rRTnEFbqJWPzMBeb01PTL4/\nsI6nkkpAzvzKB085QB68M2t60VaNS6Bx\n-----END PUBLIC KEY-----\n",
            "rsa_bits": 2048
          },
          "sensitive_attributes": []
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "algorithm": "ECDSA",
            "ecdsa_curve": "P384",
            "id": "fbcbb1d6e15e0e60b5d74bb0faefca3047e80de2",
            "private_key_openssh": "-----BEGIN OPENSSH PRIVATE KEY-----\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAiAAAABNl\nY2RzYS1zaGEyLW5pc3RwMzg0AAAACG5pc3RwMzg0AAAAYQSt+/xe8GgflLLqxfp6\nGEsv+pRVxRl+6MArcMigAUcPJM+cHkfaMasU8Psrw3BEaLKhVUtWtY+PIJRvwFiO\nWdnyHHbnI7pQpPcid5b8nqPOCv7iNv/LDAwxnFDs05EFJWwAAADQRej2AUXo9gEA\nAAATZWNkc2Etc2hhMi1uaXN0cDM4NAAAAAhuaXN0cDM4NAAAAGEErfv8XvBoH5Sy\n6sX6ehhLL/qUVcUZfujAK3DIoAFHDyTPnB5H2jGrFPD7K8NwRGiyoVVLVrWPjyCU\nb8BYjlnZ8hx25yO6UKT3IneW/J6jzgr+4jb/ywwMMZxQ7NORBSVsAAAAMQDIbwn7\nOQdtB+3gHQfErOYQCBr6ikpo9rDbDwX0fU4J/OlMcN9gKSLEC5iYSGDYo94AAAAA\nAQIDBAUGBw==\n-----END OPENSSH PRIVATE KEY-----\n",
            "private_key_pem": "-----BEGIN EC PRIVATE KEY-----\nMIGkAgEBBDDIbwn7OQdtB+3gHQfErOYQCBr6ikpo9rDbDwX0fU4J/OlMcN9gKSLE\nC5iYSGDYo96gBwYFK4EEACKhZANiAASt+/xe8GgflLLqxfp6GEsv+pRVxRl+6MAr\ncMigAUcPJM+cHkfaMasU8Psrw3BEaLKhVUtWtY+PIJRvwFiOWdnyHHbnI7pQpPci\nd5b8nqPOCv7iNv/LDAwxnFDs05EFJWw=\n-----END EC PRIVATE KEY-----\n",
            "private_key_pem_pkcs8": "-----BEGIN PRIVATE KEY-----\nMIG2AgEAMBAGByqGSM49AgEGBSuBBAAiBIGeMIGbAgEBBDDIbwn7OQdtB+3gHQfE\nrOYQCBr6ikpo9rDbDwX0fU4J/OlMcN9gKSLEC5iYSGDYo96hZANiAASt+/xe8Ggf\nlLLqxfp6GEsv+pRVxRl+6MArcMigAUcPJM+cHkfaMasU8Psrw3BEaLKhVUtWtY+P\nIJRvwFiOWdnyHHbnI7pQpPcid5b8nqPOCv7iNv/LDAwxnFDs05EFJWw=\n-----END PRIVATE KEY-----\n",
            "public_key_fingerprint_md5": "54:56:b9:3d:83:ba:95:d6:a1:2d:b5:15:3e:2a:44:9f",
            "public_key_fingerprint_sha256": "SHA256:4N5zd7U/CNPGWcvtoSgDCaEuXPNzEGMaBmx2yGtBZY0",
            "public_key_openssh": "ecdsa-sha2-nistp384 AAAAE2VjZHNhLXNoYTItbmlzdHAzODQAAAAIbmlzdHAzODQAAABhBK37/F7waB+UsurF+noYSy/6lFXFGX7owCtwyKABRw8kz5weR9oxqxTw+yvDcERosqFVS1a1j48glG/AWI5Z2fIcducjulCk9yJ3lvyeo84K/uI2/8sMDDGcUOzTkQUlbA==\n",
            "public_key_pem": "-----BEGIN PUBLIC KEY-----\nMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAErfv8XvBoH5Sy6sX6ehhLL/qUVcUZfujA\nK3DIoAFHDyTPnB5H2jGrFPD7K8NwRGiyoVVLVrWPjyCUb8BYjlnZ8hx25yO6UKT3\nIneW/J6jzgr+4jb/ywwMMZxQ7NORBSVs\n-----END PUBLIC KEY-----\n",
            "rsa_bits": 2048
          },
          "sensitive_attributes": []
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "algorithm": "ECDSA",
            "ecdsa_curve": "P384",
            "id": "af00141ddc26efbb2f5f73646e712d869687aa86",
            "private_key_openssh": "-----BEGIN OPENSSH PRIVATE KEY-----\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAiAAAABNl\nY2RzYS1zaGEyLW5pc3RwMzg0AAAACG5pc3RwMzg0AAAAYQSRzxBJ0Pv31FHE+PTs\nez8LCm3Ck78sKSaQW4k0oC55sde41M1DjzRAK6O/cda5MvMHdT5LiKosESjNEzT5\napB2fEC11/hOP0/uh2LTN6KX6ccLisOdxPlEapykctFx54cAAADIH7Xsox+17KMA\nAAATZWNkc2Etc2hhMi1uaXN0cDM4NAAAAAhuaXN0cDM4NAAAAGEEkc8QSdD799RR\nxPj07Hs/CwptwpO/LCkmkFuJNKAuebHXuNTNQ480QCujv3HWuTLzB3U+S4iqLBEo\nzRM0+WqQdnxAtdf4Tj9P7odi0zeil+nHC4rDncT5RGqcpHLRceeHAAAAMCfE+jfy\nGbhdFEvKX0f0Nezq+O6Vxrh4OKEvR6U/4+O47KDRBoLsMJzzkgvCUxlC/gAAAAA=\n-----END OPENSSH PRIVATE KEY-----\n",
            "private_key_pem": "-----BEGIN EC PRIVATE KEY-----\nMIGkAgEBBDAnxPo38hm4XRRLyl9H9DXs6vjulca4eDihL0elP+PjuOyg0QaC7DCc\n85ILwlMZQv6gBwYFK4EEACKhZANiAASRzxBJ0Pv31FHE+PTsez8LCm3Ck78sKSaQ\nW4k0oC55sde41M1DjzRAK6O/cda5MvMHdT5LiKosESjNEzT5apB2fEC11/hOP0/u\nh2LTN6KX6ccLisOdxPlEapykctFx54c=\n-----END EC PRIVATE KEY-----\n",
            "private_key_pem_pkcs8": "-----BEGIN PRIVATE KEY-----\nMIG2AgEAMBAGByqGSM49AgEGBSuBBAAiBIGeMIGbAgEBBDAnxPo38hm4XRRLyl9H\n9DXs6vjulca4eDihL0elP+PjuOyg0QaC7DCc85ILwlMZQv6hZANiAASRzxBJ0Pv3\n1FHE+PTsez8LCm3Ck78sKSaQW4k0oC55sde41M1DjzRAK6O/cda5MvMHdT5LiKos\nESjNEzT5apB2fEC11/hOP0/uh2LTN6KX6ccLisOdxPlEapykctFx54c=\n-----END PRIVATE KEY-----\n",
            "public_key_fingerprint_md5": "ee:c0:bf:4c:66:35:fe:e0:c9:aa:10:42:df:89:1d:c8",
            "public_key_fingerprint_sha256": "SHA256:A6x98kObWRw61YTHzDxdAWxuZhX8UeMATOOe45N1JTg",
            "public_key_openssh": "ecdsa-sha2-nistp384 AAAAE2VjZHNhLXNoYTItbmlzdHAzODQAAAAIbmlzdHAzODQAAABhBJHPEEnQ+/fUUcT49Ox7PwsKbcKTvywpJpBbiTSgLnmx17jUzUOPNEAro79x1rky8wd1PkuIqiwRKM0TNPlqkHZ8QLXX+E4/T+6HYtM3opfpxwuKw53E+URqnKRy0XHnhw==\n",
            "public_key_pem": "-----BEGIN PUBLIC KEY-----\nMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEkc8QSdD799RRxPj07Hs/CwptwpO/LCkm\nkFuJNKAuebHXuNTNQ480QCujv3HWuTLzB3U+S4iqLBEozRM0+WqQdnxAtdf4Tj9P\n7odi0zeil+nHC4rDncT5RGqcpHLRceeH\n-----END PUBLIC KEY-----\n",
            "rsa_bits": 2048
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "tls_private_key",
      "name": "master_user",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "algorithm": "ECDSA",
            "ecdsa_curve": "P384",
            "id": "b9ac2e71b9c76c71ca4d11fa2b8dbc64f91d2833",
            "private_key_openssh": "-----BEGIN OPENSSH PRIVATE KEY-----\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAiAAAABNl\nY2RzYS1zaGEyLW5pc3RwMzg0AAAACG5pc3RwMzg0AAAAYQTvc2CI8pAz/g/MbhV5\nTtZW7Wf5dwwXk2+eh5mD+2tbDpmFKMtAvyqzrxKdSRPNJFBZum/kwgj/8en0TWHD\nFihHVKdOc8UM0RBXd83SUxf2f8pkgMOUG36lwH7CDAXfeU8AAADItZpxe7WacXsA\nAAATZWNkc2Etc2hhMi1uaXN0cDM4NAAAAAhuaXN0cDM4NAAAAGEE73NgiPKQM/4P\nzG4VeU7WVu1n+XcMF5NvnoeZg/trWw6ZhSjLQL8qs68SnUkTzSRQWbpv5MII//Hp\n9E1hwxYoR1SnTnPFDNEQV3fN0lMX9n/KZIDDlBt+pcB+wgwF33lPAAAAMF7jxPJJ\nWFaHjByiW/oQgYAd0ryJMAV1dHu8C9s00jXPRmC3bCw7TGhN6Z4XotjKbgAAAAA=\n-----END OPENSSH PRIVATE KEY-----\n",
            "private_key_pem": "-----BEGIN EC PRIVATE KEY-----\nMIGkAgEBBDBe48TySVhWh4wcolv6EIGAHdK8iTAFdXR7vAvbNNI1z0Zgt2wsO0xo\nTemeF6LYym6gBwYFK4EEACKhZANiAATvc2CI8pAz/g/MbhV5TtZW7Wf5dwwXk2+e\nh5mD+2tbDpmFKMtAvyqzrxKdSRPNJFBZum/kwgj/8en0TWHDFihHVKdOc8UM0RBX\nd83SUxf2f8pkgMOUG36lwH7CDAXfeU8=\n-----END EC PRIVATE KEY-----\n",
            "private_key_pem_pkcs8": "-----BEGIN PRIVATE KEY-----\nMIG2AgEAMBAGByqGSM49AgEGBSuBBAAiBIGeMIGbAgEBBDBe48TySVhWh4wcolv6\nEIGAHdK8iTAFdXR7vAvbNNI1z0Zgt2wsO0xoTemeF6LYym6hZANiAATvc2CI8pAz\n/g/MbhV5TtZW7Wf5dwwXk2+eh5mD+2tbDpmFKMtAvyqzrxKdSRPNJFBZum/kwgj/\n8en0TWHDFihHVKdOc8UM0RBXd83SUxf2f8pkgMOUG36lwH7CDAXfeU8=\n-----END PRIVATE KEY-----\n",
            "public_key_fingerprint_md5": "cd:01:ef:51:f9:02:b1:28:f2:43:38:54:2a:45:e5:2a",
            "public_key_fingerprint_sha256": "SHA256:75owec1KwCuBLjd/fqe2gIBMGIX+GOtgrDQKtYnTQQE",
            "public_key_openssh": "ecdsa-sha2-nistp384 AAAAE2VjZHNhLXNoYTItbmlzdHAzODQAAAAIbmlzdHAzODQAAABhBO9zYIjykDP+D8xuFXlO1lbtZ/l3DBeTb56HmYP7a1sOmYUoy0C/KrOvEp1JE80kUFm6b+TCCP/x6fRNYcMWKEdUp05zxQzREFd3zdJTF/Z/ymSAw5QbfqXAfsIMBd95Tw==\n",
            "public_key_pem": "-----BEGIN PUBLIC KEY-----\nMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAE73NgiPKQM/4PzG4VeU7WVu1n+XcMF5Nv\nnoeZg/trWw6ZhSjLQL8qs68SnUkTzSRQWbpv5MII//Hp9E1hwxYoR1SnTnPFDNEQ\nV3fN0lMX9n/KZIDDlBt+pcB+wgwF33lP\n-----END PUBLIC KEY-----\n",
            "rsa_bits": 2048
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.k3s",
      "mode": "managed",
      "type": "tls_self_signed_cert",
      "name": "kubernetes_ca_certs",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "index_key": "0",
          "schema_version": 0,
          "attributes": {
            "allowed_uses": [
              "digital_signature",
              "key_encipherment",
              "cert_signing"
            ],
            "cert_pem": "-----BEGIN CERTIFICATE-----\nMIIBvjCCAUOgAwIBAgIQGyualSkvHyKl2jxlTgFL2TAKBggqhkjOPQQDAzAfMR0w\nGwYDVQQDExRrdWJlcm5ldGVzLWNsaWVudC1jYTAgFw0yMzEyMjAwMTU1NThaGA8y\nMTIzMTIyMTAxNTU1OFowHzEdMBsGA1UEAxMUa3ViZXJuZXRlcy1jbGllbnQtY2Ew\ndjAQBgcqhkjOPQIBBgUrgQQAIgNiAATgzqbp5VQP6aJp6EPb+ruVAFaI8wPwDaOS\n6xO84Jaun9PFQ0F1s/3wg2nc72leYcXcmpd2wqXutFOcQVuolY/MwF5vTU9Mvj+w\njqeSSkDO/MoHTzlAHrwza3rRVo1LoHGjQjBAMA4GA1UdDwEB/wQEAwICpDAPBgNV\nHRMBAf8EBTADAQH/MB0GA1UdDgQWBBTz3Yn+EbUQp9bQcOLNwEyUDizdaDAKBggq\nhkjOPQQDAwNpADBmAjEAwK36YAuhqvbHvYpu++ZFeoMZ3+R1IfK3OkqURHmmSTtV\nfvR0PMcifTaP5ekCZ/6uAjEA5mXLpZZOr4LWFpDj76PLloDhloilzIBkd2Uzcp/3\nINOyH8QeMa11GzG9Ea8sEwzk\n-----END CERTIFICATE-----\n",
            "dns_names": null,
            "early_renewal_hours": 0,
            "id": "36115559959930755087759425105505111001",
            "ip_addresses": null,
            "is_ca_certificate": true,
            "key_algorithm": "ECDSA",
            "private_key_pem": "-----BEGIN EC PRIVATE KEY-----\nMIGkAgEBBDAA9c9F1EqXnKSg/7tiGfxmHyfP4YZU670mrgeEfGtK/VSnBKL8sfpk\nMSI3pXtu9E6gBwYFK4EEACKhZANiAATgzqbp5VQP6aJp6EPb+ruVAFaI8wPwDaOS\n6xO84Jaun9PFQ0F1s/3wg2nc72leYcXcmpd2wqXutFOcQVuolY/MwF5vTU9Mvj+w\njqeSSkDO/MoHTzlAHrwza3rRVo1LoHE=\n-----END EC PRIVATE KEY-----\n",
            "ready_for_renewal": false,
            "set_authority_key_id": false,
            "set_subject_key_id": false,
            "subject": [
              {
                "common_name": "kubernetes-client-ca",
                "country": null,
                "locality": null,
                "organization": null,
                "organizational_unit": null,
                "postal_code": null,
                "province": null,
                "serial_number": null,
                "street_address": null
              }
            ],
            "uris": null,
            "validity_end_time": "2123-12-21T09:55:58.536031+08:00",
            "validity_period_hours": 876600,
            "validity_start_time": "2023-12-20T09:55:58.536031+08:00"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "private_key_pem"
              }
            ]
          ],
          "dependencies": [
            "module.k3s.tls_private_key.kubernetes_ca"
          ]
        },
        {
          "index_key": "1",
          "schema_version": 0,
          "attributes": {
            "allowed_uses": [
              "digital_signature",
              "key_encipherment",
              "cert_signing"
            ],
            "cert_pem": "-----BEGIN CERTIFICATE-----\nMIIBvjCCAUOgAwIBAgIQHCVK9zS0V2NOIBd+zLI3EjAKBggqhkjOPQQDAzAfMR0w\nGwYDVQQDExRrdWJlcm5ldGVzLXNlcnZlci1jYTAgFw0yMzEyMjAwMTU1NThaGA8y\nMTIzMTIyMTAxNTU1OFowHzEdMBsGA1UEAxMUa3ViZXJuZXRlcy1zZXJ2ZXItY2Ew\ndjAQBgcqhkjOPQIBBgUrgQQAIgNiAASt+/xe8GgflLLqxfp6GEsv+pRVxRl+6MAr\ncMigAUcPJM+cHkfaMasU8Psrw3BEaLKhVUtWtY+PIJRvwFiOWdnyHHbnI7pQpPci\nd5b8nqPOCv7iNv/LDAwxnFDs05EFJWyjQjBAMA4GA1UdDwEB/wQEAwICpDAPBgNV\nHRMBAf8EBTADAQH/MB0GA1UdDgQWBBRGI+rYcdkj+x2sx1TW8i1OG5OhajAKBggq\nhkjOPQQDAwNpADBmAjEAvhpsARWMTt8UrPI7fRF4iqdmSONUyFvFOjof4SwwaGW2\nbC1ukKVIVY4hMv7E2Zx/AjEAiamkv88IxgnxnvtUohb29SS97RkwGMJFVtzUZngW\nS32dKZaafeZz4l1feEdyBu3G\n-----END CERTIFICATE-----\n",
            "dns_names": null,
            "early_renewal_hours": 0,
            "id": "37412019349721484146446758903077287698",
            "ip_addresses": null,
            "is_ca_certificate": true,
            "key_algorithm": "ECDSA",
            "private_key_pem": "-----BEGIN EC PRIVATE KEY-----\nMIGkAgEBBDDIbwn7OQdtB+3gHQfErOYQCBr6ikpo9rDbDwX0fU4J/OlMcN9gKSLE\nC5iYSGDYo96gBwYFK4EEACKhZANiAASt+/xe8GgflLLqxfp6GEsv+pRVxRl+6MAr\ncMigAUcPJM+cHkfaMasU8Psrw3BEaLKhVUtWtY+PIJRvwFiOWdnyHHbnI7pQpPci\nd5b8nqPOCv7iNv/LDAwxnFDs05EFJWw=\n-----END EC PRIVATE KEY-----\n",
            "ready_for_renewal": false,
            "set_authority_key_id": false,
            "set_subject_key_id": false,
            "subject": [
              {
                "common_name": "kubernetes-server-ca",
                "country": null,
                "locality": null,
                "organization": null,
                "organizational_unit": null,
                "postal_code": null,
                "province": null,
                "serial_number": null,
                "street_address": null
              }
            ],
            "uris": null,
            "validity_end_time": "2123-12-21T09:55:58.535602+08:00",
            "validity_period_hours": 876600,
            "validity_start_time": "2023-12-20T09:55:58.535602+08:00"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "private_key_pem"
              }
            ]
          ],
          "dependencies": [
            "module.k3s.tls_private_key.kubernetes_ca"
          ]
        },
        {
          "index_key": "2",
          "schema_version": 0,
          "attributes": {
            "allowed_uses": [
              "digital_signature",
              "key_encipherment",
              "cert_signing"
            ],
            "cert_pem": "-----BEGIN CERTIFICATE-----\nMIIB1jCCAVygAwIBAgIRAMdhXeLYhMlqhtzdOdTul0EwCgYIKoZIzj0EAwMwKzEp\nMCcGA1UEAxMga3ViZXJuZXRlcy1yZXF1ZXN0LWhlYWRlci1rZXktY2EwIBcNMjMx\nMjIwMDE1NTU4WhgPMjEyMzEyMjEwMTU1NThaMCsxKTAnBgNVBAMTIGt1YmVybmV0\nZXMtcmVxdWVzdC1oZWFkZXIta2V5LWNhMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAE\nkc8QSdD799RRxPj07Hs/CwptwpO/LCkmkFuJNKAuebHXuNTNQ480QCujv3HWuTLz\nB3U+S4iqLBEozRM0+WqQdnxAtdf4Tj9P7odi0zeil+nHC4rDncT5RGqcpHLRceeH\no0IwQDAOBgNVHQ8BAf8EBAMCAqQwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQU\n0cfeka/CBV9VzvhbsEcr/kyTtycwCgYIKoZIzj0EAwMDaAAwZQIxAKMSgAMu+QOz\nE3tStJQ0wR983bC9/vMj0zb1um1QpjGG3FGt+1y7Gpgs4h/mBK8E7QIwZS5YW4v3\njmf3t9l3eMsutRAxQZ41GEZSu/NU9w20FVssQFXT6QvTNPUfot5a8+x8\n-----END CERTIFICATE-----\n",
            "dns_names": null,
            "early_renewal_hours": 0,
            "id": "265021928193143296307250266218953611073",
            "ip_addresses": null,
            "is_ca_certificate": true,
            "key_algorithm": "ECDSA",
            "private_key_pem": "-----BEGIN EC PRIVATE KEY-----\nMIGkAgEBBDAnxPo38hm4XRRLyl9H9DXs6vjulca4eDihL0elP+PjuOyg0QaC7DCc\n85ILwlMZQv6gBwYFK4EEACKhZANiAASRzxBJ0Pv31FHE+PTsez8LCm3Ck78sKSaQ\nW4k0oC55sde41M1DjzRAK6O/cda5MvMHdT5LiKosESjNEzT5apB2fEC11/hOP0/u\nh2LTN6KX6ccLisOdxPlEapykctFx54c=\n-----END EC PRIVATE KEY-----\n",
            "ready_for_renewal": false,
            "set_authority_key_id": false,
            "set_subject_key_id": false,
            "subject": [
              {
                "common_name": "kubernetes-request-header-key-ca",
                "country": null,
                "locality": null,
                "organization": null,
                "organizational_unit": null,
                "postal_code": null,
                "province": null,
                "serial_number": null,
                "street_address": null
              }
            ],
            "uris": null,
            "validity_end_time": "2123-12-21T09:55:58.535879+08:00",
            "validity_period_hours": 876600,
            "validity_start_time": "2023-12-20T09:55:58.535879+08:00"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "private_key_pem"
              }
            ]
          ],
          "dependencies": [
            "module.k3s.tls_private_key.kubernetes_ca"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
